(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function hv(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var mp={exports:{}},zo={},pp={exports:{}},Te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oa=Symbol.for("react.element"),fv=Symbol.for("react.portal"),mv=Symbol.for("react.fragment"),pv=Symbol.for("react.strict_mode"),gv=Symbol.for("react.profiler"),yv=Symbol.for("react.provider"),vv=Symbol.for("react.context"),xv=Symbol.for("react.forward_ref"),wv=Symbol.for("react.suspense"),bv=Symbol.for("react.memo"),kv=Symbol.for("react.lazy"),Uh=Symbol.iterator;function Sv(e){return e===null||typeof e!="object"?null:(e=Uh&&e[Uh]||e["@@iterator"],typeof e=="function"?e:null)}var gp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yp=Object.assign,vp={};function Ss(e,t,r){this.props=e,this.context=t,this.refs=vp,this.updater=r||gp}Ss.prototype.isReactComponent={};Ss.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ss.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function xp(){}xp.prototype=Ss.prototype;function id(e,t,r){this.props=e,this.context=t,this.refs=vp,this.updater=r||gp}var sd=id.prototype=new xp;sd.constructor=id;yp(sd,Ss.prototype);sd.isPureReactComponent=!0;var Hh=Array.isArray,wp=Object.prototype.hasOwnProperty,ad={current:null},bp={key:!0,ref:!0,__self:!0,__source:!0};function kp(e,t,r){var n,i={},s=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)wp.call(t,n)&&!bp.hasOwnProperty(n)&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var o=Array(l),u=0;u<l;u++)o[u]=arguments[u+2];i.children=o}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Oa,type:e,key:s,ref:a,props:i,_owner:ad.current}}function _v(e,t){return{$$typeof:Oa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ld(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oa}function jv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Vh=/\/+/g;function p0(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jv(""+e.key):t.toString(36)}function zl(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Oa:case fv:a=!0}}if(a)return a=e,i=i(a),e=n===""?"."+p0(a,0):n,Hh(i)?(r="",e!=null&&(r=e.replace(Vh,"$&/")+"/"),zl(i,t,r,"",function(u){return u})):i!=null&&(ld(i)&&(i=_v(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Vh,"$&/")+"/")+e)),t.push(i)),1;if(a=0,n=n===""?".":n+":",Hh(e))for(var l=0;l<e.length;l++){s=e[l];var o=n+p0(s,l);a+=zl(s,t,r,o,i)}else if(o=Sv(e),typeof o=="function")for(e=o.call(e),l=0;!(s=e.next()).done;)s=s.value,o=n+p0(s,l++),a+=zl(s,t,r,o,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function Za(e,t,r){if(e==null)return e;var n=[],i=0;return zl(e,n,"","",function(s){return t.call(r,s,i++)}),n}function Nv(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Bt={current:null},Dl={transition:null},Cv={ReactCurrentDispatcher:Bt,ReactCurrentBatchConfig:Dl,ReactCurrentOwner:ad};function Sp(){throw Error("act(...) is not supported in production builds of React.")}Te.Children={map:Za,forEach:function(e,t,r){Za(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Za(e,function(){t++}),t},toArray:function(e){return Za(e,function(t){return t})||[]},only:function(e){if(!ld(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Te.Component=Ss;Te.Fragment=mv;Te.Profiler=gv;Te.PureComponent=id;Te.StrictMode=pv;Te.Suspense=wv;Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cv;Te.act=Sp;Te.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=yp({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=ad.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(o in t)wp.call(t,o)&&!bp.hasOwnProperty(o)&&(n[o]=t[o]===void 0&&l!==void 0?l[o]:t[o])}var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){l=Array(o);for(var u=0;u<o;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Oa,type:e.type,key:i,ref:s,props:n,_owner:a}};Te.createContext=function(e){return e={$$typeof:vv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yv,_context:e},e.Consumer=e};Te.createElement=kp;Te.createFactory=function(e){var t=kp.bind(null,e);return t.type=e,t};Te.createRef=function(){return{current:null}};Te.forwardRef=function(e){return{$$typeof:xv,render:e}};Te.isValidElement=ld;Te.lazy=function(e){return{$$typeof:kv,_payload:{_status:-1,_result:e},_init:Nv}};Te.memo=function(e,t){return{$$typeof:bv,type:e,compare:t===void 0?null:t}};Te.startTransition=function(e){var t=Dl.transition;Dl.transition={};try{e()}finally{Dl.transition=t}};Te.unstable_act=Sp;Te.useCallback=function(e,t){return Bt.current.useCallback(e,t)};Te.useContext=function(e){return Bt.current.useContext(e)};Te.useDebugValue=function(){};Te.useDeferredValue=function(e){return Bt.current.useDeferredValue(e)};Te.useEffect=function(e,t){return Bt.current.useEffect(e,t)};Te.useId=function(){return Bt.current.useId()};Te.useImperativeHandle=function(e,t,r){return Bt.current.useImperativeHandle(e,t,r)};Te.useInsertionEffect=function(e,t){return Bt.current.useInsertionEffect(e,t)};Te.useLayoutEffect=function(e,t){return Bt.current.useLayoutEffect(e,t)};Te.useMemo=function(e,t){return Bt.current.useMemo(e,t)};Te.useReducer=function(e,t,r){return Bt.current.useReducer(e,t,r)};Te.useRef=function(e){return Bt.current.useRef(e)};Te.useState=function(e){return Bt.current.useState(e)};Te.useSyncExternalStore=function(e,t,r){return Bt.current.useSyncExternalStore(e,t,r)};Te.useTransition=function(){return Bt.current.useTransition()};Te.version="18.3.1";pp.exports=Te;var F=pp.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev=F,Tv=Symbol.for("react.element"),Av=Symbol.for("react.fragment"),Mv=Object.prototype.hasOwnProperty,Pv=Ev.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Iv={key:!0,ref:!0,__self:!0,__source:!0};function _p(e,t,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)Mv.call(t,n)&&!Iv.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:Tv,type:e,key:s,ref:a,props:i,_owner:Pv.current}}zo.Fragment=Av;zo.jsx=_p;zo.jsxs=_p;mp.exports=zo;var c=mp.exports,jp={exports:{}},ur={},Np={exports:{}},Cp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t($,G){var C=$.length;$.push(G);e:for(;0<C;){var ge=C-1>>>1,ye=$[ge];if(0<i(ye,G))$[ge]=G,$[C]=ye,C=ge;else break e}}function r($){return $.length===0?null:$[0]}function n($){if($.length===0)return null;var G=$[0],C=$.pop();if(C!==G){$[0]=C;e:for(var ge=0,ye=$.length,A=ye>>>1;ge<A;){var ze=2*(ge+1)-1,st=$[ze],Me=ze+1,Je=$[Me];if(0>i(st,C))Me<ye&&0>i(Je,st)?($[ge]=Je,$[Me]=C,ge=Me):($[ge]=st,$[ze]=C,ge=ze);else if(Me<ye&&0>i(Je,C))$[ge]=Je,$[Me]=C,ge=Me;else break e}}return G}function i($,G){var C=$.sortIndex-G.sortIndex;return C!==0?C:$.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var o=[],u=[],d=1,h=null,m=3,f=!1,y=!1,k=!1,N=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x($){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=$)n(u),G.sortIndex=G.expirationTime,t(o,G);else break;G=r(u)}}function j($){if(k=!1,x($),!y)if(r(o)!==null)y=!0,Z(I);else{var G=r(u);G!==null&&ce(j,G.startTime-$)}}function I($,G){y=!1,k&&(k=!1,v(R),R=-1),f=!0;var C=m;try{for(x(G),h=r(o);h!==null&&(!(h.expirationTime>G)||$&&!U());){var ge=h.callback;if(typeof ge=="function"){h.callback=null,m=h.priorityLevel;var ye=ge(h.expirationTime<=G);G=e.unstable_now(),typeof ye=="function"?h.callback=ye:h===r(o)&&n(o),x(G)}else n(o);h=r(o)}if(h!==null)var A=!0;else{var ze=r(u);ze!==null&&ce(j,ze.startTime-G),A=!1}return A}finally{h=null,m=C,f=!1}}var _=!1,z=null,R=-1,q=5,M=-1;function U(){return!(e.unstable_now()-M<q)}function L(){if(z!==null){var $=e.unstable_now();M=$;var G=!0;try{G=z(!0,$)}finally{G?te():(_=!1,z=null)}}else _=!1}var te;if(typeof w=="function")te=function(){w(L)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,H=B.port2;B.port1.onmessage=L,te=function(){H.postMessage(null)}}else te=function(){N(L,0)};function Z($){z=$,_||(_=!0,te())}function ce($,G){R=N(function(){$(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function($){$.callback=null},e.unstable_continueExecution=function(){y||f||(y=!0,Z(I))},e.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<$?Math.floor(1e3/$):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return r(o)},e.unstable_next=function($){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var C=m;m=G;try{return $()}finally{m=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function($,G){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var C=m;m=$;try{return G()}finally{m=C}},e.unstable_scheduleCallback=function($,G,C){var ge=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?ge+C:ge):C=ge,$){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=C+ye,$={id:d++,callback:G,priorityLevel:$,startTime:C,expirationTime:ye,sortIndex:-1},C>ge?($.sortIndex=C,t(u,$),r(o)===null&&$===r(u)&&(k?(v(R),R=-1):k=!0,ce(j,C-ge))):($.sortIndex=ye,t(o,$),y||f||(y=!0,Z(I))),$},e.unstable_shouldYield=U,e.unstable_wrapCallback=function($){var G=m;return function(){var C=m;m=G;try{return $.apply(this,arguments)}finally{m=C}}}})(Cp);Np.exports=Cp;var zv=Np.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv=F,or=zv;function Q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ep=new Set,fa={};function ji(e,t){hs(e,t),hs(e+"Capture",t)}function hs(e,t){for(fa[e]=t,e=0;e<t.length;e++)Ep.add(t[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=Object.prototype.hasOwnProperty,Ov=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wh={},Gh={};function Lv(e){return Eu.call(Gh,e)?!0:Eu.call(Wh,e)?!1:Ov.test(e)?Gh[e]=!0:(Wh[e]=!0,!1)}function Rv(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Fv(e,t,r,n){if(t===null||typeof t>"u"||Rv(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $t(e,t,r,n,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_t[e]=new $t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_t[t]=new $t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){_t[e]=new $t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_t[e]=new $t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_t[e]=new $t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){_t[e]=new $t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){_t[e]=new $t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){_t[e]=new $t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){_t[e]=new $t(e,5,!1,e.toLowerCase(),null,!1,!1)});var od=/[\-:]([a-z])/g;function ud(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(od,ud);_t[t]=new $t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(od,ud);_t[t]=new $t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(od,ud);_t[t]=new $t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){_t[e]=new $t(e,1,!1,e.toLowerCase(),null,!1,!1)});_t.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){_t[e]=new $t(e,1,!1,e.toLowerCase(),null,!0,!0)});function cd(e,t,r,n){var i=_t.hasOwnProperty(t)?_t[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Fv(t,r,i,n)&&(r=null),n||i===null?Lv(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var yn=Dv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,el=Symbol.for("react.element"),Wi=Symbol.for("react.portal"),Gi=Symbol.for("react.fragment"),dd=Symbol.for("react.strict_mode"),Tu=Symbol.for("react.profiler"),Tp=Symbol.for("react.provider"),Ap=Symbol.for("react.context"),hd=Symbol.for("react.forward_ref"),Au=Symbol.for("react.suspense"),Mu=Symbol.for("react.suspense_list"),fd=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),Mp=Symbol.for("react.offscreen"),Kh=Symbol.iterator;function zs(e){return e===null||typeof e!="object"?null:(e=Kh&&e[Kh]||e["@@iterator"],typeof e=="function"?e:null)}var it=Object.assign,g0;function Vs(e){if(g0===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);g0=t&&t[1]||""}return`
`+g0+e}var y0=!1;function v0(e,t){if(!e||y0)return"";y0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,l=s.length-1;1<=a&&0<=l&&i[a]!==s[l];)l--;for(;1<=a&&0<=l;a--,l--)if(i[a]!==s[l]){if(a!==1||l!==1)do if(a--,l--,0>l||i[a]!==s[l]){var o=`
`+i[a].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=a&&0<=l);break}}}finally{y0=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Vs(e):""}function Bv(e){switch(e.tag){case 5:return Vs(e.type);case 16:return Vs("Lazy");case 13:return Vs("Suspense");case 19:return Vs("SuspenseList");case 0:case 2:case 15:return e=v0(e.type,!1),e;case 11:return e=v0(e.type.render,!1),e;case 1:return e=v0(e.type,!0),e;default:return""}}function Pu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Gi:return"Fragment";case Wi:return"Portal";case Tu:return"Profiler";case dd:return"StrictMode";case Au:return"Suspense";case Mu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ap:return(e.displayName||"Context")+".Consumer";case Tp:return(e._context.displayName||"Context")+".Provider";case hd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fd:return t=e.displayName||null,t!==null?t:Pu(e.type)||"Memo";case Cn:t=e._payload,e=e._init;try{return Pu(e(t))}catch{}}return null}function $v(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pu(t);case 8:return t===dd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Un(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Pp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qv(e){var t=Pp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function tl(e){e._valueTracker||(e._valueTracker=qv(e))}function Ip(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Pp(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Iu(e,t){var r=t.checked;return it({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Yh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Un(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zp(e,t){t=t.checked,t!=null&&cd(e,"checked",t,!1)}function zu(e,t){zp(e,t);var r=Un(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Du(e,t.type,r):t.hasOwnProperty("defaultValue")&&Du(e,t.type,Un(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Qh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Du(e,t,r){(t!=="number"||Ql(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ws=Array.isArray;function is(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Un(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ou(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Q(91));return it({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Q(92));if(Ws(r)){if(1<r.length)throw Error(Q(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Un(r)}}function Dp(e,t){var r=Un(t.value),n=Un(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Jh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Op(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Op(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rl,Lp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(rl=rl||document.createElement("div"),rl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=rl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ma(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Uv=["Webkit","ms","Moz","O"];Object.keys(Xs).forEach(function(e){Uv.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xs[t]=Xs[e]})});function Rp(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Xs.hasOwnProperty(e)&&Xs[e]?(""+t).trim():t+"px"}function Fp(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Rp(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var Hv=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ru(e,t){if(t){if(Hv[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Q(62))}}function Fu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bu=null;function md(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $u=null,ss=null,as=null;function Zh(e){if(e=Fa(e)){if(typeof $u!="function")throw Error(Q(280));var t=e.stateNode;t&&(t=Fo(t),$u(e.stateNode,e.type,t))}}function Bp(e){ss?as?as.push(e):as=[e]:ss=e}function $p(){if(ss){var e=ss,t=as;if(as=ss=null,Zh(e),t)for(e=0;e<t.length;e++)Zh(t[e])}}function qp(e,t){return e(t)}function Up(){}var x0=!1;function Hp(e,t,r){if(x0)return e(t,r);x0=!0;try{return qp(e,t,r)}finally{x0=!1,(ss!==null||as!==null)&&(Up(),$p())}}function pa(e,t){var r=e.stateNode;if(r===null)return null;var n=Fo(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Q(231,t,typeof r));return r}var qu=!1;if(cn)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){qu=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{qu=!1}function Vv(e,t,r,n,i,s,a,l,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Js=!1,Xl=null,Jl=!1,Uu=null,Wv={onError:function(e){Js=!0,Xl=e}};function Gv(e,t,r,n,i,s,a,l,o){Js=!1,Xl=null,Vv.apply(Wv,arguments)}function Kv(e,t,r,n,i,s,a,l,o){if(Gv.apply(this,arguments),Js){if(Js){var u=Xl;Js=!1,Xl=null}else throw Error(Q(198));Jl||(Jl=!0,Uu=u)}}function Ni(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Vp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ef(e){if(Ni(e)!==e)throw Error(Q(188))}function Yv(e){var t=e.alternate;if(!t){if(t=Ni(e),t===null)throw Error(Q(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return ef(i),e;if(s===n)return ef(i),t;s=s.sibling}throw Error(Q(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,l=i.child;l;){if(l===r){a=!0,r=i,n=s;break}if(l===n){a=!0,n=i,r=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===r){a=!0,r=s,n=i;break}if(l===n){a=!0,n=s,r=i;break}l=l.sibling}if(!a)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?e:t}function Wp(e){return e=Yv(e),e!==null?Gp(e):null}function Gp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gp(e);if(t!==null)return t;e=e.sibling}return null}var Kp=or.unstable_scheduleCallback,tf=or.unstable_cancelCallback,Qv=or.unstable_shouldYield,Xv=or.unstable_requestPaint,ut=or.unstable_now,Jv=or.unstable_getCurrentPriorityLevel,pd=or.unstable_ImmediatePriority,Yp=or.unstable_UserBlockingPriority,Zl=or.unstable_NormalPriority,Zv=or.unstable_LowPriority,Qp=or.unstable_IdlePriority,Do=null,Hr=null;function e3(e){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(Do,e,void 0,(e.current.flags&128)===128)}catch{}}var Pr=Math.clz32?Math.clz32:n3,t3=Math.log,r3=Math.LN2;function n3(e){return e>>>=0,e===0?32:31-(t3(e)/r3|0)|0}var nl=64,il=4194304;function Gs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function eo(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,a=r&268435455;if(a!==0){var l=a&~i;l!==0?n=Gs(l):(s&=a,s!==0&&(n=Gs(s)))}else a=r&~i,a!==0?n=Gs(a):s!==0&&(n=Gs(s));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pr(t),i=1<<r,n|=e[r],t&=~i;return n}function i3(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s3(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Pr(s),l=1<<a,o=i[a];o===-1?(!(l&r)||l&n)&&(i[a]=i3(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}}function Hu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Xp(){var e=nl;return nl<<=1,!(nl&4194240)&&(nl=64),e}function w0(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function La(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pr(t),e[t]=r}function a3(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Pr(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function gd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Le=0;function Jp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zp,yd,eg,tg,rg,Vu=!1,sl=[],Dn=null,On=null,Ln=null,ga=new Map,ya=new Map,Tn=[],l3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rf(e,t){switch(e){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":ga.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ya.delete(t.pointerId)}}function Os(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Fa(t),t!==null&&yd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function o3(e,t,r,n,i){switch(t){case"focusin":return Dn=Os(Dn,e,t,r,n,i),!0;case"dragenter":return On=Os(On,e,t,r,n,i),!0;case"mouseover":return Ln=Os(Ln,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return ga.set(s,Os(ga.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ya.set(s,Os(ya.get(s)||null,e,t,r,n,i)),!0}return!1}function ng(e){var t=hi(e.target);if(t!==null){var r=Ni(t);if(r!==null){if(t=r.tag,t===13){if(t=Vp(r),t!==null){e.blockedOn=t,rg(e.priority,function(){eg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ol(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bu=n,r.target.dispatchEvent(n),Bu=null}else return t=Fa(r),t!==null&&yd(t),e.blockedOn=r,!1;t.shift()}return!0}function nf(e,t,r){Ol(e)&&r.delete(t)}function u3(){Vu=!1,Dn!==null&&Ol(Dn)&&(Dn=null),On!==null&&Ol(On)&&(On=null),Ln!==null&&Ol(Ln)&&(Ln=null),ga.forEach(nf),ya.forEach(nf)}function Ls(e,t){e.blockedOn===t&&(e.blockedOn=null,Vu||(Vu=!0,or.unstable_scheduleCallback(or.unstable_NormalPriority,u3)))}function va(e){function t(i){return Ls(i,e)}if(0<sl.length){Ls(sl[0],e);for(var r=1;r<sl.length;r++){var n=sl[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Dn!==null&&Ls(Dn,e),On!==null&&Ls(On,e),Ln!==null&&Ls(Ln,e),ga.forEach(t),ya.forEach(t),r=0;r<Tn.length;r++)n=Tn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Tn.length&&(r=Tn[0],r.blockedOn===null);)ng(r),r.blockedOn===null&&Tn.shift()}var ls=yn.ReactCurrentBatchConfig,to=!0;function c3(e,t,r,n){var i=Le,s=ls.transition;ls.transition=null;try{Le=1,vd(e,t,r,n)}finally{Le=i,ls.transition=s}}function d3(e,t,r,n){var i=Le,s=ls.transition;ls.transition=null;try{Le=4,vd(e,t,r,n)}finally{Le=i,ls.transition=s}}function vd(e,t,r,n){if(to){var i=Wu(e,t,r,n);if(i===null)A0(e,t,n,ro,r),rf(e,n);else if(o3(i,e,t,r,n))n.stopPropagation();else if(rf(e,n),t&4&&-1<l3.indexOf(e)){for(;i!==null;){var s=Fa(i);if(s!==null&&Zp(s),s=Wu(e,t,r,n),s===null&&A0(e,t,n,ro,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else A0(e,t,n,null,r)}}var ro=null;function Wu(e,t,r,n){if(ro=null,e=md(n),e=hi(e),e!==null)if(t=Ni(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Vp(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ro=e,null}function ig(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jv()){case pd:return 1;case Yp:return 4;case Zl:case Zv:return 16;case Qp:return 536870912;default:return 16}default:return 16}}var Pn=null,xd=null,Ll=null;function sg(){if(Ll)return Ll;var e,t=xd,r=t.length,n,i="value"in Pn?Pn.value:Pn.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===i[s-n];n++);return Ll=i.slice(e,1<n?1-n:void 0)}function Rl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function al(){return!0}function sf(){return!1}function cr(e){function t(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?al:sf,this.isPropagationStopped=sf,this}return it(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=al)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=al)},persist:function(){},isPersistent:al}),t}var _s={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wd=cr(_s),Ra=it({},_s,{view:0,detail:0}),h3=cr(Ra),b0,k0,Rs,Oo=it({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rs&&(Rs&&e.type==="mousemove"?(b0=e.screenX-Rs.screenX,k0=e.screenY-Rs.screenY):k0=b0=0,Rs=e),b0)},movementY:function(e){return"movementY"in e?e.movementY:k0}}),af=cr(Oo),f3=it({},Oo,{dataTransfer:0}),m3=cr(f3),p3=it({},Ra,{relatedTarget:0}),S0=cr(p3),g3=it({},_s,{animationName:0,elapsedTime:0,pseudoElement:0}),y3=cr(g3),v3=it({},_s,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),x3=cr(v3),w3=it({},_s,{data:0}),lf=cr(w3),b3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _3(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S3[e])?!!t[e]:!1}function bd(){return _3}var j3=it({},Ra,{key:function(e){if(e.key){var t=b3[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?k3[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bd,charCode:function(e){return e.type==="keypress"?Rl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),N3=cr(j3),C3=it({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=cr(C3),E3=it({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bd}),T3=cr(E3),A3=it({},_s,{propertyName:0,elapsedTime:0,pseudoElement:0}),M3=cr(A3),P3=it({},Oo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),I3=cr(P3),z3=[9,13,27,32],kd=cn&&"CompositionEvent"in window,Zs=null;cn&&"documentMode"in document&&(Zs=document.documentMode);var D3=cn&&"TextEvent"in window&&!Zs,ag=cn&&(!kd||Zs&&8<Zs&&11>=Zs),uf=" ",cf=!1;function lg(e,t){switch(e){case"keyup":return z3.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function og(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ki=!1;function O3(e,t){switch(e){case"compositionend":return og(t);case"keypress":return t.which!==32?null:(cf=!0,uf);case"textInput":return e=t.data,e===uf&&cf?null:e;default:return null}}function L3(e,t){if(Ki)return e==="compositionend"||!kd&&lg(e,t)?(e=sg(),Ll=xd=Pn=null,Ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ag&&t.locale!=="ko"?null:t.data;default:return null}}var R3={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function df(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!R3[e.type]:t==="textarea"}function ug(e,t,r,n){Bp(n),t=no(t,"onChange"),0<t.length&&(r=new wd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ea=null,xa=null;function F3(e){wg(e,0)}function Lo(e){var t=Xi(e);if(Ip(t))return e}function B3(e,t){if(e==="change")return t}var cg=!1;if(cn){var _0;if(cn){var j0="oninput"in document;if(!j0){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),j0=typeof hf.oninput=="function"}_0=j0}else _0=!1;cg=_0&&(!document.documentMode||9<document.documentMode)}function ff(){ea&&(ea.detachEvent("onpropertychange",dg),xa=ea=null)}function dg(e){if(e.propertyName==="value"&&Lo(xa)){var t=[];ug(t,xa,e,md(e)),Hp(F3,t)}}function $3(e,t,r){e==="focusin"?(ff(),ea=t,xa=r,ea.attachEvent("onpropertychange",dg)):e==="focusout"&&ff()}function q3(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lo(xa)}function U3(e,t){if(e==="click")return Lo(t)}function H3(e,t){if(e==="input"||e==="change")return Lo(t)}function V3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dr=typeof Object.is=="function"?Object.is:V3;function wa(e,t){if(Dr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Eu.call(t,i)||!Dr(e[i],t[i]))return!1}return!0}function mf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pf(e,t){var r=mf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mf(r)}}function hg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fg(){for(var e=window,t=Ql();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Ql(e.document)}return t}function Sd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function W3(e){var t=fg(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hg(r.ownerDocument.documentElement,r)){if(n!==null&&Sd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=pf(r,s);var a=pf(r,n);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var G3=cn&&"documentMode"in document&&11>=document.documentMode,Yi=null,Gu=null,ta=null,Ku=!1;function gf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ku||Yi==null||Yi!==Ql(n)||(n=Yi,"selectionStart"in n&&Sd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ta&&wa(ta,n)||(ta=n,n=no(Gu,"onSelect"),0<n.length&&(t=new wd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Yi)))}function ll(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Qi={animationend:ll("Animation","AnimationEnd"),animationiteration:ll("Animation","AnimationIteration"),animationstart:ll("Animation","AnimationStart"),transitionend:ll("Transition","TransitionEnd")},N0={},mg={};cn&&(mg=document.createElement("div").style,"AnimationEvent"in window||(delete Qi.animationend.animation,delete Qi.animationiteration.animation,delete Qi.animationstart.animation),"TransitionEvent"in window||delete Qi.transitionend.transition);function Ro(e){if(N0[e])return N0[e];if(!Qi[e])return e;var t=Qi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mg)return N0[e]=t[r];return e}var pg=Ro("animationend"),gg=Ro("animationiteration"),yg=Ro("animationstart"),vg=Ro("transitionend"),xg=new Map,yf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yn(e,t){xg.set(e,t),ji(t,[e])}for(var C0=0;C0<yf.length;C0++){var E0=yf[C0],K3=E0.toLowerCase(),Y3=E0[0].toUpperCase()+E0.slice(1);Yn(K3,"on"+Y3)}Yn(pg,"onAnimationEnd");Yn(gg,"onAnimationIteration");Yn(yg,"onAnimationStart");Yn("dblclick","onDoubleClick");Yn("focusin","onFocus");Yn("focusout","onBlur");Yn(vg,"onTransitionEnd");hs("onMouseEnter",["mouseout","mouseover"]);hs("onMouseLeave",["mouseout","mouseover"]);hs("onPointerEnter",["pointerout","pointerover"]);hs("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ks="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Q3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ks));function vf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Kv(n,t,void 0,e),e.currentTarget=null}function wg(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var a=n.length-1;0<=a;a--){var l=n[a],o=l.instance,u=l.currentTarget;if(l=l.listener,o!==s&&i.isPropagationStopped())break e;vf(i,l,u),s=o}else for(a=0;a<n.length;a++){if(l=n[a],o=l.instance,u=l.currentTarget,l=l.listener,o!==s&&i.isPropagationStopped())break e;vf(i,l,u),s=o}}}if(Jl)throw e=Uu,Jl=!1,Uu=null,e}function Ge(e,t){var r=t[Zu];r===void 0&&(r=t[Zu]=new Set);var n=e+"__bubble";r.has(n)||(bg(t,e,2,!1),r.add(n))}function T0(e,t,r){var n=0;t&&(n|=4),bg(r,e,n,t)}var ol="_reactListening"+Math.random().toString(36).slice(2);function ba(e){if(!e[ol]){e[ol]=!0,Ep.forEach(function(r){r!=="selectionchange"&&(Q3.has(r)||T0(r,!1,e),T0(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ol]||(t[ol]=!0,T0("selectionchange",!1,t))}}function bg(e,t,r,n){switch(ig(t)){case 1:var i=c3;break;case 4:i=d3;break;default:i=vd}r=i.bind(null,t,r,e),i=void 0,!qu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function A0(e,t,r,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var o=a.tag;if((o===3||o===4)&&(o=a.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;a=a.return}for(;l!==null;){if(a=hi(l),a===null)return;if(o=a.tag,o===5||o===6){n=s=a;continue e}l=l.parentNode}}n=n.return}Hp(function(){var u=s,d=md(r),h=[];e:{var m=xg.get(e);if(m!==void 0){var f=wd,y=e;switch(e){case"keypress":if(Rl(r)===0)break e;case"keydown":case"keyup":f=N3;break;case"focusin":y="focus",f=S0;break;case"focusout":y="blur",f=S0;break;case"beforeblur":case"afterblur":f=S0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=af;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=m3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=T3;break;case pg:case gg:case yg:f=y3;break;case vg:f=M3;break;case"scroll":f=h3;break;case"wheel":f=I3;break;case"copy":case"cut":case"paste":f=x3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=of}var k=(t&4)!==0,N=!k&&e==="scroll",v=k?m!==null?m+"Capture":null:m;k=[];for(var w=u,x;w!==null;){x=w;var j=x.stateNode;if(x.tag===5&&j!==null&&(x=j,v!==null&&(j=pa(w,v),j!=null&&k.push(ka(w,j,x)))),N)break;w=w.return}0<k.length&&(m=new f(m,y,null,r,d),h.push({event:m,listeners:k}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",m&&r!==Bu&&(y=r.relatedTarget||r.fromElement)&&(hi(y)||y[dn]))break e;if((f||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,f?(y=r.relatedTarget||r.toElement,f=u,y=y?hi(y):null,y!==null&&(N=Ni(y),y!==N||y.tag!==5&&y.tag!==6)&&(y=null)):(f=null,y=u),f!==y)){if(k=af,j="onMouseLeave",v="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(k=of,j="onPointerLeave",v="onPointerEnter",w="pointer"),N=f==null?m:Xi(f),x=y==null?m:Xi(y),m=new k(j,w+"leave",f,r,d),m.target=N,m.relatedTarget=x,j=null,hi(d)===u&&(k=new k(v,w+"enter",y,r,d),k.target=x,k.relatedTarget=N,j=k),N=j,f&&y)t:{for(k=f,v=y,w=0,x=k;x;x=Pi(x))w++;for(x=0,j=v;j;j=Pi(j))x++;for(;0<w-x;)k=Pi(k),w--;for(;0<x-w;)v=Pi(v),x--;for(;w--;){if(k===v||v!==null&&k===v.alternate)break t;k=Pi(k),v=Pi(v)}k=null}else k=null;f!==null&&xf(h,m,f,k,!1),y!==null&&N!==null&&xf(h,N,y,k,!0)}}e:{if(m=u?Xi(u):window,f=m.nodeName&&m.nodeName.toLowerCase(),f==="select"||f==="input"&&m.type==="file")var I=B3;else if(df(m))if(cg)I=H3;else{I=q3;var _=$3}else(f=m.nodeName)&&f.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(I=U3);if(I&&(I=I(e,u))){ug(h,I,r,d);break e}_&&_(e,m,u),e==="focusout"&&(_=m._wrapperState)&&_.controlled&&m.type==="number"&&Du(m,"number",m.value)}switch(_=u?Xi(u):window,e){case"focusin":(df(_)||_.contentEditable==="true")&&(Yi=_,Gu=u,ta=null);break;case"focusout":ta=Gu=Yi=null;break;case"mousedown":Ku=!0;break;case"contextmenu":case"mouseup":case"dragend":Ku=!1,gf(h,r,d);break;case"selectionchange":if(G3)break;case"keydown":case"keyup":gf(h,r,d)}var z;if(kd)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ki?lg(e,r)&&(R="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(ag&&r.locale!=="ko"&&(Ki||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ki&&(z=sg()):(Pn=d,xd="value"in Pn?Pn.value:Pn.textContent,Ki=!0)),_=no(u,R),0<_.length&&(R=new lf(R,e,null,r,d),h.push({event:R,listeners:_}),z?R.data=z:(z=og(r),z!==null&&(R.data=z)))),(z=D3?O3(e,r):L3(e,r))&&(u=no(u,"onBeforeInput"),0<u.length&&(d=new lf("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=z))}wg(h,t)})}function ka(e,t,r){return{instance:e,listener:t,currentTarget:r}}function no(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pa(e,r),s!=null&&n.unshift(ka(e,s,i)),s=pa(e,t),s!=null&&n.push(ka(e,s,i))),e=e.return}return n}function Pi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function xf(e,t,r,n,i){for(var s=t._reactName,a=[];r!==null&&r!==n;){var l=r,o=l.alternate,u=l.stateNode;if(o!==null&&o===n)break;l.tag===5&&u!==null&&(l=u,i?(o=pa(r,s),o!=null&&a.unshift(ka(r,o,l))):i||(o=pa(r,s),o!=null&&a.push(ka(r,o,l)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var X3=/\r\n?/g,J3=/\u0000|\uFFFD/g;function wf(e){return(typeof e=="string"?e:""+e).replace(X3,`
`).replace(J3,"")}function ul(e,t,r){if(t=wf(t),wf(e)!==t&&r)throw Error(Q(425))}function io(){}var Yu=null,Qu=null;function Xu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=typeof setTimeout=="function"?setTimeout:void 0,Z3=typeof clearTimeout=="function"?clearTimeout:void 0,bf=typeof Promise=="function"?Promise:void 0,e5=typeof queueMicrotask=="function"?queueMicrotask:typeof bf<"u"?function(e){return bf.resolve(null).then(e).catch(t5)}:Ju;function t5(e){setTimeout(function(){throw e})}function M0(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),va(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);va(t)}function Rn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function kf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var js=Math.random().toString(36).slice(2),$r="__reactFiber$"+js,Sa="__reactProps$"+js,dn="__reactContainer$"+js,Zu="__reactEvents$"+js,r5="__reactListeners$"+js,n5="__reactHandles$"+js;function hi(e){var t=e[$r];if(t)return t;for(var r=e.parentNode;r;){if(t=r[dn]||r[$r]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=kf(e);e!==null;){if(r=e[$r])return r;e=kf(e)}return t}e=r,r=e.parentNode}return null}function Fa(e){return e=e[$r]||e[dn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Q(33))}function Fo(e){return e[Sa]||null}var ec=[],Ji=-1;function Qn(e){return{current:e}}function Ke(e){0>Ji||(e.current=ec[Ji],ec[Ji]=null,Ji--)}function Ve(e,t){Ji++,ec[Ji]=e.current,e.current=t}var Hn={},At=Qn(Hn),Kt=Qn(!1),vi=Hn;function fs(e,t){var r=e.type.contextTypes;if(!r)return Hn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Yt(e){return e=e.childContextTypes,e!=null}function so(){Ke(Kt),Ke(At)}function Sf(e,t,r){if(At.current!==Hn)throw Error(Q(168));Ve(At,t),Ve(Kt,r)}function kg(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Q(108,$v(e)||"Unknown",i));return it({},r,n)}function ao(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hn,vi=At.current,Ve(At,e),Ve(Kt,Kt.current),!0}function _f(e,t,r){var n=e.stateNode;if(!n)throw Error(Q(169));r?(e=kg(e,t,vi),n.__reactInternalMemoizedMergedChildContext=e,Ke(Kt),Ke(At),Ve(At,e)):Ke(Kt),Ve(Kt,r)}var tn=null,Bo=!1,P0=!1;function Sg(e){tn===null?tn=[e]:tn.push(e)}function i5(e){Bo=!0,Sg(e)}function Xn(){if(!P0&&tn!==null){P0=!0;var e=0,t=Le;try{var r=tn;for(Le=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}tn=null,Bo=!1}catch(i){throw tn!==null&&(tn=tn.slice(e+1)),Kp(pd,Xn),i}finally{Le=t,P0=!1}}return null}var Zi=[],es=0,lo=null,oo=0,hr=[],fr=0,xi=null,nn=1,sn="";function li(e,t){Zi[es++]=oo,Zi[es++]=lo,lo=e,oo=t}function _g(e,t,r){hr[fr++]=nn,hr[fr++]=sn,hr[fr++]=xi,xi=e;var n=nn;e=sn;var i=32-Pr(n)-1;n&=~(1<<i),r+=1;var s=32-Pr(t)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,nn=1<<32-Pr(t)+i|r<<i|n,sn=s+e}else nn=1<<s|r<<i|n,sn=e}function _d(e){e.return!==null&&(li(e,1),_g(e,1,0))}function jd(e){for(;e===lo;)lo=Zi[--es],Zi[es]=null,oo=Zi[--es],Zi[es]=null;for(;e===xi;)xi=hr[--fr],hr[fr]=null,sn=hr[--fr],hr[fr]=null,nn=hr[--fr],hr[fr]=null}var ar=null,sr=null,Qe=!1,Mr=null;function jg(e,t){var r=pr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function jf(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ar=e,sr=Rn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ar=e,sr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=xi!==null?{id:nn,overflow:sn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=pr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,ar=e,sr=null,!0):!1;default:return!1}}function tc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rc(e){if(Qe){var t=sr;if(t){var r=t;if(!jf(e,t)){if(tc(e))throw Error(Q(418));t=Rn(r.nextSibling);var n=ar;t&&jf(e,t)?jg(n,r):(e.flags=e.flags&-4097|2,Qe=!1,ar=e)}}else{if(tc(e))throw Error(Q(418));e.flags=e.flags&-4097|2,Qe=!1,ar=e}}}function Nf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ar=e}function cl(e){if(e!==ar)return!1;if(!Qe)return Nf(e),Qe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xu(e.type,e.memoizedProps)),t&&(t=sr)){if(tc(e))throw Ng(),Error(Q(418));for(;t;)jg(e,t),t=Rn(t.nextSibling)}if(Nf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){sr=Rn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}sr=null}}else sr=ar?Rn(e.stateNode.nextSibling):null;return!0}function Ng(){for(var e=sr;e;)e=Rn(e.nextSibling)}function ms(){sr=ar=null,Qe=!1}function Nd(e){Mr===null?Mr=[e]:Mr.push(e)}var s5=yn.ReactCurrentBatchConfig;function Fs(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var l=i.refs;a===null?delete l[s]:l[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,e))}return e}function dl(e,t){throw e=Object.prototype.toString.call(t),Error(Q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Cf(e){var t=e._init;return t(e._payload)}function Cg(e){function t(v,w){if(e){var x=v.deletions;x===null?(v.deletions=[w],v.flags|=16):x.push(w)}}function r(v,w){if(!e)return null;for(;w!==null;)t(v,w),w=w.sibling;return null}function n(v,w){for(v=new Map;w!==null;)w.key!==null?v.set(w.key,w):v.set(w.index,w),w=w.sibling;return v}function i(v,w){return v=qn(v,w),v.index=0,v.sibling=null,v}function s(v,w,x){return v.index=x,e?(x=v.alternate,x!==null?(x=x.index,x<w?(v.flags|=2,w):x):(v.flags|=2,w)):(v.flags|=1048576,w)}function a(v){return e&&v.alternate===null&&(v.flags|=2),v}function l(v,w,x,j){return w===null||w.tag!==6?(w=F0(x,v.mode,j),w.return=v,w):(w=i(w,x),w.return=v,w)}function o(v,w,x,j){var I=x.type;return I===Gi?d(v,w,x.props.children,j,x.key):w!==null&&(w.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Cn&&Cf(I)===w.type)?(j=i(w,x.props),j.ref=Fs(v,w,x),j.return=v,j):(j=Vl(x.type,x.key,x.props,null,v.mode,j),j.ref=Fs(v,w,x),j.return=v,j)}function u(v,w,x,j){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=B0(x,v.mode,j),w.return=v,w):(w=i(w,x.children||[]),w.return=v,w)}function d(v,w,x,j,I){return w===null||w.tag!==7?(w=yi(x,v.mode,j,I),w.return=v,w):(w=i(w,x),w.return=v,w)}function h(v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=F0(""+w,v.mode,x),w.return=v,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case el:return x=Vl(w.type,w.key,w.props,null,v.mode,x),x.ref=Fs(v,null,w),x.return=v,x;case Wi:return w=B0(w,v.mode,x),w.return=v,w;case Cn:var j=w._init;return h(v,j(w._payload),x)}if(Ws(w)||zs(w))return w=yi(w,v.mode,x,null),w.return=v,w;dl(v,w)}return null}function m(v,w,x,j){var I=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return I!==null?null:l(v,w,""+x,j);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case el:return x.key===I?o(v,w,x,j):null;case Wi:return x.key===I?u(v,w,x,j):null;case Cn:return I=x._init,m(v,w,I(x._payload),j)}if(Ws(x)||zs(x))return I!==null?null:d(v,w,x,j,null);dl(v,x)}return null}function f(v,w,x,j,I){if(typeof j=="string"&&j!==""||typeof j=="number")return v=v.get(x)||null,l(w,v,""+j,I);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case el:return v=v.get(j.key===null?x:j.key)||null,o(w,v,j,I);case Wi:return v=v.get(j.key===null?x:j.key)||null,u(w,v,j,I);case Cn:var _=j._init;return f(v,w,x,_(j._payload),I)}if(Ws(j)||zs(j))return v=v.get(x)||null,d(w,v,j,I,null);dl(w,j)}return null}function y(v,w,x,j){for(var I=null,_=null,z=w,R=w=0,q=null;z!==null&&R<x.length;R++){z.index>R?(q=z,z=null):q=z.sibling;var M=m(v,z,x[R],j);if(M===null){z===null&&(z=q);break}e&&z&&M.alternate===null&&t(v,z),w=s(M,w,R),_===null?I=M:_.sibling=M,_=M,z=q}if(R===x.length)return r(v,z),Qe&&li(v,R),I;if(z===null){for(;R<x.length;R++)z=h(v,x[R],j),z!==null&&(w=s(z,w,R),_===null?I=z:_.sibling=z,_=z);return Qe&&li(v,R),I}for(z=n(v,z);R<x.length;R++)q=f(z,v,R,x[R],j),q!==null&&(e&&q.alternate!==null&&z.delete(q.key===null?R:q.key),w=s(q,w,R),_===null?I=q:_.sibling=q,_=q);return e&&z.forEach(function(U){return t(v,U)}),Qe&&li(v,R),I}function k(v,w,x,j){var I=zs(x);if(typeof I!="function")throw Error(Q(150));if(x=I.call(x),x==null)throw Error(Q(151));for(var _=I=null,z=w,R=w=0,q=null,M=x.next();z!==null&&!M.done;R++,M=x.next()){z.index>R?(q=z,z=null):q=z.sibling;var U=m(v,z,M.value,j);if(U===null){z===null&&(z=q);break}e&&z&&U.alternate===null&&t(v,z),w=s(U,w,R),_===null?I=U:_.sibling=U,_=U,z=q}if(M.done)return r(v,z),Qe&&li(v,R),I;if(z===null){for(;!M.done;R++,M=x.next())M=h(v,M.value,j),M!==null&&(w=s(M,w,R),_===null?I=M:_.sibling=M,_=M);return Qe&&li(v,R),I}for(z=n(v,z);!M.done;R++,M=x.next())M=f(z,v,R,M.value,j),M!==null&&(e&&M.alternate!==null&&z.delete(M.key===null?R:M.key),w=s(M,w,R),_===null?I=M:_.sibling=M,_=M);return e&&z.forEach(function(L){return t(v,L)}),Qe&&li(v,R),I}function N(v,w,x,j){if(typeof x=="object"&&x!==null&&x.type===Gi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case el:e:{for(var I=x.key,_=w;_!==null;){if(_.key===I){if(I=x.type,I===Gi){if(_.tag===7){r(v,_.sibling),w=i(_,x.props.children),w.return=v,v=w;break e}}else if(_.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Cn&&Cf(I)===_.type){r(v,_.sibling),w=i(_,x.props),w.ref=Fs(v,_,x),w.return=v,v=w;break e}r(v,_);break}else t(v,_);_=_.sibling}x.type===Gi?(w=yi(x.props.children,v.mode,j,x.key),w.return=v,v=w):(j=Vl(x.type,x.key,x.props,null,v.mode,j),j.ref=Fs(v,w,x),j.return=v,v=j)}return a(v);case Wi:e:{for(_=x.key;w!==null;){if(w.key===_)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){r(v,w.sibling),w=i(w,x.children||[]),w.return=v,v=w;break e}else{r(v,w);break}else t(v,w);w=w.sibling}w=B0(x,v.mode,j),w.return=v,v=w}return a(v);case Cn:return _=x._init,N(v,w,_(x._payload),j)}if(Ws(x))return y(v,w,x,j);if(zs(x))return k(v,w,x,j);dl(v,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(r(v,w.sibling),w=i(w,x),w.return=v,v=w):(r(v,w),w=F0(x,v.mode,j),w.return=v,v=w),a(v)):r(v,w)}return N}var ps=Cg(!0),Eg=Cg(!1),uo=Qn(null),co=null,ts=null,Cd=null;function Ed(){Cd=ts=co=null}function Td(e){var t=uo.current;Ke(uo),e._currentValue=t}function nc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function os(e,t){co=e,Cd=ts=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gt=!0),e.firstContext=null)}function xr(e){var t=e._currentValue;if(Cd!==e)if(e={context:e,memoizedValue:t,next:null},ts===null){if(co===null)throw Error(Q(308));ts=e,co.dependencies={lanes:0,firstContext:e}}else ts=ts.next=e;return t}var fi=null;function Ad(e){fi===null?fi=[e]:fi.push(e)}function Tg(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Ad(t)):(r.next=i.next,i.next=r),t.interleaved=r,hn(e,n)}function hn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var En=!1;function Md(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ag(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function an(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Pe&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,hn(e,r)}return i=n.interleaved,i===null?(t.next=t,Ad(n)):(t.next=i.next,i.next=t),n.interleaved=t,hn(e,r)}function Fl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gd(e,r)}}function Ef(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ho(e,t,r,n){var i=e.updateQueue;En=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var o=l,u=o.next;o.next=null,a===null?s=u:a.next=u,a=o;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==a&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=o))}if(s!==null){var h=i.baseState;a=0,d=u=o=null,l=s;do{var m=l.lane,f=l.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:f,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,k=l;switch(m=t,f=r,k.tag){case 1:if(y=k.payload,typeof y=="function"){h=y.call(f,h,m);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=k.payload,m=typeof y=="function"?y.call(f,h,m):y,m==null)break e;h=it({},h,m);break e;case 2:En=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else f={eventTime:f,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=f,o=h):d=d.next=f,a|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(d===null&&(o=h),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);bi|=a,e.lanes=a,e.memoizedState=h}}function Tf(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Q(191,i));i.call(n)}}}var Ba={},Vr=Qn(Ba),_a=Qn(Ba),ja=Qn(Ba);function mi(e){if(e===Ba)throw Error(Q(174));return e}function Pd(e,t){switch(Ve(ja,t),Ve(_a,e),Ve(Vr,Ba),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Lu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Lu(t,e)}Ke(Vr),Ve(Vr,t)}function gs(){Ke(Vr),Ke(_a),Ke(ja)}function Mg(e){mi(ja.current);var t=mi(Vr.current),r=Lu(t,e.type);t!==r&&(Ve(_a,e),Ve(Vr,r))}function Id(e){_a.current===e&&(Ke(Vr),Ke(_a))}var tt=Qn(0);function fo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var I0=[];function zd(){for(var e=0;e<I0.length;e++)I0[e]._workInProgressVersionPrimary=null;I0.length=0}var Bl=yn.ReactCurrentDispatcher,z0=yn.ReactCurrentBatchConfig,wi=0,nt=null,yt=null,wt=null,mo=!1,ra=!1,Na=0,a5=0;function jt(){throw Error(Q(321))}function Dd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Dr(e[r],t[r]))return!1;return!0}function Od(e,t,r,n,i,s){if(wi=s,nt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Bl.current=e===null||e.memoizedState===null?c5:d5,e=r(n,i),ra){s=0;do{if(ra=!1,Na=0,25<=s)throw Error(Q(301));s+=1,wt=yt=null,t.updateQueue=null,Bl.current=h5,e=r(n,i)}while(ra)}if(Bl.current=po,t=yt!==null&&yt.next!==null,wi=0,wt=yt=nt=null,mo=!1,t)throw Error(Q(300));return e}function Ld(){var e=Na!==0;return Na=0,e}function Lr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?nt.memoizedState=wt=e:wt=wt.next=e,wt}function wr(){if(yt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=wt===null?nt.memoizedState:wt.next;if(t!==null)wt=t,yt=e;else{if(e===null)throw Error(Q(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},wt===null?nt.memoizedState=wt=e:wt=wt.next=e}return wt}function Ca(e,t){return typeof t=="function"?t(e):t}function D0(e){var t=wr(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=yt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=a=null,o=null,u=s;do{var d=u.lane;if((wi&d)===d)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(l=o=h,a=n):o=o.next=h,nt.lanes|=d,bi|=d}u=u.next}while(u!==null&&u!==s);o===null?a=n:o.next=l,Dr(n,t.memoizedState)||(Gt=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=o,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,nt.lanes|=s,bi|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function O0(e){var t=wr(),r=t.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Dr(s,t.memoizedState)||(Gt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function Pg(){}function Ig(e,t){var r=nt,n=wr(),i=t(),s=!Dr(n.memoizedState,i);if(s&&(n.memoizedState=i,Gt=!0),n=n.queue,Rd(Og.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||wt!==null&&wt.memoizedState.tag&1){if(r.flags|=2048,Ea(9,Dg.bind(null,r,n,i,t),void 0,null),bt===null)throw Error(Q(349));wi&30||zg(r,t,i)}return i}function zg(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Dg(e,t,r,n){t.value=r,t.getSnapshot=n,Lg(t)&&Rg(e)}function Og(e,t,r){return r(function(){Lg(t)&&Rg(e)})}function Lg(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Dr(e,r)}catch{return!0}}function Rg(e){var t=hn(e,1);t!==null&&Ir(t,e,1,-1)}function Af(e){var t=Lr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=u5.bind(null,nt,e),[t.memoizedState,e]}function Ea(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=nt.updateQueue,t===null?(t={lastEffect:null,stores:null},nt.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Fg(){return wr().memoizedState}function $l(e,t,r,n){var i=Lr();nt.flags|=e,i.memoizedState=Ea(1|t,r,void 0,n===void 0?null:n)}function $o(e,t,r,n){var i=wr();n=n===void 0?null:n;var s=void 0;if(yt!==null){var a=yt.memoizedState;if(s=a.destroy,n!==null&&Dd(n,a.deps)){i.memoizedState=Ea(t,r,s,n);return}}nt.flags|=e,i.memoizedState=Ea(1|t,r,s,n)}function Mf(e,t){return $l(8390656,8,e,t)}function Rd(e,t){return $o(2048,8,e,t)}function Bg(e,t){return $o(4,2,e,t)}function $g(e,t){return $o(4,4,e,t)}function qg(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ug(e,t,r){return r=r!=null?r.concat([e]):null,$o(4,4,qg.bind(null,t,e),r)}function Fd(){}function Hg(e,t){var r=wr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Vg(e,t){var r=wr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Wg(e,t,r){return wi&21?(Dr(r,t)||(r=Xp(),nt.lanes|=r,bi|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gt=!0),e.memoizedState=r)}function l5(e,t){var r=Le;Le=r!==0&&4>r?r:4,e(!0);var n=z0.transition;z0.transition={};try{e(!1),t()}finally{Le=r,z0.transition=n}}function Gg(){return wr().memoizedState}function o5(e,t,r){var n=$n(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Kg(e))Yg(t,r);else if(r=Tg(e,t,r,n),r!==null){var i=Ft();Ir(r,e,n,i),Qg(r,t,n)}}function u5(e,t,r){var n=$n(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Kg(e))Yg(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,l=s(a,r);if(i.hasEagerState=!0,i.eagerState=l,Dr(l,a)){var o=t.interleaved;o===null?(i.next=i,Ad(t)):(i.next=o.next,o.next=i),t.interleaved=i;return}}catch{}finally{}r=Tg(e,t,i,n),r!==null&&(i=Ft(),Ir(r,e,n,i),Qg(r,t,n))}}function Kg(e){var t=e.alternate;return e===nt||t!==null&&t===nt}function Yg(e,t){ra=mo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qg(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,gd(e,r)}}var po={readContext:xr,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},c5={readContext:xr,useCallback:function(e,t){return Lr().memoizedState=[e,t===void 0?null:t],e},useContext:xr,useEffect:Mf,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,$l(4194308,4,qg.bind(null,t,e),r)},useLayoutEffect:function(e,t){return $l(4194308,4,e,t)},useInsertionEffect:function(e,t){return $l(4,2,e,t)},useMemo:function(e,t){var r=Lr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Lr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=o5.bind(null,nt,e),[n.memoizedState,e]},useRef:function(e){var t=Lr();return e={current:e},t.memoizedState=e},useState:Af,useDebugValue:Fd,useDeferredValue:function(e){return Lr().memoizedState=e},useTransition:function(){var e=Af(!1),t=e[0];return e=l5.bind(null,e[1]),Lr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=nt,i=Lr();if(Qe){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=t(),bt===null)throw Error(Q(349));wi&30||zg(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Mf(Og.bind(null,n,s,e),[e]),n.flags|=2048,Ea(9,Dg.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Lr(),t=bt.identifierPrefix;if(Qe){var r=sn,n=nn;r=(n&~(1<<32-Pr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Na++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=a5++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},d5={readContext:xr,useCallback:Hg,useContext:xr,useEffect:Rd,useImperativeHandle:Ug,useInsertionEffect:Bg,useLayoutEffect:$g,useMemo:Vg,useReducer:D0,useRef:Fg,useState:function(){return D0(Ca)},useDebugValue:Fd,useDeferredValue:function(e){var t=wr();return Wg(t,yt.memoizedState,e)},useTransition:function(){var e=D0(Ca)[0],t=wr().memoizedState;return[e,t]},useMutableSource:Pg,useSyncExternalStore:Ig,useId:Gg,unstable_isNewReconciler:!1},h5={readContext:xr,useCallback:Hg,useContext:xr,useEffect:Rd,useImperativeHandle:Ug,useInsertionEffect:Bg,useLayoutEffect:$g,useMemo:Vg,useReducer:O0,useRef:Fg,useState:function(){return O0(Ca)},useDebugValue:Fd,useDeferredValue:function(e){var t=wr();return yt===null?t.memoizedState=e:Wg(t,yt.memoizedState,e)},useTransition:function(){var e=O0(Ca)[0],t=wr().memoizedState;return[e,t]},useMutableSource:Pg,useSyncExternalStore:Ig,useId:Gg,unstable_isNewReconciler:!1};function Cr(e,t){if(e&&e.defaultProps){t=it({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ic(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:it({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var qo={isMounted:function(e){return(e=e._reactInternals)?Ni(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Ft(),i=$n(e),s=an(n,i);s.payload=t,r!=null&&(s.callback=r),t=Fn(e,s,i),t!==null&&(Ir(t,e,i,n),Fl(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Ft(),i=$n(e),s=an(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=Fn(e,s,i),t!==null&&(Ir(t,e,i,n),Fl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ft(),n=$n(e),i=an(r,n);i.tag=2,t!=null&&(i.callback=t),t=Fn(e,i,n),t!==null&&(Ir(t,e,n,r),Fl(t,e,n))}};function Pf(e,t,r,n,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,a):t.prototype&&t.prototype.isPureReactComponent?!wa(r,n)||!wa(i,s):!0}function Xg(e,t,r){var n=!1,i=Hn,s=t.contextType;return typeof s=="object"&&s!==null?s=xr(s):(i=Yt(t)?vi:At.current,n=t.contextTypes,s=(n=n!=null)?fs(e,i):Hn),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qo,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function If(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&qo.enqueueReplaceState(t,t.state,null)}function sc(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Md(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=xr(s):(s=Yt(t)?vi:At.current,i.context=fs(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(ic(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&qo.enqueueReplaceState(i,i.state,null),ho(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ys(e,t){try{var r="",n=t;do r+=Bv(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function L0(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ac(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var f5=typeof WeakMap=="function"?WeakMap:Map;function Jg(e,t,r){r=an(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){yo||(yo=!0,gc=n),ac(e,t)},r}function Zg(e,t,r){r=an(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){ac(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ac(e,t),typeof n!="function"&&(Bn===null?Bn=new Set([this]):Bn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function zf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new f5;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=C5.bind(null,e,t,r),t.then(e,e))}function Df(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Of(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=an(-1,1),t.tag=2,Fn(r,t,1))),r.lanes|=1),e)}var m5=yn.ReactCurrentOwner,Gt=!1;function Ot(e,t,r,n){t.child=e===null?Eg(t,null,r,n):ps(t,e.child,r,n)}function Lf(e,t,r,n,i){r=r.render;var s=t.ref;return os(t,i),n=Od(e,t,r,n,s,i),r=Ld(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fn(e,t,i)):(Qe&&r&&_d(t),t.flags|=1,Ot(e,t,n,i),t.child)}function Rf(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!Gd(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,e4(e,t,s,n,i)):(e=Vl(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:wa,r(a,n)&&e.ref===t.ref)return fn(e,t,i)}return t.flags|=1,e=qn(s,n),e.ref=t.ref,e.return=t,t.child=e}function e4(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(wa(s,n)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=n=s,(e.lanes&i)!==0)e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,fn(e,t,i)}return lc(e,t,r,n,i)}function t4(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(ns,rr),rr|=r;else{if(!(r&1073741824))return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ve(ns,rr),rr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ve(ns,rr),rr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Ve(ns,rr),rr|=n;return Ot(e,t,i,r),t.child}function r4(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lc(e,t,r,n,i){var s=Yt(r)?vi:At.current;return s=fs(t,s),os(t,i),r=Od(e,t,r,n,s,i),n=Ld(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,fn(e,t,i)):(Qe&&n&&_d(t),t.flags|=1,Ot(e,t,r,i),t.child)}function Ff(e,t,r,n,i){if(Yt(r)){var s=!0;ao(t)}else s=!1;if(os(t,i),t.stateNode===null)ql(e,t),Xg(t,r,n),sc(t,r,n,i),n=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var o=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=xr(u):(u=Yt(r)?vi:At.current,u=fs(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==n||o!==u)&&If(t,a,n,u),En=!1;var m=t.memoizedState;a.state=m,ho(t,n,a,i),o=t.memoizedState,l!==n||m!==o||Kt.current||En?(typeof d=="function"&&(ic(t,r,d,n),o=t.memoizedState),(l=En||Pf(t,r,l,n,m,o,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),a.props=n,a.state=o,a.context=u,n=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Ag(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Cr(t.type,l),a.props=u,h=t.pendingProps,m=a.context,o=r.contextType,typeof o=="object"&&o!==null?o=xr(o):(o=Yt(r)?vi:At.current,o=fs(t,o));var f=r.getDerivedStateFromProps;(d=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==h||m!==o)&&If(t,a,n,o),En=!1,m=t.memoizedState,a.state=m,ho(t,n,a,i);var y=t.memoizedState;l!==h||m!==y||Kt.current||En?(typeof f=="function"&&(ic(t,r,f,n),y=t.memoizedState),(u=En||Pf(t,r,u,n,m,y,o)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,o),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,o)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),a.props=n,a.state=y,a.context=o,n=u):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),n=!1)}return oc(e,t,r,n,s,i)}function oc(e,t,r,n,i,s){r4(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return i&&_f(t,r,!1),fn(e,t,s);n=t.stateNode,m5.current=t;var l=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=ps(t,e.child,null,s),t.child=ps(t,null,l,s)):Ot(e,t,l,s),t.memoizedState=n.state,i&&_f(t,r,!0),t.child}function n4(e){var t=e.stateNode;t.pendingContext?Sf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Sf(e,t.context,!1),Pd(e,t.containerInfo)}function Bf(e,t,r,n,i){return ms(),Nd(i),t.flags|=256,Ot(e,t,r,n),t.child}var uc={dehydrated:null,treeContext:null,retryLane:0};function cc(e){return{baseLanes:e,cachePool:null,transitions:null}}function i4(e,t,r){var n=t.pendingProps,i=tt.current,s=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(i&2)!==0),l?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ve(tt,i&1),e===null)return rc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,s?(n=t.mode,s=t.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Vo(a,n,0,null),e=yi(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=cc(r),t.memoizedState=uc,e):Bd(t,a));if(i=e.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return p5(e,t,a,n,l,i,r);if(s){s=n.fallback,a=t.mode,i=e.child,l=i.sibling;var o={mode:"hidden",children:n.children};return!(a&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=o,t.deletions=null):(n=qn(i,o),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=qn(l,s):(s=yi(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,a=e.child.memoizedState,a=a===null?cc(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~r,t.memoizedState=uc,n}return s=e.child,e=s.sibling,n=qn(s,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Bd(e,t){return t=Vo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hl(e,t,r,n){return n!==null&&Nd(n),ps(t,e.child,null,r),e=Bd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function p5(e,t,r,n,i,s,a){if(r)return t.flags&256?(t.flags&=-257,n=L0(Error(Q(422))),hl(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Vo({mode:"visible",children:n.children},i,0,null),s=yi(s,i,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,t.mode&1&&ps(t,e.child,null,a),t.child.memoizedState=cc(a),t.memoizedState=uc,s);if(!(t.mode&1))return hl(e,t,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(Q(419)),n=L0(s,n,void 0),hl(e,t,a,n)}if(l=(a&e.childLanes)!==0,Gt||l){if(n=bt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,hn(e,i),Ir(n,e,i,-1))}return Wd(),n=L0(Error(Q(421))),hl(e,t,a,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=E5.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,sr=Rn(i.nextSibling),ar=t,Qe=!0,Mr=null,e!==null&&(hr[fr++]=nn,hr[fr++]=sn,hr[fr++]=xi,nn=e.id,sn=e.overflow,xi=t),t=Bd(t,n.children),t.flags|=4096,t)}function $f(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),nc(e.return,t,r)}function R0(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function s4(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(Ot(e,t,n.children,r),n=tt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&$f(e,r,t);else if(e.tag===19)$f(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ve(tt,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&fo(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),R0(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&fo(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}R0(t,!0,r,null,s);break;case"together":R0(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ql(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function fn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),bi|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Q(153));if(t.child!==null){for(e=t.child,r=qn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function g5(e,t,r){switch(t.tag){case 3:n4(t),ms();break;case 5:Mg(t);break;case 1:Yt(t.type)&&ao(t);break;case 4:Pd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ve(uo,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ve(tt,tt.current&1),t.flags|=128,null):r&t.child.childLanes?i4(e,t,r):(Ve(tt,tt.current&1),e=fn(e,t,r),e!==null?e.sibling:null);Ve(tt,tt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return s4(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(tt,tt.current),n)break;return null;case 22:case 23:return t.lanes=0,t4(e,t,r)}return fn(e,t,r)}var a4,dc,l4,o4;a4=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};dc=function(){};l4=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,mi(Vr.current);var s=null;switch(r){case"input":i=Iu(e,i),n=Iu(e,n),s=[];break;case"select":i=it({},i,{value:void 0}),n=it({},n,{value:void 0}),s=[];break;case"textarea":i=Ou(e,i),n=Ou(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=io)}Ru(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(fa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var o=n[u];if(l=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&o!==l&&(o!=null||l!=null))if(u==="style")if(l){for(a in l)!l.hasOwnProperty(a)||o&&o.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in o)o.hasOwnProperty(a)&&l[a]!==o[a]&&(r||(r={}),r[a]=o[a])}else r||(s||(s=[]),s.push(u,r)),r=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,l=l?l.__html:void 0,o!=null&&l!==o&&(s=s||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(s=s||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(fa.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&Ge("scroll",e),s||l===o||(s=[])):(s=s||[]).push(u,o))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}};o4=function(e,t,r,n){r!==n&&(t.flags|=4)};function Bs(e,t){if(!Qe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function y5(e,t,r){var n=t.pendingProps;switch(jd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(t),null;case 1:return Yt(t.type)&&so(),Nt(t),null;case 3:return n=t.stateNode,gs(),Ke(Kt),Ke(At),zd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(cl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mr!==null&&(xc(Mr),Mr=null))),dc(e,t),Nt(t),null;case 5:Id(t);var i=mi(ja.current);if(r=t.type,e!==null&&t.stateNode!=null)l4(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Q(166));return Nt(t),null}if(e=mi(Vr.current),cl(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[$r]=t,n[Sa]=s,e=(t.mode&1)!==0,r){case"dialog":Ge("cancel",n),Ge("close",n);break;case"iframe":case"object":case"embed":Ge("load",n);break;case"video":case"audio":for(i=0;i<Ks.length;i++)Ge(Ks[i],n);break;case"source":Ge("error",n);break;case"img":case"image":case"link":Ge("error",n),Ge("load",n);break;case"details":Ge("toggle",n);break;case"input":Yh(n,s),Ge("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Ge("invalid",n);break;case"textarea":Xh(n,s),Ge("invalid",n)}Ru(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&ul(n.textContent,l,e),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&ul(n.textContent,l,e),i=["children",""+l]):fa.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&Ge("scroll",n)}switch(r){case"input":tl(n),Qh(n,s,!0);break;case"textarea":tl(n),Jh(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=io)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Op(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[$r]=t,e[Sa]=n,a4(e,t,!1,!1),t.stateNode=e;e:{switch(a=Fu(r,n),r){case"dialog":Ge("cancel",e),Ge("close",e),i=n;break;case"iframe":case"object":case"embed":Ge("load",e),i=n;break;case"video":case"audio":for(i=0;i<Ks.length;i++)Ge(Ks[i],e);i=n;break;case"source":Ge("error",e),i=n;break;case"img":case"image":case"link":Ge("error",e),Ge("load",e),i=n;break;case"details":Ge("toggle",e),i=n;break;case"input":Yh(e,n),i=Iu(e,n),Ge("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=it({},n,{value:void 0}),Ge("invalid",e);break;case"textarea":Xh(e,n),i=Ou(e,n),Ge("invalid",e);break;default:i=n}Ru(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var o=l[s];s==="style"?Fp(e,o):s==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&Lp(e,o)):s==="children"?typeof o=="string"?(r!=="textarea"||o!=="")&&ma(e,o):typeof o=="number"&&ma(e,""+o):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(fa.hasOwnProperty(s)?o!=null&&s==="onScroll"&&Ge("scroll",e):o!=null&&cd(e,s,o,a))}switch(r){case"input":tl(e),Qh(e,n,!1);break;case"textarea":tl(e),Jh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Un(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?is(e,!!n.multiple,s,!1):n.defaultValue!=null&&is(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=io)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Nt(t),null;case 6:if(e&&t.stateNode!=null)o4(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Q(166));if(r=mi(ja.current),mi(Vr.current),cl(t)){if(n=t.stateNode,r=t.memoizedProps,n[$r]=t,(s=n.nodeValue!==r)&&(e=ar,e!==null))switch(e.tag){case 3:ul(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ul(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[$r]=t,t.stateNode=n}return Nt(t),null;case 13:if(Ke(tt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Qe&&sr!==null&&t.mode&1&&!(t.flags&128))Ng(),ms(),t.flags|=98560,s=!1;else if(s=cl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Q(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[$r]=t}else ms(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Nt(t),s=!1}else Mr!==null&&(xc(Mr),Mr=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||tt.current&1?vt===0&&(vt=3):Wd())),t.updateQueue!==null&&(t.flags|=4),Nt(t),null);case 4:return gs(),dc(e,t),e===null&&ba(t.stateNode.containerInfo),Nt(t),null;case 10:return Td(t.type._context),Nt(t),null;case 17:return Yt(t.type)&&so(),Nt(t),null;case 19:if(Ke(tt),s=t.memoizedState,s===null)return Nt(t),null;if(n=(t.flags&128)!==0,a=s.rendering,a===null)if(n)Bs(s,!1);else{if(vt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=fo(e),a!==null){for(t.flags|=128,Bs(s,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ve(tt,tt.current&1|2),t.child}e=e.sibling}s.tail!==null&&ut()>vs&&(t.flags|=128,n=!0,Bs(s,!1),t.lanes=4194304)}else{if(!n)if(e=fo(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Bs(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Qe)return Nt(t),null}else 2*ut()-s.renderingStartTime>vs&&r!==1073741824&&(t.flags|=128,n=!0,Bs(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(r=s.last,r!==null?r.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ut(),t.sibling=null,r=tt.current,Ve(tt,n?r&1|2:r&1),t):(Nt(t),null);case 22:case 23:return Vd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?rr&1073741824&&(Nt(t),t.subtreeFlags&6&&(t.flags|=8192)):Nt(t),null;case 24:return null;case 25:return null}throw Error(Q(156,t.tag))}function v5(e,t){switch(jd(t),t.tag){case 1:return Yt(t.type)&&so(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gs(),Ke(Kt),Ke(At),zd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Id(t),null;case 13:if(Ke(tt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Q(340));ms()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ke(tt),null;case 4:return gs(),null;case 10:return Td(t.type._context),null;case 22:case 23:return Vd(),null;case 24:return null;default:return null}}var fl=!1,Ct=!1,x5=typeof WeakSet=="function"?WeakSet:Set,le=null;function rs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ot(e,t,n)}else r.current=null}function hc(e,t,r){try{r()}catch(n){ot(e,t,n)}}var qf=!1;function w5(e,t){if(Yu=to,e=fg(),Sd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,l=-1,o=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var f;h!==r||i!==0&&h.nodeType!==3||(l=a+i),h!==s||n!==0&&h.nodeType!==3||(o=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(f=h.firstChild)!==null;)m=h,h=f;for(;;){if(h===e)break t;if(m===r&&++u===i&&(l=a),m===s&&++d===n&&(o=a),(f=h.nextSibling)!==null)break;h=m,m=h.parentNode}h=f}r=l===-1||o===-1?null:{start:l,end:o}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qu={focusedElem:e,selectionRange:r},to=!1,le=t;le!==null;)if(t=le,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,le=e;else for(;le!==null;){t=le;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var k=y.memoizedProps,N=y.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?k:Cr(t.type,k),N);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(j){ot(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,le=e;break}le=t.return}return y=qf,qf=!1,y}function na(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&hc(t,r,s)}i=i.next}while(i!==n)}}function Uo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function fc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function u4(e){var t=e.alternate;t!==null&&(e.alternate=null,u4(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$r],delete t[Sa],delete t[Zu],delete t[r5],delete t[n5])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function c4(e){return e.tag===5||e.tag===3||e.tag===4}function Uf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||c4(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function mc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=io));else if(n!==4&&(e=e.child,e!==null))for(mc(e,t,r),e=e.sibling;e!==null;)mc(e,t,r),e=e.sibling}function pc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(pc(e,t,r),e=e.sibling;e!==null;)pc(e,t,r),e=e.sibling}var kt=null,Er=!1;function bn(e,t,r){for(r=r.child;r!==null;)d4(e,t,r),r=r.sibling}function d4(e,t,r){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(Do,r)}catch{}switch(r.tag){case 5:Ct||rs(r,t);case 6:var n=kt,i=Er;kt=null,bn(e,t,r),kt=n,Er=i,kt!==null&&(Er?(e=kt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):kt.removeChild(r.stateNode));break;case 18:kt!==null&&(Er?(e=kt,r=r.stateNode,e.nodeType===8?M0(e.parentNode,r):e.nodeType===1&&M0(e,r),va(e)):M0(kt,r.stateNode));break;case 4:n=kt,i=Er,kt=r.stateNode.containerInfo,Er=!0,bn(e,t,r),kt=n,Er=i;break;case 0:case 11:case 14:case 15:if(!Ct&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&hc(r,t,a),i=i.next}while(i!==n)}bn(e,t,r);break;case 1:if(!Ct&&(rs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ot(r,t,l)}bn(e,t,r);break;case 21:bn(e,t,r);break;case 22:r.mode&1?(Ct=(n=Ct)||r.memoizedState!==null,bn(e,t,r),Ct=n):bn(e,t,r);break;default:bn(e,t,r)}}function Hf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new x5),t.forEach(function(n){var i=T5.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function jr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:kt=l.stateNode,Er=!1;break e;case 3:kt=l.stateNode.containerInfo,Er=!0;break e;case 4:kt=l.stateNode.containerInfo,Er=!0;break e}l=l.return}if(kt===null)throw Error(Q(160));d4(s,a,i),kt=null,Er=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(u){ot(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)h4(t,e),t=t.sibling}function h4(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jr(t,e),Or(e),n&4){try{na(3,e,e.return),Uo(3,e)}catch(k){ot(e,e.return,k)}try{na(5,e,e.return)}catch(k){ot(e,e.return,k)}}break;case 1:jr(t,e),Or(e),n&512&&r!==null&&rs(r,r.return);break;case 5:if(jr(t,e),Or(e),n&512&&r!==null&&rs(r,r.return),e.flags&32){var i=e.stateNode;try{ma(i,"")}catch(k){ot(e,e.return,k)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=r!==null?r.memoizedProps:s,l=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&zp(i,s),Fu(l,a);var u=Fu(l,s);for(a=0;a<o.length;a+=2){var d=o[a],h=o[a+1];d==="style"?Fp(i,h):d==="dangerouslySetInnerHTML"?Lp(i,h):d==="children"?ma(i,h):cd(i,d,h,u)}switch(l){case"input":zu(i,s);break;case"textarea":Dp(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?is(i,!!s.multiple,f,!1):m!==!!s.multiple&&(s.defaultValue!=null?is(i,!!s.multiple,s.defaultValue,!0):is(i,!!s.multiple,s.multiple?[]:"",!1))}i[Sa]=s}catch(k){ot(e,e.return,k)}}break;case 6:if(jr(t,e),Or(e),n&4){if(e.stateNode===null)throw Error(Q(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(k){ot(e,e.return,k)}}break;case 3:if(jr(t,e),Or(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{va(t.containerInfo)}catch(k){ot(e,e.return,k)}break;case 4:jr(t,e),Or(e);break;case 13:jr(t,e),Or(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ud=ut())),n&4&&Hf(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ct=(u=Ct)||d,jr(t,e),Ct=u):jr(t,e),Or(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(le=e,d=e.child;d!==null;){for(h=le=d;le!==null;){switch(m=le,f=m.child,m.tag){case 0:case 11:case 14:case 15:na(4,m,m.return);break;case 1:rs(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){n=m,r=m.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(k){ot(n,r,k)}}break;case 5:rs(m,m.return);break;case 22:if(m.memoizedState!==null){Wf(h);continue}}f!==null?(f.return=m,le=f):Wf(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=h.stateNode,o=h.memoizedProps.style,a=o!=null&&o.hasOwnProperty("display")?o.display:null,l.style.display=Rp("display",a))}catch(k){ot(e,e.return,k)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(k){ot(e,e.return,k)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jr(t,e),Or(e),n&4&&Hf(e);break;case 21:break;default:jr(t,e),Or(e)}}function Or(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(c4(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ma(i,""),n.flags&=-33);var s=Uf(e);pc(e,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,l=Uf(e);mc(e,l,a);break;default:throw Error(Q(161))}}catch(o){ot(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function b5(e,t,r){le=e,f4(e)}function f4(e,t,r){for(var n=(e.mode&1)!==0;le!==null;){var i=le,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||fl;if(!a){var l=i.alternate,o=l!==null&&l.memoizedState!==null||Ct;l=fl;var u=Ct;if(fl=a,(Ct=o)&&!u)for(le=i;le!==null;)a=le,o=a.child,a.tag===22&&a.memoizedState!==null?Gf(i):o!==null?(o.return=a,le=o):Gf(i);for(;s!==null;)le=s,f4(s),s=s.sibling;le=i,fl=l,Ct=u}Vf(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,le=s):Vf(e)}}function Vf(e){for(;le!==null;){var t=le;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ct||Uo(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ct)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:Cr(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Tf(t,s,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Tf(t,a,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&r.focus();break;case"img":o.src&&(r.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&va(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}Ct||t.flags&512&&fc(t)}catch(m){ot(t,t.return,m)}}if(t===e){le=null;break}if(r=t.sibling,r!==null){r.return=t.return,le=r;break}le=t.return}}function Wf(e){for(;le!==null;){var t=le;if(t===e){le=null;break}var r=t.sibling;if(r!==null){r.return=t.return,le=r;break}le=t.return}}function Gf(e){for(;le!==null;){var t=le;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Uo(4,t)}catch(o){ot(t,r,o)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(o){ot(t,i,o)}}var s=t.return;try{fc(t)}catch(o){ot(t,s,o)}break;case 5:var a=t.return;try{fc(t)}catch(o){ot(t,a,o)}}}catch(o){ot(t,t.return,o)}if(t===e){le=null;break}var l=t.sibling;if(l!==null){l.return=t.return,le=l;break}le=t.return}}var k5=Math.ceil,go=yn.ReactCurrentDispatcher,$d=yn.ReactCurrentOwner,yr=yn.ReactCurrentBatchConfig,Pe=0,bt=null,ht=null,St=0,rr=0,ns=Qn(0),vt=0,Ta=null,bi=0,Ho=0,qd=0,ia=null,Vt=null,Ud=0,vs=1/0,Zr=null,yo=!1,gc=null,Bn=null,ml=!1,In=null,vo=0,sa=0,yc=null,Ul=-1,Hl=0;function Ft(){return Pe&6?ut():Ul!==-1?Ul:Ul=ut()}function $n(e){return e.mode&1?Pe&2&&St!==0?St&-St:s5.transition!==null?(Hl===0&&(Hl=Xp()),Hl):(e=Le,e!==0||(e=window.event,e=e===void 0?16:ig(e.type)),e):1}function Ir(e,t,r,n){if(50<sa)throw sa=0,yc=null,Error(Q(185));La(e,r,n),(!(Pe&2)||e!==bt)&&(e===bt&&(!(Pe&2)&&(Ho|=r),vt===4&&An(e,St)),Qt(e,n),r===1&&Pe===0&&!(t.mode&1)&&(vs=ut()+500,Bo&&Xn()))}function Qt(e,t){var r=e.callbackNode;s3(e,t);var n=eo(e,e===bt?St:0);if(n===0)r!==null&&tf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&tf(r),t===1)e.tag===0?i5(Kf.bind(null,e)):Sg(Kf.bind(null,e)),e5(function(){!(Pe&6)&&Xn()}),r=null;else{switch(Jp(n)){case 1:r=pd;break;case 4:r=Yp;break;case 16:r=Zl;break;case 536870912:r=Qp;break;default:r=Zl}r=b4(r,m4.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function m4(e,t){if(Ul=-1,Hl=0,Pe&6)throw Error(Q(327));var r=e.callbackNode;if(us()&&e.callbackNode!==r)return null;var n=eo(e,e===bt?St:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=xo(e,n);else{t=n;var i=Pe;Pe|=2;var s=g4();(bt!==e||St!==t)&&(Zr=null,vs=ut()+500,gi(e,t));do try{j5();break}catch(l){p4(e,l)}while(!0);Ed(),go.current=s,Pe=i,ht!==null?t=0:(bt=null,St=0,t=vt)}if(t!==0){if(t===2&&(i=Hu(e),i!==0&&(n=i,t=vc(e,i))),t===1)throw r=Ta,gi(e,0),An(e,n),Qt(e,ut()),r;if(t===6)An(e,n);else{if(i=e.current.alternate,!(n&30)&&!S5(i)&&(t=xo(e,n),t===2&&(s=Hu(e),s!==0&&(n=s,t=vc(e,s))),t===1))throw r=Ta,gi(e,0),An(e,n),Qt(e,ut()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Q(345));case 2:oi(e,Vt,Zr);break;case 3:if(An(e,n),(n&130023424)===n&&(t=Ud+500-ut(),10<t)){if(eo(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Ft(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ju(oi.bind(null,e,Vt,Zr),t);break}oi(e,Vt,Zr);break;case 4:if(An(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-Pr(n);s=1<<a,a=t[a],a>i&&(i=a),n&=~s}if(n=i,n=ut()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*k5(n/1960))-n,10<n){e.timeoutHandle=Ju(oi.bind(null,e,Vt,Zr),n);break}oi(e,Vt,Zr);break;case 5:oi(e,Vt,Zr);break;default:throw Error(Q(329))}}}return Qt(e,ut()),e.callbackNode===r?m4.bind(null,e):null}function vc(e,t){var r=ia;return e.current.memoizedState.isDehydrated&&(gi(e,t).flags|=256),e=xo(e,t),e!==2&&(t=Vt,Vt=r,t!==null&&xc(t)),e}function xc(e){Vt===null?Vt=e:Vt.push.apply(Vt,e)}function S5(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Dr(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function An(e,t){for(t&=~qd,t&=~Ho,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pr(t),n=1<<r;e[r]=-1,t&=~n}}function Kf(e){if(Pe&6)throw Error(Q(327));us();var t=eo(e,0);if(!(t&1))return Qt(e,ut()),null;var r=xo(e,t);if(e.tag!==0&&r===2){var n=Hu(e);n!==0&&(t=n,r=vc(e,n))}if(r===1)throw r=Ta,gi(e,0),An(e,t),Qt(e,ut()),r;if(r===6)throw Error(Q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oi(e,Vt,Zr),Qt(e,ut()),null}function Hd(e,t){var r=Pe;Pe|=1;try{return e(t)}finally{Pe=r,Pe===0&&(vs=ut()+500,Bo&&Xn())}}function ki(e){In!==null&&In.tag===0&&!(Pe&6)&&us();var t=Pe;Pe|=1;var r=yr.transition,n=Le;try{if(yr.transition=null,Le=1,e)return e()}finally{Le=n,yr.transition=r,Pe=t,!(Pe&6)&&Xn()}}function Vd(){rr=ns.current,Ke(ns)}function gi(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Z3(r)),ht!==null)for(r=ht.return;r!==null;){var n=r;switch(jd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&so();break;case 3:gs(),Ke(Kt),Ke(At),zd();break;case 5:Id(n);break;case 4:gs();break;case 13:Ke(tt);break;case 19:Ke(tt);break;case 10:Td(n.type._context);break;case 22:case 23:Vd()}r=r.return}if(bt=e,ht=e=qn(e.current,null),St=rr=t,vt=0,Ta=null,qd=Ho=bi=0,Vt=ia=null,fi!==null){for(t=0;t<fi.length;t++)if(r=fi[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}fi=null}return e}function p4(e,t){do{var r=ht;try{if(Ed(),Bl.current=po,mo){for(var n=nt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}mo=!1}if(wi=0,wt=yt=nt=null,ra=!1,Na=0,$d.current=null,r===null||r.return===null){vt=1,Ta=t,ht=null;break}e:{var s=e,a=r.return,l=r,o=t;if(t=St,l.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=Df(a);if(f!==null){f.flags&=-257,Of(f,a,l,s,t),f.mode&1&&zf(s,u,t),t=f,o=u;var y=t.updateQueue;if(y===null){var k=new Set;k.add(o),t.updateQueue=k}else y.add(o);break e}else{if(!(t&1)){zf(s,u,t),Wd();break e}o=Error(Q(426))}}else if(Qe&&l.mode&1){var N=Df(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Of(N,a,l,s,t),Nd(ys(o,l));break e}}s=o=ys(o,l),vt!==4&&(vt=2),ia===null?ia=[s]:ia.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=Jg(s,o,t);Ef(s,v);break e;case 1:l=o;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Bn===null||!Bn.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var j=Zg(s,l,t);Ef(s,j);break e}}s=s.return}while(s!==null)}v4(r)}catch(I){t=I,ht===r&&r!==null&&(ht=r=r.return);continue}break}while(!0)}function g4(){var e=go.current;return go.current=po,e===null?po:e}function Wd(){(vt===0||vt===3||vt===2)&&(vt=4),bt===null||!(bi&268435455)&&!(Ho&268435455)||An(bt,St)}function xo(e,t){var r=Pe;Pe|=2;var n=g4();(bt!==e||St!==t)&&(Zr=null,gi(e,t));do try{_5();break}catch(i){p4(e,i)}while(!0);if(Ed(),Pe=r,go.current=n,ht!==null)throw Error(Q(261));return bt=null,St=0,vt}function _5(){for(;ht!==null;)y4(ht)}function j5(){for(;ht!==null&&!Qv();)y4(ht)}function y4(e){var t=w4(e.alternate,e,rr);e.memoizedProps=e.pendingProps,t===null?v4(e):ht=t,$d.current=null}function v4(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=v5(r,t),r!==null){r.flags&=32767,ht=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{vt=6,ht=null;return}}else if(r=y5(r,t,rr),r!==null){ht=r;return}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);vt===0&&(vt=5)}function oi(e,t,r){var n=Le,i=yr.transition;try{yr.transition=null,Le=1,N5(e,t,r,n)}finally{yr.transition=i,Le=n}return null}function N5(e,t,r,n){do us();while(In!==null);if(Pe&6)throw Error(Q(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Q(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(a3(e,s),e===bt&&(ht=bt=null,St=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ml||(ml=!0,b4(Zl,function(){return us(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=yr.transition,yr.transition=null;var a=Le;Le=1;var l=Pe;Pe|=4,$d.current=null,w5(e,r),h4(r,e),W3(Qu),to=!!Yu,Qu=Yu=null,e.current=r,b5(r),Xv(),Pe=l,Le=a,yr.transition=s}else e.current=r;if(ml&&(ml=!1,In=e,vo=i),s=e.pendingLanes,s===0&&(Bn=null),e3(r.stateNode),Qt(e,ut()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(yo)throw yo=!1,e=gc,gc=null,e;return vo&1&&e.tag!==0&&us(),s=e.pendingLanes,s&1?e===yc?sa++:(sa=0,yc=e):sa=0,Xn(),null}function us(){if(In!==null){var e=Jp(vo),t=yr.transition,r=Le;try{if(yr.transition=null,Le=16>e?16:e,In===null)var n=!1;else{if(e=In,In=null,vo=0,Pe&6)throw Error(Q(331));var i=Pe;for(Pe|=4,le=e.current;le!==null;){var s=le,a=s.child;if(le.flags&16){var l=s.deletions;if(l!==null){for(var o=0;o<l.length;o++){var u=l[o];for(le=u;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:na(8,d,s)}var h=d.child;if(h!==null)h.return=d,le=h;else for(;le!==null;){d=le;var m=d.sibling,f=d.return;if(u4(d),d===u){le=null;break}if(m!==null){m.return=f,le=m;break}le=f}}}var y=s.alternate;if(y!==null){var k=y.child;if(k!==null){y.child=null;do{var N=k.sibling;k.sibling=null,k=N}while(k!==null)}}le=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,le=a;else e:for(;le!==null;){if(s=le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:na(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,le=v;break e}le=s.return}}var w=e.current;for(le=w;le!==null;){a=le;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,le=x;else e:for(a=w;le!==null;){if(l=le,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Uo(9,l)}}catch(I){ot(l,l.return,I)}if(l===a){le=null;break e}var j=l.sibling;if(j!==null){j.return=l.return,le=j;break e}le=l.return}}if(Pe=i,Xn(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(Do,e)}catch{}n=!0}return n}finally{Le=r,yr.transition=t}}return!1}function Yf(e,t,r){t=ys(r,t),t=Jg(e,t,1),e=Fn(e,t,1),t=Ft(),e!==null&&(La(e,1,t),Qt(e,t))}function ot(e,t,r){if(e.tag===3)Yf(e,e,r);else for(;t!==null;){if(t.tag===3){Yf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bn===null||!Bn.has(n))){e=ys(r,e),e=Zg(t,e,1),t=Fn(t,e,1),e=Ft(),t!==null&&(La(t,1,e),Qt(t,e));break}}t=t.return}}function C5(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Ft(),e.pingedLanes|=e.suspendedLanes&r,bt===e&&(St&r)===r&&(vt===4||vt===3&&(St&130023424)===St&&500>ut()-Ud?gi(e,0):qd|=r),Qt(e,t)}function x4(e,t){t===0&&(e.mode&1?(t=il,il<<=1,!(il&130023424)&&(il=4194304)):t=1);var r=Ft();e=hn(e,t),e!==null&&(La(e,t,r),Qt(e,r))}function E5(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),x4(e,r)}function T5(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(t),x4(e,r)}var w4;w4=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Kt.current)Gt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Gt=!1,g5(e,t,r);Gt=!!(e.flags&131072)}else Gt=!1,Qe&&t.flags&1048576&&_g(t,oo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ql(e,t),e=t.pendingProps;var i=fs(t,At.current);os(t,r),i=Od(null,t,n,e,i,r);var s=Ld();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yt(n)?(s=!0,ao(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Md(t),i.updater=qo,t.stateNode=i,i._reactInternals=t,sc(t,n,e,r),t=oc(null,t,n,!0,s,r)):(t.tag=0,Qe&&s&&_d(t),Ot(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(ql(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=M5(n),e=Cr(n,e),i){case 0:t=lc(null,t,n,e,r);break e;case 1:t=Ff(null,t,n,e,r);break e;case 11:t=Lf(null,t,n,e,r);break e;case 14:t=Rf(null,t,n,Cr(n.type,e),r);break e}throw Error(Q(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Cr(n,i),lc(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Cr(n,i),Ff(e,t,n,i,r);case 3:e:{if(n4(t),e===null)throw Error(Q(387));n=t.pendingProps,s=t.memoizedState,i=s.element,Ag(e,t),ho(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ys(Error(Q(423)),t),t=Bf(e,t,n,r,i);break e}else if(n!==i){i=ys(Error(Q(424)),t),t=Bf(e,t,n,r,i);break e}else for(sr=Rn(t.stateNode.containerInfo.firstChild),ar=t,Qe=!0,Mr=null,r=Eg(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ms(),n===i){t=fn(e,t,r);break e}Ot(e,t,n,r)}t=t.child}return t;case 5:return Mg(t),e===null&&rc(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,Xu(n,i)?a=null:s!==null&&Xu(n,s)&&(t.flags|=32),r4(e,t),Ot(e,t,a,r),t.child;case 6:return e===null&&rc(t),null;case 13:return i4(e,t,r);case 4:return Pd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ps(t,null,n,r):Ot(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Cr(n,i),Lf(e,t,n,i,r);case 7:return Ot(e,t,t.pendingProps,r),t.child;case 8:return Ot(e,t,t.pendingProps.children,r),t.child;case 12:return Ot(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ve(uo,n._currentValue),n._currentValue=a,s!==null)if(Dr(s.value,a)){if(s.children===i.children&&!Kt.current){t=fn(e,t,r);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var l=s.dependencies;if(l!==null){a=s.child;for(var o=l.firstContext;o!==null;){if(o.context===n){if(s.tag===1){o=an(-1,r&-r),o.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?o.next=o:(o.next=d.next,d.next=o),u.pending=o}}s.lanes|=r,o=s.alternate,o!==null&&(o.lanes|=r),nc(s.return,r,t),l.lanes|=r;break}o=o.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Q(341));a.lanes|=r,l=a.alternate,l!==null&&(l.lanes|=r),nc(a,r,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ot(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,os(t,r),i=xr(i),n=n(i),t.flags|=1,Ot(e,t,n,r),t.child;case 14:return n=t.type,i=Cr(n,t.pendingProps),i=Cr(n.type,i),Rf(e,t,n,i,r);case 15:return e4(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:Cr(n,i),ql(e,t),t.tag=1,Yt(n)?(e=!0,ao(t)):e=!1,os(t,r),Xg(t,n,i),sc(t,n,i,r),oc(null,t,n,!0,e,r);case 19:return s4(e,t,r);case 22:return t4(e,t,r)}throw Error(Q(156,t.tag))};function b4(e,t){return Kp(e,t)}function A5(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(e,t,r,n){return new A5(e,t,r,n)}function Gd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function M5(e){if(typeof e=="function")return Gd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===hd)return 11;if(e===fd)return 14}return 2}function qn(e,t){var r=e.alternate;return r===null?(r=pr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Vl(e,t,r,n,i,s){var a=2;if(n=e,typeof e=="function")Gd(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Gi:return yi(r.children,i,s,t);case dd:a=8,i|=8;break;case Tu:return e=pr(12,r,t,i|2),e.elementType=Tu,e.lanes=s,e;case Au:return e=pr(13,r,t,i),e.elementType=Au,e.lanes=s,e;case Mu:return e=pr(19,r,t,i),e.elementType=Mu,e.lanes=s,e;case Mp:return Vo(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tp:a=10;break e;case Ap:a=9;break e;case hd:a=11;break e;case fd:a=14;break e;case Cn:a=16,n=null;break e}throw Error(Q(130,e==null?e:typeof e,""))}return t=pr(a,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function yi(e,t,r,n){return e=pr(7,e,n,t),e.lanes=r,e}function Vo(e,t,r,n){return e=pr(22,e,n,t),e.elementType=Mp,e.lanes=r,e.stateNode={isHidden:!1},e}function F0(e,t,r){return e=pr(6,e,null,t),e.lanes=r,e}function B0(e,t,r){return t=pr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function P5(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=w0(0),this.expirationTimes=w0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Kd(e,t,r,n,i,s,a,l,o){return e=new P5(e,t,r,l,o),t===1?(t=1,s===!0&&(t|=8)):t=0,s=pr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Md(s),e}function I5(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function k4(e){if(!e)return Hn;e=e._reactInternals;e:{if(Ni(e)!==e||e.tag!==1)throw Error(Q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Q(171))}if(e.tag===1){var r=e.type;if(Yt(r))return kg(e,r,t)}return t}function S4(e,t,r,n,i,s,a,l,o){return e=Kd(r,n,!0,e,i,s,a,l,o),e.context=k4(null),r=e.current,n=Ft(),i=$n(r),s=an(n,i),s.callback=t??null,Fn(r,s,i),e.current.lanes=i,La(e,i,n),Qt(e,n),e}function Wo(e,t,r,n){var i=t.current,s=Ft(),a=$n(i);return r=k4(r),t.context===null?t.context=r:t.pendingContext=r,t=an(s,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Fn(i,t,a),e!==null&&(Ir(e,i,a,s),Fl(e,i,a)),a}function wo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Qf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Yd(e,t){Qf(e,t),(e=e.alternate)&&Qf(e,t)}function z5(){return null}var _4=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qd(e){this._internalRoot=e}Go.prototype.render=Qd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Q(409));Wo(e,t,null,null)};Go.prototype.unmount=Qd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ki(function(){Wo(null,e,null,null)}),t[dn]=null}};function Go(e){this._internalRoot=e}Go.prototype.unstable_scheduleHydration=function(e){if(e){var t=tg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Tn.length&&t!==0&&t<Tn[r].priority;r++);Tn.splice(r,0,e),r===0&&ng(e)}};function Xd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ko(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xf(){}function D5(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=wo(a);s.call(u)}}var a=S4(t,n,e,0,null,!1,!1,"",Xf);return e._reactRootContainer=a,e[dn]=a.current,ba(e.nodeType===8?e.parentNode:e),ki(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var u=wo(o);l.call(u)}}var o=Kd(e,0,!1,null,null,!1,!1,"",Xf);return e._reactRootContainer=o,e[dn]=o.current,ba(e.nodeType===8?e.parentNode:e),ki(function(){Wo(t,o,r,n)}),o}function Yo(e,t,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var l=i;i=function(){var o=wo(a);l.call(o)}}Wo(t,a,e,i)}else a=D5(r,t,e,i,n);return wo(a)}Zp=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Gs(t.pendingLanes);r!==0&&(gd(t,r|1),Qt(t,ut()),!(Pe&6)&&(vs=ut()+500,Xn()))}break;case 13:ki(function(){var n=hn(e,1);if(n!==null){var i=Ft();Ir(n,e,1,i)}}),Yd(e,1)}};yd=function(e){if(e.tag===13){var t=hn(e,134217728);if(t!==null){var r=Ft();Ir(t,e,134217728,r)}Yd(e,134217728)}};eg=function(e){if(e.tag===13){var t=$n(e),r=hn(e,t);if(r!==null){var n=Ft();Ir(r,e,t,n)}Yd(e,t)}};tg=function(){return Le};rg=function(e,t){var r=Le;try{return Le=e,t()}finally{Le=r}};$u=function(e,t,r){switch(t){case"input":if(zu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Fo(n);if(!i)throw Error(Q(90));Ip(n),zu(n,i)}}}break;case"textarea":Dp(e,r);break;case"select":t=r.value,t!=null&&is(e,!!r.multiple,t,!1)}};qp=Hd;Up=ki;var O5={usingClientEntryPoint:!1,Events:[Fa,Xi,Fo,Bp,$p,Hd]},$s={findFiberByHostInstance:hi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},L5={bundleType:$s.bundleType,version:$s.version,rendererPackageName:$s.rendererPackageName,rendererConfig:$s.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wp(e),e===null?null:e.stateNode},findFiberByHostInstance:$s.findFiberByHostInstance||z5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pl.isDisabled&&pl.supportsFiber)try{Do=pl.inject(L5),Hr=pl}catch{}}ur.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O5;ur.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xd(t))throw Error(Q(200));return I5(e,t,null,r)};ur.createRoot=function(e,t){if(!Xd(e))throw Error(Q(299));var r=!1,n="",i=_4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Kd(e,1,!1,null,null,r,!1,n,i),e[dn]=t.current,ba(e.nodeType===8?e.parentNode:e),new Qd(t)};ur.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Q(188)):(e=Object.keys(e).join(","),Error(Q(268,e)));return e=Wp(t),e=e===null?null:e.stateNode,e};ur.flushSync=function(e){return ki(e)};ur.hydrate=function(e,t,r){if(!Ko(t))throw Error(Q(200));return Yo(null,e,t,!0,r)};ur.hydrateRoot=function(e,t,r){if(!Xd(e))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=_4;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=S4(t,null,e,1,r??null,i,!1,s,a),e[dn]=t.current,ba(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Go(t)};ur.render=function(e,t,r){if(!Ko(t))throw Error(Q(200));return Yo(null,e,t,!1,r)};ur.unmountComponentAtNode=function(e){if(!Ko(e))throw Error(Q(40));return e._reactRootContainer?(ki(function(){Yo(null,null,e,!1,function(){e._reactRootContainer=null,e[dn]=null})}),!0):!1};ur.unstable_batchedUpdates=Hd;ur.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Ko(r))throw Error(Q(200));if(e==null||e._reactInternals===void 0)throw Error(Q(38));return Yo(e,t,r,!1,n)};ur.version="18.3.1-next-f1338f8080-20240426";function j4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(j4)}catch(e){console.error(e)}}j4(),jp.exports=ur;var R5=jp.exports,N4,Jf=R5;N4=Jf.createRoot,Jf.hydrateRoot;const F5="modulepreload",B5=function(e){return"/"+e},Zf={},Ns=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(o=>{if(o=B5(o),o in Zf)return;Zf[o]=!0;const u=o.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":F5,u||(h.as="script"),h.crossOrigin="",h.href=o,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,f)=>{h.addEventListener("load",m),h.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}function s(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return i.then(a=>{for(const l of a||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})},$5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ns(async()=>{const{default:n}=await Promise.resolve().then(()=>Cs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Jd extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class q5 extends Jd{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class em extends Jd{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class tm extends Jd{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wc||(wc={}));var U5=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function o(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,o)}u((n=n.apply(e,t||[])).next())})};class H5{constructor(t,{headers:r={},customFetch:n,region:i=wc.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=$5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return U5(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let l={},{region:o}=r;o||(o=this.region);const u=new URL(`${this.url}/${t}`);o&&o!=="any"&&(l["x-region"]=o,u.searchParams.set("forceFunctionRegion",o));let d;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(l["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(l["Content-Type"]="application/json",d=JSON.stringify(a)));const h=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(k=>{throw new q5(k)}),m=h.headers.get("x-relay-error");if(m&&m==="true")throw new em(h);if(!h.ok)throw new tm(h);let f=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return f==="application/json"?y=yield h.json():f==="application/octet-stream"?y=yield h.blob():f==="text/event-stream"?y=h:f==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof tm||i instanceof em?i.context:void 0}}})}}var Wt={},Zd={},Qo={},$a={},Xo={},Jo={},V5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},xs=V5();const W5=xs.fetch,C4=xs.fetch.bind(xs),E4=xs.Headers,G5=xs.Request,K5=xs.Response,Cs=Object.freeze(Object.defineProperty({__proto__:null,Headers:E4,Request:G5,Response:K5,default:C4,fetch:W5},Symbol.toStringTag,{value:"Module"})),Y5=hv(Cs);var Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});let Q5=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Zo.default=Q5;var T4=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jo,"__esModule",{value:!0});const X5=T4(Y5),J5=T4(Zo);let Z5=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=X5.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,l,o,u;let d=null,h=null,m=null,f=s.status,y=s.statusText;if(s.ok){if(this.method!=="HEAD"){const w=await s.text();w===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?h=w:h=JSON.parse(w))}const N=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),v=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");N&&v&&v.length>1&&(m=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,f=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const N=await s.text();try{d=JSON.parse(N),Array.isArray(d)&&s.status===404&&(h=[],d=null,f=200,y="OK")}catch{s.status===404&&N===""?(f=204,y="No Content"):d={message:N}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,f=200,y="OK"),d&&this.shouldThrowOnError)throw new J5.default(d)}return{error:d,data:h,count:m,status:f,statusText:y}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,l,o;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(l=s==null?void 0:s.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(o=s==null?void 0:s.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Jo.default=Z5;var ex=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xo,"__esModule",{value:!0});const tx=ex(Jo);let rx=class extends tx.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(a,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var l;const o=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${u}"; options=${o};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Xo.default=rx;var nx=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($a,"__esModule",{value:!0});const ix=nx(Xo);let sx=class extends ix.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${a}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};$a.default=sx;var ax=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Qo,"__esModule",{value:!0});const qs=ax($a);let lx=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new qs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var i;const s="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,o)=>l.concat(Object.keys(o)),[]);if(a.length>0){const l=[...new Set(a)].map(o=>`"${o}"`);this.url.searchParams.set("columns",l.join(","))}}return new qs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),i&&this.headers.append("Prefer",`count=${i}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(o.length>0){const u=[...new Set(o)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new qs.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:r}={}){var n;const i="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new qs.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new qs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Qo.default=lx;var A4=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zd,"__esModule",{value:!0});const ox=A4(Qo),ux=A4($a);let cx=class M4{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new ox.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new M4(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:s}={}){var a;let l;const o=new URL(`${this.url}/rpc/${t}`);let u;n||i?(l=n?"HEAD":"GET",Object.entries(r).filter(([h,m])=>m!==void 0).map(([h,m])=>[h,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([h,m])=>{o.searchParams.append(h,m)})):(l="POST",u=r);const d=new Headers(this.headers);return s&&d.set("Prefer",`count=${s}`),new ux.default({method:l,url:o,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};Zd.default=cx;var Es=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wt,"__esModule",{value:!0});Wt.PostgrestError=Wt.PostgrestBuilder=Wt.PostgrestTransformBuilder=Wt.PostgrestFilterBuilder=Wt.PostgrestQueryBuilder=Wt.PostgrestClient=void 0;const P4=Es(Zd);Wt.PostgrestClient=P4.default;const I4=Es(Qo);Wt.PostgrestQueryBuilder=I4.default;const z4=Es($a);Wt.PostgrestFilterBuilder=z4.default;const D4=Es(Xo);Wt.PostgrestTransformBuilder=D4.default;const O4=Es(Jo);Wt.PostgrestBuilder=O4.default;const L4=Es(Zo);Wt.PostgrestError=L4.default;var dx=Wt.default={PostgrestClient:P4.default,PostgrestQueryBuilder:I4.default,PostgrestFilterBuilder:z4.default,PostgrestTransformBuilder:D4.default,PostgrestBuilder:O4.default,PostgrestError:L4.default};const{PostgrestClient:hx,PostgrestQueryBuilder:yC,PostgrestFilterBuilder:vC,PostgrestTransformBuilder:xC,PostgrestBuilder:wC,PostgrestError:bC}=dx;class fx{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const mx="2.15.5",px=`realtime-js/${mx}`,gx="1.0.0",bc=1e4,yx=1e3,vx=100;var aa;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(aa||(aa={}));var pt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(pt||(pt={}));var Tr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Tr||(Tr={}));var kc;(function(e){e.websocket="websocket"})(kc||(kc={}));var ci;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ci||(ci={}));class xx{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const l=n.decode(t.slice(a,a+i));a=a+i;const o=n.decode(t.slice(a,a+s));a=a+s;const u=JSON.parse(n.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:o,payload:u}}}class R4{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ue;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ue||(Ue={}));const rm=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,a)=>(s[a]=wx(a,e,t,i),s),{})},wx=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i==null?void 0:i.type,a=r[e];return s&&!n.includes(s)?F4(s,a):Sc(a)},F4=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return _x(t,r)}switch(e){case Ue.bool:return bx(t);case Ue.float4:case Ue.float8:case Ue.int2:case Ue.int4:case Ue.int8:case Ue.numeric:case Ue.oid:return kx(t);case Ue.json:case Ue.jsonb:return Sx(t);case Ue.timestamp:return jx(t);case Ue.abstime:case Ue.date:case Ue.daterange:case Ue.int4range:case Ue.int8range:case Ue.money:case Ue.reltime:case Ue.text:case Ue.time:case Ue.timestamptz:case Ue.timetz:case Ue.tsrange:case Ue.tstzrange:return Sc(t);default:return Sc(t)}},Sc=e=>e,bx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},kx=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Sx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},_x=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const a=e.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(l=>F4(t,l))}return e},jx=e=>typeof e=="string"?e.replace(" ","T"):e,B4=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class $0{constructor(t,r,n={},i=bc){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var nm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(nm||(nm={}));class la{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=la.syncState(this.state,i,s,a),this.pendingDiffs.forEach(o=>{this.state=la.syncDiff(this.state,o,s,a)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=la.syncDiff(this.state,i,s,a),l())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),a=this.transformState(r),l={},o={};return this.map(s,(u,d)=>{a[u]||(o[u]=d)}),this.map(a,(u,d)=>{const h=s[u];if(h){const m=d.map(N=>N.presence_ref),f=h.map(N=>N.presence_ref),y=d.filter(N=>f.indexOf(N.presence_ref)<0),k=h.filter(N=>m.indexOf(N.presence_ref)<0);y.length>0&&(l[u]=y),k.length>0&&(o[u]=k)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:o},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,o)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(o),d.length>0){const h=t[l].map(f=>f.presence_ref),m=d.filter(f=>h.indexOf(f.presence_ref)<0);t[l].unshift(...m)}n(l,d,o)}),this.map(a,(l,o)=>{let u=t[l];if(!u)return;const d=o.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,i(l,u,o),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var im;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(im||(im={}));var oa;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(oa||(oa={}));var en;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(en||(en={}));class eh{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=pt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new $0(this,Tr.join,this.params,this.timeout),this.rejoinTimer=new R4(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pt.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tr.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new la(this),this.broadcastEndpointURL=B4(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==pt.closed){const{config:{broadcast:a,presence:l,private:o}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[oa.PRESENCE]&&this.bindings[oa.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},m={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(en.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(en.CLOSED)),this.updateJoinPayload(Object.assign({config:m},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var y;if(this.socket.setAuth(),f===void 0){t==null||t(en.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,N=(y=k==null?void 0:k.length)!==null&&y!==void 0?y:0,v=[];for(let w=0;w<N;w++){const x=k[w],{filter:{event:j,schema:I,table:_,filter:z}}=x,R=f&&f[w];if(R&&R.event===j&&R.schema===I&&R.table===_&&R.filter===z)v.push(Object.assign(Object.assign({},x),{id:R.id}));else{this.unsubscribe(),this.state=pt.errored,t==null||t(en.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(en.SUBSCRIBED);return}}).receive("error",f=>{this.state=pt.errored,t==null||t(en.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(en.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===pt.joined&&t===oa.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:a}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,l,o;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||o===void 0)&&o.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=pt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new $0(this,Tr.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new $0(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>vx){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const a=t.toLocaleLowerCase(),{close:l,error:o,leave:u,join:d}=Tr;if(n&&[l,o,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let m=this._onMessage(a,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var y,k,N;return((y=f.filter)===null||y===void 0?void 0:y.event)==="*"||((N=(k=f.filter)===null||k===void 0?void 0:k.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===a}).map(f=>f.callback(m,n)):(s=this.bindings[a])===null||s===void 0||s.filter(f=>{var y,k,N,v,w,x;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const j=f.id,I=(y=f.filter)===null||y===void 0?void 0:y.event;return j&&((k=r.ids)===null||k===void 0?void 0:k.includes(j))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const j=(w=(v=f==null?void 0:f.filter)===null||v===void 0?void 0:v.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return j==="*"||j===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:k,table:N,commit_timestamp:v,type:w,errors:x}=y;m=Object.assign(Object.assign({},{schema:k,table:N,commit_timestamp:v,eventType:w,new:{},old:{},errors:x}),this._getPayloadRecords(y))}f.callback(m,n)})}_isClosed(){return this.state===pt.closed}_isJoined(){return this.state===pt.joined}_isJoining(){return this.state===pt.joining}_isLeaving(){return this.state===pt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&eh.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Tr.close,{},t)}_onError(t){this._on(Tr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=rm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=rm(t.columns,t.old_record)),r}}const q0=()=>{},gl={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Nx=[1e3,2e3,5e3,1e4],Cx=1e4,Ex=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Tx{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=bc,this.transport=null,this.heartbeatIntervalMs=gl.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=q0,this.ref=0,this.reconnectTimer=null,this.logger=q0,this.conn=null,this.sendBuffer=[],this.serializer=new xx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>Ns(async()=>{const{default:l}=await Promise.resolve().then(()=>Cs);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${kc.websocket}`,this.httpEndpoint=B4(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=fx.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gx}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case aa.connecting:return ci.Connecting;case aa.open:return ci.Open;case aa.closing:return ci.Closing;default:return ci.Closed}}isConnected(){return this.connectionState()===ci.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new eh(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,a=()=>{this.encode(t,l=>{var o;(o=this.conn)===null||o===void 0||o.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(yx,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},gl.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,l=a?`(${a})`:"",o=s.status||"";this.log("receive",`${o} ${n} ${i} ${l}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Tr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Ex],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:px};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Tr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new R4(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},gl.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,s,a,l,o,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:bc,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:gl.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:q0,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=t==null?void 0:t.reconnectAfterMs)!==null&&o!==void 0?o:h=>Nx[h-1]||Cx,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(h,m)=>m(JSON.stringify(h)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class th extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function gt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Ax extends th{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _c extends th{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Mx=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function o(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,o)}u((n=n.apply(e,t||[])).next())})};const $4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ns(async()=>{const{default:n}=await Promise.resolve().then(()=>Cs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Px=()=>Mx(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ns(()=>Promise.resolve().then(()=>Cs),void 0)).Response:Response}),jc=e=>{if(Array.isArray(e))return e.map(r=>jc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=jc(n)}),t},Ix=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Ci=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function o(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,o)}u((n=n.apply(e,t||[])).next())})};const U0=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),zx=(e,t,r)=>Ci(void 0,void 0,void 0,function*(){const n=yield Px();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const s=e.status||500,a=(i==null?void 0:i.statusCode)||s+"";t(new Ax(U0(i),s,a))}).catch(i=>{t(new _c(U0(i),i))}):t(new _c(U0(e),e))}),Dx=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(Ix(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function qa(e,t,r,n,i,s){return Ci(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(r,Dx(t,n,i,s)).then(o=>{if(!o.ok)throw o;return n!=null&&n.noResolveJson?o:o.json()}).then(o=>a(o)).catch(o=>zx(o,l,n))})})}function bo(e,t,r,n){return Ci(this,void 0,void 0,function*(){return qa(e,"GET",t,r,n)})}function Rr(e,t,r,n,i){return Ci(this,void 0,void 0,function*(){return qa(e,"POST",t,n,i,r)})}function Nc(e,t,r,n,i){return Ci(this,void 0,void 0,function*(){return qa(e,"PUT",t,n,i,r)})}function Ox(e,t,r,n){return Ci(this,void 0,void 0,function*(){return qa(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function q4(e,t,r,n,i){return Ci(this,void 0,void 0,function*(){return qa(e,"DELETE",t,n,i,r)})}var zt=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function o(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,o)}u((n=n.apply(e,t||[])).next())})};const Lx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Rx{constructor(t,r={},n,i){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=$4(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,i){return zt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},sm),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const o=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),o&&s.append("metadata",this.encodeMetadata(o)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),o&&s.append("metadata",this.encodeMetadata(o))):(s=n,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,o&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(t=="PUT"?Nc:Rr)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(gt(s))return{data:null,error:s};throw s}})}upload(t,r,n){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return zt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),a=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",r);try{let o;const u=Object.assign({upsert:sm.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",u.cacheControl)):(o=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Nc(this.fetch,l.toString(),o,{headers:d});return{data:{path:s,fullPath:h.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(gt(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,r){return zt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Rr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),l=a.searchParams.get("token");if(!l)throw new th("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}update(t,r,n){return zt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return zt(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return zt(this,void 0,void 0,function*(){try{return{data:{path:(yield Rr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return zt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield Rr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return zt(this,void 0,void 0,function*(){try{const i=yield Rr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}download(t,r){return zt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield bo(this.fetch,`${this.url}/${i}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(gt(l))return{data:null,error:l};throw l}})}info(t){return zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield bo(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:jc(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}exists(t){return zt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield Ox(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n)&&n instanceof _c){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});o!==""&&i.push(o);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return zt(this,void 0,void 0,function*(){try{return{data:yield q4(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}list(t,r,n){return zt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Lx),r),{prefix:t||""});return{data:yield Rr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(gt(i))return{data:null,error:i};throw i}})}listV2(t,r){return zt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Rr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Fx="2.12.1",Bx={"X-Client-Info":`storage-js/${Fx}`};var Ii=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function o(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,o)}u((n=n.apply(e,t||[])).next())})};class $x{constructor(t,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},Bx),r),this.fetch=$4(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ii(this,void 0,void 0,function*(){try{return{data:yield bo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(gt(t))return{data:null,error:t};throw t}})}getBucket(t){return Ii(this,void 0,void 0,function*(){try{return{data:yield bo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Ii(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Ii(this,void 0,void 0,function*(){try{return{data:yield Nc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(gt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ii(this,void 0,void 0,function*(){try{return{data:yield Rr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Ii(this,void 0,void 0,function*(){try{return{data:yield q4(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(gt(r))return{data:null,error:r};throw r}})}}class qx extends $x{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new Rx(this.url,this.headers,t,this.fetch)}}const Ux="2.57.4";let Ys="";typeof Deno<"u"?Ys="deno":typeof document<"u"?Ys="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ys="react-native":Ys="node";const Hx={"X-Client-Info":`supabase-js-${Ys}/${Ux}`},Vx={headers:Hx},Wx={schema:"public"},Gx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kx={};var Yx=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function o(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,o)}u((n=n.apply(e,t||[])).next())})};const Qx=e=>{let t;return e?t=e:typeof fetch>"u"?t=C4:t=fetch,(...r)=>t(...r)},Xx=()=>typeof Headers>"u"?E4:Headers,Jx=(e,t,r)=>{const n=Qx(r),i=Xx();return(s,a)=>Yx(void 0,void 0,void 0,function*(){var l;const o=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),n(s,Object.assign(Object.assign({},a),{headers:u}))})};var Zx=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function o(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,o)}u((n=n.apply(e,t||[])).next())})};function e6(e){return e.endsWith("/")?e:e+"/"}function t6(e,t){var r,n;const{db:i,auth:s,realtime:a,global:l}=e,{db:o,auth:u,realtime:d,global:h}=t,m={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Zx(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function r6(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(e6(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const U4="2.71.1",Ui=30*1e3,Cc=3,H0=Cc*Ui,n6="http://localhost:9999",i6="supabase.auth.token",s6={"X-Client-Info":`gotrue-js/${U4}`},Ec="X-Supabase-Api-Version",H4={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},a6=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,l6=10*60*1e3;class rh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function be(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class o6 extends rh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function u6(e){return be(e)&&e.name==="AuthApiError"}class V4 extends rh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Jn extends rh{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Nn extends Jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function c6(e){return be(e)&&e.name==="AuthSessionMissingError"}class yl extends Jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class vl extends Jn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xl extends Jn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function d6(e){return be(e)&&e.name==="AuthImplicitGrantRedirectError"}class am extends Jn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tc extends Jn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function V0(e){return be(e)&&e.name==="AuthRetryableFetchError"}class lm extends Jn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ac extends Jn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ko="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),om=` 	
\r=`.split(""),h6=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<om.length;t+=1)e[om[t].charCodeAt(0)]=-2;for(let t=0;t<ko.length;t+=1)e[ko[t].charCodeAt(0)]=t;return e})();function um(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ko[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ko[n]),t.queuedBits-=6}}function W4(e,t,r){const n=h6[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function cm(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{p6(a,n,r)};for(let a=0;a<e.length;a+=1)W4(e.charCodeAt(a),i,s);return t.join("")}function f6(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function m6(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}f6(n,t)}}function p6(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function g6(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)W4(e.charCodeAt(i),r,n);return new Uint8Array(t)}function y6(e){const t=[];return m6(e,r=>t.push(r)),new Uint8Array(t)}function v6(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>um(i,r,n)),um(null,r,n),t.join("")}function x6(e){return Math.round(Date.now()/1e3)+e}function w6(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Nr=()=>typeof window<"u"&&typeof document<"u",ri={tested:!1,writable:!1},G4=()=>{if(!Nr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ri.tested)return ri.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ri.tested=!0,ri.writable=!0}catch{ri.tested=!0,ri.writable=!1}return ri.writable};function b6(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const K4=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ns(async()=>{const{default:n}=await Promise.resolve().then(()=>Cs);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},k6=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ni=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},kn=async(e,t)=>{await e.removeItem(t)};class e0{constructor(){this.promise=new e0.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}e0.promiseConstructor=Promise;function W0(e){const t=e.split(".");if(t.length!==3)throw new Ac("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!a6.test(t[n]))throw new Ac("JWT not in base64url format");return{header:JSON.parse(cm(t[0])),payload:JSON.parse(cm(t[1])),signature:g6(t[2]),raw:{header:t[0],payload:t[1]}}}async function S6(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function _6(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await e(s);if(!t(s,null,a)){n(a);return}}catch(a){if(!t(s,a)){i(a);return}}})()})}function j6(e){return("0"+e.toString(16)).substr(-2)}function N6(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,j6).join("")}async function C6(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function E6(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await C6(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function zi(e,t,r=!1){const n=N6();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Hi(e,`${t}-code-verifier`,i);const s=await E6(n);return[s,n===s?"plain":"s256"]}const T6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function A6(e){const t=e.headers.get(Ec);if(!t||!t.match(T6))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function M6(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function P6(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const I6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Di(e){if(!I6.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function G0(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function dm(e){return JSON.parse(JSON.stringify(e))}var z6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const ui=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),D6=[502,503,504];async function hm(e){var t;if(!k6(e))throw new Tc(ui(e),0);if(D6.includes(e.status))throw new Tc(ui(e),e.status);let r;try{r=await e.json()}catch(s){throw new V4(ui(s),s)}let n;const i=A6(e);if(i&&i.getTime()>=H4["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new lm(ui(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Nn}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new lm(ui(r),e.status,r.weak_password.reasons);throw new o6(ui(r),e.status||500,n)}const O6=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Ce(e,t,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[Ec]||(s[Ec]=H4["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",o=await L6(e,t,r+l,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}}async function L6(e,t,r,n,i,s){const a=O6(t,n,i,s);let l;try{l=await e(r,Object.assign({},a))}catch(o){throw console.error(o),new Tc(ui(o),0)}if(l.ok||await hm(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(o){await hm(o)}}function Jr(e){var t;let r=null;$6(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=x6(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function fm(e){const t=Jr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Mn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function R6(e){return{data:e,error:null}}function F6(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,a=z6(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},o=Object.assign({},a);return{data:{properties:l,user:o},error:null}}function B6(e){return e}function $6(e){return e.access_token&&e.refresh_token&&e.expires_in}const K0=["global","local","others"];var q6=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class U6{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=K4(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=K0[0]){if(K0.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${K0.join(", ")}`);try{return await Ce(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Ce(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Mn})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=q6(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Ce(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:F6,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(be(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Ce(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mn})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,a,l,o;try{const u={nextPage:null,lastPage:0,total:0},d=await Ce(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:B6});if(d.error)throw d.error;const h=await d.json(),m=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(o=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&o!==void 0?o:[];return f.length>0&&(f.forEach(y=>{const k=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(y.split(";")[1].split("=")[1]);u[`${N}Page`]=k}),u.total=parseInt(m)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(be(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Di(t);try{return await Ce(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mn})}catch(r){if(be(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Di(t);try{return await Ce(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Mn})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Di(t);try{return await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Mn})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Di(t.userId);try{const{data:r,error:n}=await Ce(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(be(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Di(t.userId),Di(t.id);try{return{data:await Ce(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}}function mm(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function H6(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Oi={debug:!!(globalThis&&G4()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Y4 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class V6 extends Y4{}async function W6(e,t,r){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw Oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new V6(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Oi.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}H6();const G6={url:n6,storageKey:i6,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:s6,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function pm(e,t,r){return await r()}const Li={};class Aa{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Aa.nextInstanceID,Aa.nextInstanceID+=1,this.instanceID>0&&Nr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},G6),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new U6({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=K4(i.fetch),this.lock=i.lock||pm,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Nr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=W6:this.lock=pm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:G4()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mm(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=mm(this.memoryStorage)),Nr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Li[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Li[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Li[this.storageKey]=Object.assign(Object.assign({},Li[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${U4}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=b6(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Nr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),d6(s)){const o=(t=s.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return be(r)?{error:r}:{error:new V4("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Jr}),{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const o=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(be(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:d,password:h,options:m}=t;let f=null,y=null;this.flowType==="pkce"&&([f,y]=await zi(this.storage,this.storageKey)),s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:d,password:h,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:f,code_challenge_method:y},xform:Jr})}else if("phone"in t){const{phone:d,password:h,options:m}=t;s=await Ce(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:Jr})}else throw new vl("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l||!a)return{data:{user:null,session:null},error:l};const o=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(s){if(be(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:a,options:l}=t;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fm})}else if("phone"in t){const{phone:s,password:a,options:l}=t;r=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:fm})}else throw new vl("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new yl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,a,l,o,u,d,h,m,f;let y,k;if("message"in t)y=t.message,k=t.signature;else{const{chain:N,wallet:v,statement:w,options:x}=t;let j;if(Nr())if(typeof v=="object")j=v;else{const _=window;if("solana"in _&&typeof _.solana=="object"&&("signIn"in _.solana&&typeof _.solana.signIn=="function"||"signMessage"in _.solana&&typeof _.solana.signMessage=="function"))j=_.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=v}const I=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const _=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),w?{statement:w}:null));let z;if(Array.isArray(_)&&_[0]&&typeof _[0]=="object")z=_[0];else if(_&&typeof _=="object"&&"signedMessage"in _&&"signature"in _)z=_;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)y=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),k=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${I.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(i=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=x==null?void 0:x.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((h=(d=x==null?void 0:x.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...x.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const _=await j.signMessage(new TextEncoder().encode(y),"utf8");if(!_||!(_ instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=_}}try{const{data:N,error:v}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:v6(k)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Jr});if(v)throw v;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new yl}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:v})}catch(N){if(be(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const r=await ni(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Jr});if(await kn(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new yl}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(be(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=t,l=await Ce(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Jr}),{data:o,error:u}=l;return u?{data:{user:null,session:null},error:u}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new yl}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:u})}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,a;try{if("email"in t){const{email:l,options:o}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await zi(this.storage,this.storageKey));const{error:h}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=o==null?void 0:o.data)!==null&&r!==void 0?r:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:o}=t,{data:u,error:d}=await Ce(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(a=o==null?void 0:o.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new vl("You must provide either an email or phone number.")}catch(l){if(be(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:l}=await Ce(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Jr});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const o=a.session,u=a.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:u,session:o},error:null}}catch(i){if(be(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await zi(this.storage,this.storageKey)),await Ce(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:R6})}catch(s){if(be(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Nn;const{error:i}=await Ce(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(be(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:a}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:a,error:l}=await Ce(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new vl("You must provide either an email or phone number and a type")}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ni(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<H0:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await ni(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=G0()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(o,u,d)=>(!a&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,u,d))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Mn}):await this._useSession(async r=>{var n,i,s;const{data:a,error:l}=r;if(l)throw l;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nn}:await Ce(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Mn})})}catch(r){if(be(r))return c6(r)&&(await this._removeSession(),await kn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Nn;const a=i.session;let l=null,o=null;this.flowType==="pkce"&&t.email!=null&&([l,o]=await zi(this.storage,this.storageKey));const{data:u,error:d}=await Ce(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:o}),jwt:a.access_token,xform:Mn});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(be(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Nn;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=W0(t.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:l,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:o}=await this._getUser(t.access_token);if(o)throw o;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(be(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:l}=r;if(l)throw l;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Nn;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(be(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Nr())throw new xl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new am("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new am("No code detected.");const{data:w,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:l,expires_at:o,token_type:u}=t;if(!s||!l||!a||!u)throw new xl("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let m=d+h;o&&(m=parseInt(o));const f=m-d;f*1e3<=Ui&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const y=m-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,d);const{data:k,error:N}=await this._getUser(s);if(N)throw N;const v={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:m,refresh_token:a,token_type:u,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(be(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ni(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(u6(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await kn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=w6(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await zi(this.storage,this.storageKey,!0));try{return await Ce(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(be(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(be(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,l,o,u,d;const{data:h,error:m}=s;if(m)throw m;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await Ce(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Nr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(be(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await Ce(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await _6(async i=>(i>0&&await S6(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Ce(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Jr})),(i,s)=>{const a=200*Math.pow(2,i);return s&&V0(s)&&Date.now()+a-n<Ui})}catch(n){if(this._debug(r,"error",n),be(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Nr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ni(this.storage,this.storageKey);if(i&&this.userStorage){let a=await ni(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Hi(this.userStorage,this.storageKey+"-user",a)),i.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:G0()}else if(i&&!i.user&&!i.user){const a=await ni(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await kn(this.storage,this.storageKey+"-user"),await Hi(this.storage,this.storageKey,i)):i.user=G0()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<H0;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${H0}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),V0(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(i.access_token);!l&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Nn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new e0;const{data:s,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!s.session)throw new Nn;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),be(s)){const a={session:null,error:s};return V0(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(o){s.push(o)}});if(await Promise.all(a),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Hi(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=dm(i);await Hi(this.storage,this.storageKey,s)}else{const i=dm(r);await Hi(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await kn(this.storage,this.storageKey),await kn(this.storage,this.storageKey+"-code-verifier"),await kn(this.storage,this.storageKey+"-user"),this.userStorage&&await kn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Nr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ui);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/Ui);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ui}ms, refresh threshold is ${Cc} ticks`),i<=Cc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Y4)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await zi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(l.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Ce(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:o,error:u}=await Ce(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(r){if(be(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:l}=await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(r){if(be(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Ce(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(be(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=W0(i.access_token);let l=null;a.aal&&(l=a.aal);let o=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const d=a.amr||[];return{data:{currentLevel:l,nextLevel:o,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+l6>i)return n;const{data:s,error:a}=await Ce(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:f,error:y}=await this.getSession();if(y||!f.session)return{data:null,error:y};n=f.session.access_token}const{header:i,payload:s,signature:a,raw:{header:l,payload:o}}=W0(n);r!=null&&r.allowExpired||M6(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:a},error:null}}const d=P6(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,a,y6(`${l}.${o}`)))throw new Ac("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(be(n))return{data:null,error:n};throw n}}}Aa.nextInstanceID=0;const K6=Aa;class Y6 extends K6{constructor(t){super(t)}}var Q6=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function l(d){try{u(n.next(d))}catch(h){a(h)}}function o(d){try{u(n.throw(d))}catch(h){a(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,o)}u((n=n.apply(e,t||[])).next())})};class X6{constructor(t,r,n){var i,s,a;this.supabaseUrl=t,this.supabaseKey=r;const l=r6(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const o=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:Wx,realtime:Kx,auth:Object.assign(Object.assign({},Gx),{storageKey:o}),global:Vx},d=t6(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=Jx(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new hx(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new qx(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new H5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Q6(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:l,lock:o,debug:u},d,h){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Y6({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:l,lock:o,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new Tx(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const J6=(e,t,r)=>new X6(e,t,r);function Z6(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Z6()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const e7="https://xtgwncqaxwjyvjkczxjv.supabase.co",t7="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh0Z3duY3FheHdqeXZqa2N6eGp2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjEwNzYsImV4cCI6MjA3NTMzNzA3Nn0.vme9Moaoj03UrQdyX5cMm7vrIlvWq8_860ZJSENcFL0",se=J6(e7,t7),r7=Object.freeze(Object.defineProperty({__proto__:null,supabase:se},Symbol.toStringTag,{value:"Module"})),Q4=F.createContext(void 0);function n7({children:e}){const[t,r]=F.useState(null),[n,i]=F.useState(null),[s,a]=F.useState(!0);F.useEffect(()=>{se.auth.getSession().then(({data:{session:f}})=>{r((f==null?void 0:f.user)??null),f!=null&&f.user?l(f.user.id):a(!1)});const{data:{subscription:m}}=se.auth.onAuthStateChange((f,y)=>{r((y==null?void 0:y.user)??null),y!=null&&y.user?l(y.user.id):(i(null),a(!1))});return()=>m.unsubscribe()},[]);const l=async m=>{try{const{data:f,error:y}=await se.from("profiles").select("*").eq("id",m).maybeSingle();if(y)throw y;i(f)}catch(f){console.error("Error fetching profile:",f)}finally{a(!1)}},h={user:t,profile:n,loading:s,signUp:async(m,f,y="student")=>{const{data:k,error:N}=await se.auth.signUp({email:m,password:f});if(N)throw N;if(k.user){const{error:v}=await se.from("profiles").update({role:y}).eq("id",k.user.id);if(v)throw v}},signIn:async(m,f)=>{const{error:y}=await se.auth.signInWithPassword({email:m,password:f});if(y)throw y},signOut:async()=>{try{r(null),i(null);const{error:m}=await se.auth.signOut();if(m)throw m}catch(m){throw console.error("Sign out error:",m),r(null),i(null),m}}};return c.jsx(Q4.Provider,{value:h,children:e})}function vn(){const e=F.useContext(Q4);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s7=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_e=(e,t)=>{const r=F.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:o,...u},d)=>F.createElement("svg",{ref:d,...i7,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${s7(e)}`,l].join(" "),...u},[...t.map(([h,m])=>F.createElement(h,m)),...Array.isArray(o)?o:[o]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=_e("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a7=_e("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l7=_e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=_e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o7=_e("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=_e("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=_e("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=_e("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J4=_e("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u7=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c7=_e("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=_e("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=_e("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d7=_e("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=_e("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=_e("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h7=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=_e("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f7=_e("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=_e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=_e("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=_e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m7=_e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p7=_e("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=_e("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=_e("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v7=_e("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=_e("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=_e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=_e("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=_e("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Si({isOpen:e,onClose:t,onConfirm:r,title:n,message:i,type:s="alert",confirmText:a="OK",cancelText:l="Cancel"}){if(!e)return null;const o=()=>{r&&r(),t()},u=()=>{switch(s){case"success":return c.jsx(J4,{className:"w-12 h-12 text-green-600"});case"error":return c.jsx(gm,{className:"w-12 h-12 text-red-600"});case"warning":return c.jsx(a7,{className:"w-12 h-12 text-yellow-600"});default:return c.jsx(gm,{className:"w-12 h-12 text-blue-600"})}};return c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 backdrop-blur-sm",children:c.jsxs("div",{className:"relative w-full max-w-md bg-white rounded-lg shadow-2xl transform transition-all",children:[c.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600 transition-colors",children:c.jsx(ws,{className:"w-5 h-5"})}),c.jsxs("div",{className:"p-6",children:[c.jsx("div",{className:"flex justify-center mb-4",children:u()}),c.jsx("h3",{className:"text-xl font-bold text-center text-gray-900 mb-3",children:n}),c.jsx("p",{className:"text-center text-gray-600 mb-6 whitespace-pre-line",children:i}),c.jsxs("div",{className:"flex gap-3",children:[s==="confirm"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:t,className:"flex-1 px-4 py-2.5 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors font-medium",children:l}),c.jsx("button",{onClick:o,className:"flex-1 px-4 py-2.5 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors font-medium",children:a})]}),s!=="confirm"&&c.jsx("button",{onClick:o,className:"w-full px-4 py-2.5 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors font-medium",children:a})]})]})]})})}function b7({onLoginSuccess:e}={}){const[t,r]=F.useState(""),[n,i]=F.useState(""),[s,a]=F.useState(""),[l,o]=F.useState(!1),[u,d]=F.useState(""),[h,m]=F.useState(!1),[f,y]=F.useState(!1),[k,N]=F.useState(!1),[v,w]=F.useState(!1),[x,j]=F.useState(!1),[I,_]=F.useState(""),[z,R]=F.useState(!1),[q,M]=F.useState(!1),{signIn:U,signUp:L}=vn(),B=($=>{let G=0;return $.length>=8&&G++,$.length>=12&&G++,/[a-z]/.test($)&&/[A-Z]/.test($)&&G++,/\d/.test($)&&G++,/[^A-Za-z0-9]/.test($)&&G++,G===0||G===1?{score:1,label:"Weak",color:"bg-red-500"}:G===2||G===3?{score:2,label:"Medium",color:"bg-yellow-500"}:{score:3,label:"Strong",color:"bg-green-500"}})(n),H=$=>$.length<8?"Password must be at least 8 characters long":/[a-z]/.test($)?/[A-Z]/.test($)?/\d/.test($)?/[^A-Za-z0-9]/.test($)?null:"Password must contain at least one special character":"Password must contain at least one number":"Password must contain at least one uppercase letter":"Password must contain at least one lowercase letter",Z=async $=>{$.preventDefault(),d(""),R(!0);try{const{supabase:G}=await Ns(async()=>{const{supabase:ge}=await Promise.resolve().then(()=>r7);return{supabase:ge}},void 0),{error:C}=await G.auth.resetPasswordForEmail(I,{redirectTo:`${window.location.origin}/reset-password`});if(C)throw C;M(!0)}catch(G){d(G.message||"Failed to send reset email")}finally{R(!1)}},ce=async $=>{$.preventDefault(),d(""),m(!0);try{if(l){const G=H(n);if(G){d(G),m(!1);return}if(n!==s){d("Passwords do not match"),m(!1);return}await L(t,n,"student"),w(!0)}else await U(t,n),e&&e()}catch(G){d(G.message||"An error occurred")}finally{m(!1)}};return c.jsxs(c.Fragment,{children:[c.jsx(Si,{isOpen:v,onClose:()=>{w(!1),o(!1),i(""),a("")},title:"Success!",message:"Account created successfully! Please log in.",type:"success"}),c.jsx(Si,{isOpen:q,onClose:()=>{M(!1),j(!1),_("")},title:"Check Your Email",message:"If an account exists with that email, you will receive a password reset link shortly.",type:"success"}),c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:c.jsx("div",{className:"w-full max-w-md",children:c.jsxs("div",{className:"bg-white p-8",children:[c.jsx("div",{className:"flex items-center justify-center mb-8",children:c.jsx("div",{className:"bg-black p-3 rounded-lg",children:c.jsx(Pc,{className:"w-8 h-8 text-white"})})}),x?c.jsxs(c.Fragment,{children:[c.jsx("h2",{className:"text-3xl font-semibold text-center mb-2 text-gray-900",children:"Reset Password"}),c.jsx("p",{className:"text-center text-gray-600 mb-8 text-sm",children:"Enter your email address and we'll send you a password reset link"}),u&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded",children:c.jsx("p",{className:"text-sm text-red-600",children:u})}),c.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"resetEmail",className:"block text-sm font-medium text-gray-900 mb-1.5",children:"Email address"}),c.jsx("input",{id:"resetEmail",type:"email",value:I,onChange:$=>_($.target.value),required:!0,className:"w-full px-3 py-2.5 border border-gray-300 rounded text-gray-900 focus:outline-none focus:border-black transition-colors",placeholder:"you@example.com"})]}),c.jsx("button",{type:"submit",disabled:z,className:"w-full bg-black text-white py-2.5 rounded font-medium hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:z?"Sending...":"Send Reset Link"})]}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{onClick:()=>{j(!1),d(""),_("")},className:"text-black hover:text-gray-800 text-sm transition-colors",children:"Back to Sign In"})})]}):c.jsxs(c.Fragment,{children:[c.jsx("h2",{className:"text-3xl font-semibold text-center mb-2 text-gray-900",children:l?"Create your account":"Welcome back"}),c.jsx("p",{className:"text-center text-gray-600 mb-8 text-sm",children:l?"Sign up to access exam papers":"Sign in to manage the platform"}),u&&c.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded",children:c.jsx("p",{className:"text-sm text-red-600",children:u})}),c.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-900 mb-1.5",children:"Email address"}),c.jsx("input",{id:"email",type:"email",value:t,onChange:$=>r($.target.value),required:!0,className:"w-full px-3 py-2.5 border border-gray-300 rounded text-gray-900 focus:outline-none focus:border-black transition-colors",placeholder:"you@example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-900 mb-1.5",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"password",type:f?"text":"password",value:n,onChange:$=>i($.target.value),required:!0,minLength:l?8:6,className:"w-full px-3 py-2.5 pr-10 border border-gray-300 rounded text-gray-900 focus:outline-none focus:border-black transition-colors",placeholder:"••••••••"}),c.jsx("button",{type:"button",onClick:()=>y(!f),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:f?c.jsx(wm,{className:"w-5 h-5"}):c.jsx(bm,{className:"w-5 h-5"})})]}),l&&n.length>0&&c.jsxs("div",{className:"mt-2",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-xs text-gray-600",children:"Password strength:"}),c.jsx("span",{className:`text-xs font-medium ${B.score===1?"text-red-600":B.score===2?"text-yellow-600":"text-green-600"}`,children:B.label})]}),c.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 overflow-hidden",children:c.jsx("div",{className:`h-full transition-all duration-300 ${B.color}`,style:{width:`${B.score/3*100}%`}})}),c.jsxs("div",{className:"mt-2 space-y-1",children:[c.jsx("p",{className:`text-xs ${n.length>=8?"text-green-600":"text-gray-500"}`,children:"✓ At least 8 characters"}),c.jsx("p",{className:`text-xs ${/[a-z]/.test(n)&&/[A-Z]/.test(n)?"text-green-600":"text-gray-500"}`,children:"✓ Uppercase & lowercase letters"}),c.jsx("p",{className:`text-xs ${/\d/.test(n)?"text-green-600":"text-gray-500"}`,children:"✓ At least one number"}),c.jsx("p",{className:`text-xs ${/[^A-Za-z0-9]/.test(n)?"text-green-600":"text-gray-500"}`,children:"✓ At least one special character"})]})]})]}),l&&c.jsxs("div",{children:[c.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-900 mb-1.5",children:"Confirm Password"}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{id:"confirmPassword",type:k?"text":"password",value:s,onChange:$=>a($.target.value),required:!0,className:"w-full px-3 py-2.5 pr-10 border border-gray-300 rounded text-gray-900 focus:outline-none focus:border-black transition-colors",placeholder:"••••••••"}),c.jsx("button",{type:"button",onClick:()=>N(!k),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:k?c.jsx(wm,{className:"w-5 h-5"}):c.jsx(bm,{className:"w-5 h-5"})})]}),s&&n!==s&&c.jsx("p",{className:"text-xs text-red-600 mt-1",children:"Passwords do not match"})]}),c.jsx("button",{type:"submit",disabled:h,className:"w-full bg-black text-white py-2.5 rounded font-medium hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Please wait...":l?"Continue":"Sign in"})]}),!l&&c.jsx("div",{className:"mt-4 text-center",children:c.jsx("button",{onClick:()=>j(!0),className:"text-sm text-gray-600 hover:text-black transition-colors",children:"Forgot password?"})}),c.jsx("div",{className:"mt-6 text-center",children:c.jsx("button",{onClick:()=>{o(!l),d("")},className:"text-black hover:text-gray-800 text-sm transition-colors",children:l?"Already have an account? Sign in":"Don't have an account? Sign up"})})]})]})})})]})}function t0(){const[e,t]=F.useState({show:!1,title:"",message:"",type:"alert"});return{modalState:e,showAlert:(s,a="Alert",l="alert")=>{t({show:!0,title:a,message:s,type:l})},showConfirm:(s,a,l="Confirm")=>{t({show:!0,title:l,message:s,type:"confirm",onConfirm:a})},closeModal:()=>{t({show:!1,title:"",message:"",type:"alert"})}}}function k7(){const{modalState:e,showAlert:t,showConfirm:r,closeModal:n}=t0(),[i,s]=F.useState([]),[a,l]=F.useState(!1),[o,u]=F.useState(null),[d,h]=F.useState({name:"",description:""}),[m,f]=F.useState(!0);F.useEffect(()=>{y()},[]);const y=async()=>{try{const{data:x,error:j}=await se.from("subjects").select("*").order("name");if(j)throw j;s(x||[])}catch(x){console.error("Error fetching subjects:",x)}finally{f(!1)}},k=async x=>{x.preventDefault();try{if(o){const{error:j}=await se.from("subjects").update({name:d.name,description:d.description||null}).eq("id",o);if(j)throw j}else{const{error:j}=await se.from("subjects").insert([{name:d.name,description:d.description||null}]);if(j)throw j}h({name:"",description:""}),l(!1),u(null),y()}catch(j){t(j.message,"Error","error")}},N=x=>{u(x.id),h({name:x.name,description:x.description||""}),l(!0)},v=async x=>{try{const{data:j,error:I}=await se.from("exam_papers").select("id").eq("subject_id",x).limit(1);if(I)throw I;if(j&&j.length>0){t("This subject cannot be deleted because it is being used by one or more exam papers. Please remove or reassign those exam papers first.","Cannot Delete Subject","warning");return}r("Are you sure you want to delete this subject? This action cannot be undone.",async()=>{try{const{error:_}=await se.from("subjects").delete().eq("id",x);if(_)throw _;y()}catch(_){t(_.message,"Error","error")}},"Delete Subject")}catch(j){t(j.message,"Error","error")}},w=()=>{l(!1),u(null),h({name:"",description:""})};return m?c.jsx("div",{className:"text-center py-8 text-gray-600",children:"Loading subjects..."}):c.jsxs(c.Fragment,{children:[c.jsx(Si,{isOpen:e.show,onClose:n,onConfirm:e.onConfirm,title:e.title,message:e.message,type:e.type}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Ua,{className:"w-6 h-6 text-black"}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Subjects"})]}),!a&&c.jsxs("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:[c.jsx(Ha,{className:"w-4 h-4"}),c.jsx("span",{children:"Add Subject"})]})]}),a&&c.jsx("form",{onSubmit:k,className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-900 mb-1",children:"Subject Name"}),c.jsx("input",{id:"name",type:"text",value:d.name,onChange:x=>h({...d,name:x.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-black ",placeholder:"e.g., Mathematics"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-900 mb-1",children:"Description (Optional)"}),c.jsx("textarea",{id:"description",value:d.description,onChange:x=>h({...d,description:x.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-black ",placeholder:"Brief description of the subject"})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:[o?"Update":"Add"," Subject"]}),c.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-gray-100 text-gray-900 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})}),c.jsx("div",{className:"space-y-3",children:i.length===0?c.jsx("div",{className:"text-center py-8 text-gray-600",children:'No subjects added yet. Click "Add Subject" to get started.'}):i.map(x=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:x.name}),x.description&&c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>N(x),className:"p-2 text-black hover:bg-gray-50 rounded-lg transition-colors",children:c.jsx(Z4,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>v(x.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(Va,{className:"w-4 h-4"})})]})]},x.id))})]})]})}function S7(){const{modalState:e,showAlert:t,showConfirm:r,closeModal:n}=t0(),[i,s]=F.useState([]),[a,l]=F.useState(!1),[o,u]=F.useState(null),[d,h]=F.useState({name:"",display_order:0}),[m,f]=F.useState(!0);F.useEffect(()=>{y()},[]);const y=async()=>{try{const{data:x,error:j}=await se.from("grade_levels").select("*").order("display_order");if(j)throw j;s(x||[])}catch(x){console.error("Error fetching grade levels:",x)}finally{f(!1)}},k=async x=>{x.preventDefault();try{if(o){const{error:j}=await se.from("grade_levels").update({name:d.name,display_order:d.display_order}).eq("id",o);if(j)throw j}else{const{error:j}=await se.from("grade_levels").insert([{name:d.name,display_order:d.display_order}]);if(j)throw j}h({name:"",display_order:0}),l(!1),u(null),y()}catch(j){t(j.message,"Error","error")}},N=x=>{u(x.id),h({name:x.name,display_order:x.display_order}),l(!0)},v=async x=>{try{const{data:j,error:I}=await se.from("exam_papers").select("id").eq("grade_level_id",x).limit(1);if(I)throw I;if(j&&j.length>0){t("This grade level cannot be deleted because it is being used by one or more exam papers. Please remove or reassign those exam papers first.","Cannot Delete Grade Level","warning");return}r("Are you sure you want to delete this grade level? This action cannot be undone.",async()=>{try{const{error:_}=await se.from("grade_levels").delete().eq("id",x);if(_)throw _;y()}catch(_){t(_.message,"Error","error")}},"Delete Grade Level")}catch(j){t(j.message,"Error","error")}},w=()=>{l(!1),u(null),h({name:"",display_order:0})};return m?c.jsx("div",{className:"text-center py-8 text-gray-600",children:"Loading grade levels..."}):c.jsxs(c.Fragment,{children:[c.jsx(Si,{isOpen:e.show,onClose:n,onConfirm:e.onConfirm,title:e.title,message:e.message,type:e.type}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Mc,{className:"w-6 h-6 text-black"}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Grade Levels"})]}),!a&&c.jsxs("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:[c.jsx(Ha,{className:"w-4 h-4"}),c.jsx("span",{children:"Add Grade Level"})]})]}),a&&c.jsx("form",{onSubmit:k,className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-900 mb-1",children:"Grade Level Name"}),c.jsx("input",{id:"name",type:"text",value:d.name,onChange:x=>h({...d,name:x.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-black ",placeholder:"e.g., Grade 9"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"display_order",className:"block text-sm font-medium text-gray-900 mb-1",children:"Display Order"}),c.jsx("input",{id:"display_order",type:"number",value:d.display_order,onChange:x=>h({...d,display_order:parseInt(x.target.value)}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-black ",placeholder:"e.g., 9"})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:[o?"Update":"Add"," Grade Level"]}),c.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-gray-100 text-gray-900 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})}),c.jsx("div",{className:"space-y-3",children:i.length===0?c.jsx("div",{className:"text-center py-8 text-gray-600",children:'No grade levels added yet. Click "Add Grade Level" to get started.'}):i.map(x=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:x.name}),c.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Order: ",x.display_order]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>N(x),className:"p-2 text-black hover:bg-gray-50 rounded-lg transition-colors",children:c.jsx(Z4,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>v(x.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(Va,{className:"w-4 h-4"})})]})]},x.id))})]})]})}async function _o(e){if(!window.pdfjsLib)throw new Error("pdf.js library not loaded");window.pdfjsLib.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";const t=await e.arrayBuffer(),r=await window.pdfjsLib.getDocument({data:t}).promise,n=[];for(let i=1;i<=r.numPages;i++){const s=await r.getPage(i),a=s.getViewport({scale:2}),l=document.createElement("canvas"),o=l.getContext("2d");if(!o)throw new Error("Failed to get canvas context");l.width=a.width,l.height=a.height,await s.render({canvasContext:o,viewport:a}).promise;const u=l.toDataURL("image/jpeg",.85).split(",")[1];n.push({inlineData:{data:u,mimeType:"image/jpeg"}})}return n}function _m(e){return URL.createObjectURL(e)}function Fi(e){URL.revokeObjectURL(e)}function _7(){const{user:e}=vn(),{modalState:t,showAlert:r,showConfirm:n,closeModal:i}=t0(),[s,a]=F.useState([]),[l,o]=F.useState([]),[u,d]=F.useState([]),[h,m]=F.useState([]),[f,y]=F.useState(!1),[k,N]=F.useState(null),[v,w]=F.useState({title:"",subject_id:"",grade_level_id:"",year:new Date().getFullYear(),month:"",ai_prompt_id:""}),x=[{value:"1",label:"January"},{value:"2",label:"February"},{value:"3",label:"March"},{value:"4",label:"April"},{value:"5",label:"May"},{value:"6",label:"June"},{value:"7",label:"July"},{value:"8",label:"August"},{value:"9",label:"September"},{value:"10",label:"October"},{value:"11",label:"November"},{value:"12",label:"December"}],j=J=>{if(!J)return null;const we=x.find(Fe=>parseInt(Fe.value)===J);return we?we.label:null},[I,_]=F.useState(null),[z,R]=F.useState(null),[q,M]=F.useState(""),[U,L]=F.useState(""),[te,B]=F.useState([]),[H,Z]=F.useState(!1),[ce,$]=F.useState(!0),[G,C]=F.useState(!1),[ge,ye]=F.useState("");F.useEffect(()=>{A()},[]);const A=async()=>{try{const[J,we,Fe,De]=await Promise.all([se.from("exam_papers").select(`
            *,
            subjects (name),
            grade_levels (name),
            marking_schemes (id, pdf_url),
            ai_prompts (name)
          `).order("created_at",{ascending:!1}),se.from("subjects").select("*").order("name"),se.from("grade_levels").select("*").order("display_order"),se.from("ai_prompts").select("id, name, description").order("name")]);if(J.error)throw J.error;if(we.error)throw we.error;if(Fe.error)throw Fe.error;if(De.error)throw De.error;a(J.data||[]),o(we.data||[]),d(Fe.data||[]),m(De.data||[])}catch(J){console.error("Error fetching data:",J)}finally{$(!1)}},ze=async(J,we,Fe)=>{const De=J.name.split(".").pop(),Re=`${Fe}/${Date.now()}-${Math.random().toString(36).substring(7)}.${De}`,{data:Ze,error:oe}=await se.storage.from(we).upload(Re,J,{cacheControl:"3600",upsert:!1});if(oe)throw oe;const{data:{publicUrl:ne}}=se.storage.from(we).getPublicUrl(Ze.path);return{path:Ze.path,url:ne}},st=J=>{N(J.id),w({title:J.title,subject_id:J.subject_id,grade_level_id:J.grade_level_id,year:J.year,month:J.month?J.month.toString():"",ai_prompt_id:J.ai_prompt_id||""}),y(!0)},Me=async J=>{if(J.preventDefault(),!!k){C(!0);try{const{error:we}=await se.from("exam_papers").update({title:v.title,subject_id:v.subject_id,grade_level_id:v.grade_level_id,year:v.year,month:v.month?parseInt(v.month):null,ai_prompt_id:v.ai_prompt_id||null}).eq("id",k);if(we)throw we;r("Exam paper updated successfully!","Success","success"),w({title:"",subject_id:"",grade_level_id:"",year:new Date().getFullYear(),month:"",ai_prompt_id:""}),y(!1),N(null),A()}catch(we){console.error("Update error:",we),r(we.message||"Failed to update exam paper","Update Failed","error")}finally{C(!1)}}},Je=async J=>{if(J.preventDefault(),k)return Me(J);if(!I){r("Please select an exam paper PDF","Missing File","warning");return}if(!e){r("You must be logged in to upload exam papers","Authentication Required","warning");return}C(!0);try{const we=await ze(I,"exam-papers","papers"),{data:Fe,error:De}=await se.from("exam_papers").insert([{title:v.title,subject_id:v.subject_id,grade_level_id:v.grade_level_id,year:v.year,month:v.month?parseInt(v.month):null,ai_prompt_id:v.ai_prompt_id||null,pdf_url:we.url,pdf_path:we.path,uploaded_by:e.id}]).select().single();if(De)throw De;if(z&&Fe){const Re=await ze(z,"marking-schemes","schemes"),{error:Ze}=await se.from("marking_schemes").insert([{exam_paper_id:Fe.id,pdf_url:Re.url,pdf_path:Re.path,uploaded_by:e.id}]);if(Ze)throw Ze}try{if(ye("Converting PDF to images..."),te.length===0)throw new Error("No images extracted from PDF. Please try again.");const Re=te.map((Ae,je)=>({pageNumber:je+1,base64Image:Ae.inlineData.data}));console.log(`Prepared ${Re.length} pages for AI processing`);let Ze=[];z&&(ye("Converting marking scheme to images..."),Ze=(await _o(z)).map((je,at)=>({pageNumber:at+1,base64Image:je.inlineData.data})),console.log(`Prepared ${Ze.length} marking scheme pages`)),ye("Running AI to extract and split questions..."),console.log("Sending to Edge Function:",{examPaperId:Fe.id,pageImagesCount:Re.length,markingSchemeImagesCount:Ze.length});const oe=await fetch("https://xtgwncqaxwjyvjkczxjv.supabase.co/functions/v1/process-exam-paper",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh0Z3duY3FheHdqeXZqa2N6eGp2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjEwNzYsImV4cCI6MjA3NTMzNzA3Nn0.vme9Moaoj03UrQdyX5cMm7vrIlvWq8_860ZJSENcFL0"},body:JSON.stringify({examPaperId:Fe.id,pageImages:Re,markingSchemeImages:Ze.length>0?Ze:void 0})});if(console.log(`Response status: ${oe.status}`),!oe.ok){const Ae=await oe.text();throw console.error("Processing error:",Ae),new Error(`AI processing failed: ${Ae}`)}const ne=await oe.json();console.log("AI Result:",ne),ye(""),w({title:"",subject_id:"",grade_level_id:"",year:new Date().getFullYear(),month:"",ai_prompt_id:""}),_(null),R(null),B([]),y(!1),A(),ne.questionsCount>0?r(`Success! Detected ${ne.questionsCount} questions`,"Upload Successful","success"):r("Upload successful but no questions detected.","Upload Complete","warning")}catch(Re){console.error("Processing error:",Re),ye(""),w({title:"",subject_id:"",grade_level_id:"",year:new Date().getFullYear(),month:"",ai_prompt_id:""}),_(null),R(null),B([]),y(!1),A(),r("Exam paper uploaded! Processing error: "+Re.message,"Processing Error","warning")}}catch(we){r(we.message,"Error","error")}finally{C(!1)}},mt=async J=>{n("Are you sure you want to delete this exam paper? This action cannot be undone.",async()=>{try{console.log("Deleting exam paper:",J.id);const{data:we,error:Fe}=await se.from("exam_questions").select("image_urls").eq("exam_paper_id",J.id);Fe&&console.error("Error fetching exam questions:",Fe),console.log("Found questions:",(we==null?void 0:we.length)||0);const{data:De,error:Re}=await se.storage.from("exam-questions").list(J.id);if(Re)console.error("Error listing files in folder:",Re);else if(De&&De.length>0){console.log(`Found ${De.length} files in folder ${J.id}`);const ne=De.map(je=>`${J.id}/${je.name}`);console.log("Deleting files:",ne);const{error:Ae}=await se.storage.from("exam-questions").remove(ne);Ae?console.error("Error deleting question images:",Ae):console.log("Successfully deleted question images")}const{error:Ze}=await se.storage.from("exam-papers").remove([J.pdf_path]);if(Ze&&console.error("Error deleting exam paper PDF:",Ze),J.marking_schemes){const{data:ne}=await se.from("marking_schemes").select("id, pdf_path").eq("id",J.marking_schemes.id).single();if(ne){const{error:Ae}=await se.storage.from("marking-schemes").remove([ne.pdf_path]);Ae&&console.error("Error deleting marking scheme PDF:",Ae)}}const{error:oe}=await se.from("exam_papers").delete().eq("id",J.id);if(oe)throw oe;A(),r("Exam paper and all related files deleted successfully","Deleted","success")}catch(we){console.error("Delete error:",we),r(we.message,"Error","error")}},"Delete Exam Paper")},Pt=async J=>{var De;const we=(De=J.target.files)==null?void 0:De[0];if(!we)return;q&&Fi(q),_(we);const Fe=_m(we);M(Fe),Z(!0);try{const Re=await _o(we);B(Re),console.log(`PDF converted to ${Re.length} images for AI processing`)}catch(Re){console.error("Error processing PDF:",Re),r("Error processing PDF. The file will still be uploaded.","Processing Warning","warning")}finally{Z(!1)}},It=J=>{var De;const we=(De=J.target.files)==null?void 0:De[0];if(!we)return;U&&Fi(U),R(we);const Fe=_m(we);L(Fe)},Sr=()=>{y(!1),N(null),w({title:"",subject_id:"",grade_level_id:"",year:new Date().getFullYear(),month:"",ai_prompt_id:""}),_(null),R(null),q&&(Fi(q),M("")),U&&(Fi(U),L("")),B([])};return ce?c.jsx("div",{className:"text-center py-8 text-gray-600",children:"Loading exam papers..."}):c.jsxs(c.Fragment,{children:[c.jsx(Si,{isOpen:t.show,onClose:i,onConfirm:t.onConfirm,title:t.title,message:t.message,type:t.type}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(ln,{className:"w-6 h-6 text-black"}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Exam Papers"})]}),!f&&c.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:[c.jsx(Ha,{className:"w-4 h-4"}),c.jsx("span",{children:"Upload Exam Paper"})]})]}),f&&c.jsxs("form",{onSubmit:Je,className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:k?"Edit Exam Paper":"Add New Exam Paper"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-900 mb-1",children:"Exam Paper Title"}),c.jsx("input",{id:"title",type:"text",value:v.title,onChange:J=>w({...v,title:J.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-black",placeholder:"e.g., Mid-term Examination 2024"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"subject",className:"block text-sm font-medium text-gray-900 mb-1",children:"Subject"}),c.jsxs("select",{id:"subject",value:v.subject_id,onChange:J=>w({...v,subject_id:J.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-black",children:[c.jsx("option",{value:"",children:"Select a subject"}),l.map(J=>c.jsx("option",{value:J.id,children:J.name},J.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"grade",className:"block text-sm font-medium text-gray-900 mb-1",children:"Grade Level"}),c.jsxs("select",{id:"grade",value:v.grade_level_id,onChange:J=>w({...v,grade_level_id:J.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-black",children:[c.jsx("option",{value:"",children:"Select a grade"}),u.map(J=>c.jsx("option",{value:J.id,children:J.name},J.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"month",className:"block text-sm font-medium text-gray-900 mb-1",children:"Month (Optional)"}),c.jsxs("select",{id:"month",value:v.month,onChange:J=>w({...v,month:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-black",children:[c.jsx("option",{value:"",children:"Select a month"}),x.map(J=>c.jsx("option",{value:J.value,children:J.label},J.value))]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"year",className:"block text-sm font-medium text-gray-900 mb-1",children:"Year"}),c.jsx("input",{id:"year",type:"number",value:v.year,onChange:J=>w({...v,year:parseInt(J.target.value)||new Date().getFullYear()}),min:"2000",max:"2099",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-black",placeholder:"e.g., 2024"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"ai_prompt",className:"block text-sm font-medium text-gray-900 mb-1",children:"AI Assistant Prompt (Optional)"}),c.jsxs("select",{id:"ai_prompt",value:v.ai_prompt_id,onChange:J=>w({...v,ai_prompt_id:J.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-black",children:[c.jsx("option",{value:"",children:"Use default prompt"}),h.map(J=>c.jsxs("option",{value:J.id,children:[J.name,J.description?` - ${J.description}`:""]},J.id))]}),c.jsx("p",{className:"mt-1 text-xs text-gray-600",children:"Select a custom AI prompt for this exam paper. Subject and grade will be automatically included."})]}),!k&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"exam-paper",className:"block text-sm font-medium text-gray-900 mb-1",children:"Exam Paper PDF (Required)"}),c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("label",{className:"flex-1 flex items-center justify-center px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-black transition-colors",children:[c.jsx(Dc,{className:"w-5 h-5 text-gray-600 mr-2"}),c.jsx("span",{className:"text-sm text-gray-600",children:I?I.name:"Choose exam paper PDF"}),c.jsx("input",{id:"exam-paper",type:"file",accept:".pdf",onChange:Pt,className:"hidden"})]})}),H&&c.jsxs("p",{className:"text-xs text-gray-600 mt-2 flex items-center",children:[c.jsx("span",{className:"animate-spin mr-2",children:"⚙️"}),"Processing PDF for AI (converting to images)..."]}),te.length>0&&c.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["PDF processed: ",te.length," pages ready for AI"]}),q&&c.jsxs("div",{className:"mt-3 border border-gray-300 rounded-lg overflow-hidden",children:[c.jsxs("div",{className:"bg-gray-100 px-3 py-2 flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Preview"}),c.jsx("button",{type:"button",onClick:()=>{Fi(q),M(""),_(null),B([])},className:"text-gray-600 hover:text-black",children:c.jsx(ws,{className:"w-4 h-4"})})]}),c.jsx("embed",{src:q,type:"application/pdf",className:"w-full h-96"})]})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"marking-scheme",className:"block text-sm font-medium text-gray-900 mb-1",children:"Marking Scheme PDF (Optional)"}),c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("label",{className:"flex-1 flex items-center justify-center px-4 py-3 border-2 border-dashed border-gray-300 rounded-lg cursor-pointer hover:border-black transition-colors",children:[c.jsx(Dc,{className:"w-5 h-5 text-gray-600 mr-2"}),c.jsx("span",{className:"text-sm text-gray-600",children:z?z.name:"Choose marking scheme PDF"}),c.jsx("input",{id:"marking-scheme",type:"file",accept:".pdf",onChange:It,className:"hidden"})]})}),U&&c.jsxs("div",{className:"mt-3 border border-gray-300 rounded-lg overflow-hidden",children:[c.jsxs("div",{className:"bg-gray-100 px-3 py-2 flex items-center justify-between",children:[c.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Preview"}),c.jsx("button",{type:"button",onClick:()=>{Fi(U),L(""),R(null)},className:"text-gray-600 hover:text-black",children:c.jsx(ws,{className:"w-4 h-4"})})]}),c.jsx("embed",{src:U,type:"application/pdf",className:"w-full h-96"})]})]})]}),ge&&c.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:c.jsxs("p",{className:"text-sm text-blue-800 flex items-center",children:[c.jsx("span",{className:"animate-spin mr-2",children:"⚙️"}),ge]})}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsx("button",{type:"submit",disabled:G,className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:k?G?"Updating...":"Update Exam Paper":G?"Uploading & Processing...":"Upload Exam Paper"}),c.jsx("button",{type:"button",onClick:Sr,disabled:G,className:"px-4 py-2 bg-gray-100 text-gray-900 rounded-lg hover:bg-gray-200 transition-colors disabled:opacity-50",children:"Cancel"})]})]})]}),c.jsx("div",{className:"space-y-3",children:s.length===0?c.jsx("div",{className:"text-center py-8 text-gray-600",children:'No exam papers uploaded yet. Click "Upload Exam Paper" to get started.'}):s.map(J=>c.jsxs("div",{className:"flex items-center justify-between p-4 bg-white border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:J.title}),c.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[c.jsxs("span",{className:"text-sm text-gray-600",children:[J.subjects.name," • ",J.grade_levels.name," • ",J.month?`${j(J.month)} `:"",J.year]}),J.marking_schemes&&c.jsx("span",{className:"text-xs bg-green-100 text-green-700 px-2 py-1 rounded",children:"Has Marking Scheme"}),J.ai_prompts&&c.jsxs("span",{className:"text-xs bg-blue-100 text-blue-700 px-2 py-1 rounded",children:["AI: ",J.ai_prompts.name]})]})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("a",{href:J.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-2 text-sm text-black hover:bg-gray-50 rounded-lg transition-colors",children:"View PDF"}),c.jsx("button",{onClick:()=>st(J),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit exam paper details",children:c.jsx(w7,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>mt(J),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete exam paper",children:c.jsx(Va,{className:"w-4 h-4"})})]})]},J.id))})]})]})}function j7(){const{modalState:e,showAlert:t,showConfirm:r,closeModal:n}=t0(),[i,s]=F.useState([]),[a,l]=F.useState(!1),[o,u]=F.useState(null),[d,h]=F.useState({name:"",description:"",system_prompt:""}),[m,f]=F.useState(!0);F.useEffect(()=>{y()},[]);const y=async()=>{try{const{data:x,error:j}=await se.from("ai_prompts").select("*").order("created_at",{ascending:!1});if(j)throw j;s(x||[])}catch(x){console.error("Error fetching AI prompts:",x)}finally{f(!1)}},k=async x=>{x.preventDefault();try{if(o){const{error:j}=await se.from("ai_prompts").update({name:d.name,description:d.description||null,system_prompt:d.system_prompt}).eq("id",o);if(j)throw j}else{const{error:j}=await se.from("ai_prompts").insert([{name:d.name,description:d.description||null,system_prompt:d.system_prompt}]);if(j)throw j}h({name:"",description:"",system_prompt:""}),l(!1),u(null),y(),t(o?"Prompt updated successfully":"Prompt created successfully","Success","success")}catch(j){t(j.message,"Error","error")}},N=x=>{u(x.id),h({name:x.name,description:x.description||"",system_prompt:x.system_prompt}),l(!0)},v=async x=>{try{const{data:j,error:I}=await se.from("exam_papers").select("id").eq("ai_prompt_id",x).limit(1);if(I)throw I;if(j&&j.length>0){t("This AI prompt cannot be deleted because it is being used by one or more exam papers. Please reassign those exam papers first.","Cannot Delete AI Prompt","warning");return}r("Are you sure you want to delete this AI prompt? This action cannot be undone.",async()=>{try{const{error:_}=await se.from("ai_prompts").delete().eq("id",x);if(_)throw _;y(),t("AI prompt deleted successfully","Deleted","success")}catch(_){t(_.message,"Error","error")}},"Delete AI Prompt")}catch(j){t(j.message,"Error","error")}},w=()=>{l(!1),u(null),h({name:"",description:"",system_prompt:""})};return m?c.jsx("div",{className:"text-center py-8 text-gray-600",children:"Loading AI prompts..."}):c.jsxs(c.Fragment,{children:[c.jsx(Si,{isOpen:e.show,onClose:n,onConfirm:e.onConfirm,title:e.title,message:e.message,type:e.type}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Vn,{className:"w-6 h-6 text-black"}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"AI Prompts"})]}),!a&&c.jsxs("button",{onClick:()=>l(!0),className:"flex items-center space-x-2 px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:[c.jsx(Ha,{className:"w-4 h-4"}),c.jsx("span",{children:"Add AI Prompt"})]})]}),a&&c.jsx("form",{onSubmit:k,className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-900 mb-1",children:"Prompt Name"}),c.jsx("input",{id:"name",type:"text",value:d.name,onChange:x=>h({...d,name:x.target.value}),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-black",placeholder:"e.g., O Level Computer Science Assistant"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-900 mb-1",children:"Description (Optional)"}),c.jsx("input",{id:"description",type:"text",value:d.description,onChange:x=>h({...d,description:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-black",placeholder:"Brief description of this prompt's purpose"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"system_prompt",className:"block text-sm font-medium text-gray-900 mb-1",children:"System Prompt"}),c.jsx("textarea",{id:"system_prompt",value:d.system_prompt,onChange:x=>h({...d,system_prompt:x.target.value}),required:!0,rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:border-black font-mono text-sm",placeholder:"Enter the system prompt for the AI assistant. You can use {{SUBJECT}}, {{GRADE}}, and {{EXAM_TITLE}} as placeholders."}),c.jsxs("p",{className:"mt-1 text-xs text-gray-600",children:["Use placeholders: ",c.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{SUBJECT}}"}),","," ",c.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{GRADE}}"}),","," ",c.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"{{EXAM_TITLE}}"})]})]}),c.jsxs("div",{className:"flex space-x-3",children:[c.jsxs("button",{type:"submit",className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:[o?"Update":"Create"," Prompt"]}),c.jsx("button",{type:"button",onClick:w,className:"px-4 py-2 bg-gray-100 text-gray-900 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"})]})]})}),c.jsx("div",{className:"space-y-3",children:i.length===0?c.jsx("div",{className:"text-center py-8 text-gray-600",children:'No AI prompts created yet. Click "Add AI Prompt" to get started.'}):i.map(x=>c.jsx("div",{className:"p-4 bg-white border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:x.name}),x.description&&c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:x.description}),c.jsxs("div",{className:"mt-3 p-3 bg-gray-50 rounded border border-gray-200",children:[c.jsx("p",{className:"text-xs font-medium text-gray-700 mb-1",children:"System Prompt:"}),c.jsx("p",{className:"text-sm text-gray-800 whitespace-pre-wrap font-mono",children:x.system_prompt.length>200?`${x.system_prompt.substring(0,200)}...`:x.system_prompt})]})]}),c.jsxs("div",{className:"flex space-x-2 ml-4",children:[c.jsx("button",{onClick:()=>N(x),className:"p-2 text-black hover:bg-gray-50 rounded-lg transition-colors",children:c.jsx(g7,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>v(x.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:c.jsx(Va,{className:"w-4 h-4"})})]})]})},x.id))})]})]})}function N7(){const[e,t]=F.useState({totalTokens:0,totalCost:0,totalRequests:0,avgTokensPerRequest:0,uploadTokens:0,uploadCost:0,uploadRequests:0,chatTokens:0,chatCost:0,chatRequests:0}),[r,n]=F.useState([]),[i,s]=F.useState([]),[a,l]=F.useState(!0),[o,u]=F.useState("7d");F.useEffect(()=>{d()},[o]);const d=async()=>{try{l(!0);let f=new Date;o==="7d"?f.setDate(f.getDate()-7):o==="30d"?f.setDate(f.getDate()-30):f=new Date("2000-01-01");const{data:y,error:k}=await se.from("token_usage_logs").select(`
          *,
          exam_papers (
            title,
            subjects (name)
          )
        `).gte("created_at",f.toISOString()).order("created_at",{ascending:!0});if(k)throw k;if(y&&y.length>0){const N=y.filter(H=>!H.user_id),v=y.filter(H=>H.user_id),w=y.reduce((H,Z)=>H+Z.total_tokens,0),x=y.reduce((H,Z)=>H+parseFloat(Z.estimated_cost),0),j=y.length,I=Math.round(w/j),_=N.reduce((H,Z)=>H+Z.total_tokens,0),z=N.reduce((H,Z)=>H+parseFloat(Z.estimated_cost),0),R=N.length,q=v.reduce((H,Z)=>H+Z.total_tokens,0),M=v.reduce((H,Z)=>H+parseFloat(Z.estimated_cost),0),U=v.length;t({totalTokens:w,totalCost:x,totalRequests:j,avgTokensPerRequest:I,uploadTokens:_,uploadCost:z,uploadRequests:R,chatTokens:q,chatCost:M,chatRequests:U});const L=new Map;y.forEach(H=>{const Z=new Date(H.created_at).toISOString().split("T")[0];L.has(Z)||L.set(Z,{date:Z,tokens:0,cost:0,requests:0});const ce=L.get(Z);ce.tokens+=H.total_tokens,ce.cost+=parseFloat(H.estimated_cost),ce.requests+=1}),n(Array.from(L.values()));const te=new Map;y.forEach(H=>{var $,G;const Z=((G=($=H.exam_papers)==null?void 0:$.subjects)==null?void 0:G.name)||"Unknown";te.has(Z)||te.set(Z,{subject:Z,tokens:0,cost:0,requests:0});const ce=te.get(Z);ce.tokens+=H.total_tokens,ce.cost+=parseFloat(H.estimated_cost),ce.requests+=1});const B=Array.from(te.values()).sort((H,Z)=>Z.cost-H.cost);s(B)}else t({totalTokens:0,totalCost:0,totalRequests:0,avgTokensPerRequest:0,uploadTokens:0,uploadCost:0,uploadRequests:0,chatTokens:0,chatCost:0,chatRequests:0}),n([]),s([])}catch(f){console.error("Error fetching token usage:",f)}finally{l(!1)}},h=f=>`$${f.toFixed(4)}`,m=f=>f.toLocaleString();return a?c.jsx("div",{className:"text-center py-8 text-gray-600",children:"Loading token usage analytics..."}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(zc,{className:"w-6 h-6 text-black"}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Token Usage & Cost Analytics"})]}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("button",{onClick:()=>u("7d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o==="7d"?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Last 7 Days"}),c.jsx("button",{onClick:()=>u("30d"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o==="30d"?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Last 30 Days"}),c.jsx("button",{onClick:()=>u("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${o==="all"?"bg-black text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Time"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Cost"}),c.jsx(d7,{className:"w-5 h-5 text-green-600"})]}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h(e.totalCost)})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Tokens"}),c.jsx(So,{className:"w-5 h-5 text-blue-600"})]}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m(e.totalTokens)})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Total Requests"}),c.jsx(zc,{className:"w-5 h-5 text-purple-600"})]}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m(e.totalRequests)})]}),c.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Avg Tokens/Request"}),c.jsx(So,{className:"w-5 h-5 text-orange-600"})]}),c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:m(e.avgTokensPerRequest)})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[c.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-6 rounded-lg border border-blue-200",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Dc,{className:"w-5 h-5 text-blue-700"}),c.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"Upload Processing"})]})}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-blue-700",children:"Cost"}),c.jsx("span",{className:"text-xl font-bold text-blue-900",children:h(e.uploadCost)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-blue-700",children:"Tokens"}),c.jsx("span",{className:"text-lg font-semibold text-blue-900",children:m(e.uploadTokens)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-blue-700",children:"Uploads"}),c.jsx("span",{className:"text-lg font-semibold text-blue-900",children:m(e.uploadRequests)})]})]})]}),c.jsxs("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-6 rounded-lg border border-purple-200",children:[c.jsx("div",{className:"flex items-center justify-between mb-4",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(p7,{className:"w-5 h-5 text-purple-700"}),c.jsx("h3",{className:"text-lg font-semibold text-purple-900",children:"Student Chats"})]})}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-purple-700",children:"Cost"}),c.jsx("span",{className:"text-xl font-bold text-purple-900",children:h(e.chatCost)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-purple-700",children:"Tokens"}),c.jsx("span",{className:"text-lg font-semibold text-purple-900",children:m(e.chatTokens)})]}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-sm text-purple-700",children:"Chats"}),c.jsx("span",{className:"text-lg font-semibold text-purple-900",children:m(e.chatRequests)})]})]})]})]}),i.length>0&&c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(o7,{className:"w-5 h-5 text-gray-700"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Usage by Subject"})]})}),c.jsx("div",{className:"p-6",children:c.jsx("div",{className:"space-y-4",children:i.map((f,y)=>{const k=Math.max(...i.map(v=>v.cost)),N=k>0?f.cost/k*100:0;return c.jsxs("div",{className:"space-y-1.5",children:[c.jsxs("div",{className:"flex items-center justify-between text-sm",children:[c.jsx("span",{className:"font-medium text-gray-900",children:f.subject}),c.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-600",children:[c.jsxs("span",{children:[m(f.requests)," requests"]}),c.jsxs("span",{children:[m(f.tokens)," tokens"]}),c.jsx("span",{className:"font-semibold text-green-600",children:h(f.cost)})]})]}),c.jsx("div",{className:"relative w-full h-8 bg-gray-100 rounded-lg overflow-hidden",children:c.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-purple-600 transition-all duration-500 flex items-center justify-end pr-3",style:{width:`${N}%`},children:N>15&&c.jsxs("span",{className:"text-xs font-semibold text-white",children:[Math.round(N),"%"]})})})]},f.subject)})})})]}),c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(X4,{className:"w-5 h-5 text-gray-700"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Daily Breakdown"})]})}),c.jsx("div",{className:"overflow-x-auto",children:r.length===0?c.jsx("div",{className:"text-center py-8 text-gray-600",children:"No usage data for the selected time range"}):c.jsxs("table",{className:"w-full",children:[c.jsx("thead",{className:"bg-gray-50",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Date"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Requests"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Total Tokens"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Avg Tokens"}),c.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-700 uppercase tracking-wider",children:"Cost"})]})}),c.jsx("tbody",{className:"divide-y divide-gray-200",children:r.map(f=>c.jsxs("tr",{className:"hover:bg-gray-50",children:[c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(f.date).toLocaleDateString()}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:m(f.requests)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right",children:m(f.tokens)}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600 text-right",children:m(Math.round(f.tokens/f.requests))}),c.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-green-600 text-right",children:h(f.cost)})]},f.date))})]})})]})]})}function C7(){const[e,t]=F.useState("exams"),{profile:r}=vn(),n=[{id:"exams",label:"Exam Papers",icon:ln},{id:"prompts",label:"AI Prompts",icon:Vn},{id:"analytics",label:"Token Analytics",icon:zc},{id:"subjects",label:"Subjects",icon:Ua},{id:"grades",label:"Grade Levels",icon:Mc}];return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[c.jsx("div",{className:"mb-8",children:c.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[c.jsx("div",{className:"bg-black p-2 rounded-lg",children:c.jsx(Mc,{className:"w-6 h-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-semibold text-gray-900",children:"Admin Dashboard"}),c.jsx("p",{className:"text-sm text-gray-600",children:r==null?void 0:r.email})]})]})}),c.jsx("div",{className:"mb-8",children:c.jsx("div",{className:"border-b border-gray-200",children:c.jsx("nav",{className:"flex space-x-8",children:n.map(i=>{const s=i.icon;return c.jsxs("button",{onClick:()=>t(i.id),className:`flex items-center space-x-2 py-4 px-1 border-b-2 font-medium text-sm transition-colors ${e===i.id?"border-black text-black":"border-transparent text-gray-600 hover:text-gray-900 hover:border-gray-200"}`,children:[c.jsx(s,{className:"w-4 h-4"}),c.jsx("span",{children:i.label})]},i.id)})})})}),c.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e==="subjects"&&c.jsx(k7,{}),e==="grades"&&c.jsx(S7,{}),e==="exams"&&c.jsx(_7,{}),e==="prompts"&&c.jsx(j7,{}),e==="analytics"&&c.jsx(N7,{})]})]})})}function E7({onGetStarted:e}){return c.jsxs("div",{className:"min-h-screen bg-white",children:[c.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-gray-50 via-white to-gray-50",children:[c.jsx("div",{className:"absolute inset-0 bg-grid-pattern opacity-5"}),c.jsx("div",{className:"max-w-7xl mx-auto px-4 py-16 sm:py-24 lg:py-32",children:c.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 lg:gap-16 items-center",children:[c.jsxs("div",{className:"text-center lg:text-left z-10",children:[c.jsxs("div",{className:"inline-flex items-center space-x-2 px-4 py-2 bg-black text-white rounded-full text-sm font-medium mb-6 shadow-lg",children:[c.jsx(x7,{className:"w-4 h-4"}),c.jsx("span",{children:"AI-Powered Study Assistant"})]}),c.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-bold text-gray-900 mb-6 leading-tight",children:["Master Your Exams with",c.jsx("span",{className:"block text-transparent bg-clip-text bg-gradient-to-r from-gray-900 to-gray-600",children:"Smart AI Help"})]}),c.jsx("p",{className:"text-lg sm:text-xl text-gray-600 mb-8 leading-relaxed max-w-xl mx-auto lg:mx-0",children:"Access past exam papers with an intelligent AI tutor that guides you through every question, providing detailed explanations and personalized learning support."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[c.jsxs("button",{onClick:e,className:"group inline-flex items-center justify-center space-x-2 px-8 py-4 bg-black text-white rounded-xl hover:bg-gray-800 transition-all text-lg font-semibold shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[c.jsx("span",{children:"Get Started Free"}),c.jsx(ym,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),c.jsx("button",{className:"inline-flex items-center justify-center space-x-2 px-8 py-4 bg-white text-gray-900 rounded-xl hover:bg-gray-50 transition-all text-lg font-semibold border-2 border-gray-200",children:c.jsx("span",{children:"Watch Demo"})})]}),c.jsxs("div",{className:"mt-8 flex items-center justify-center lg:justify-start space-x-6 text-sm text-gray-600",children:[c.jsx("div",{className:"flex items-center space-x-2"}),c.jsx("div",{className:"flex items-center space-x-2"})]})]}),c.jsx("div",{className:"relative flex justify-center lg:justify-end",children:c.jsx(T7,{})})]})}),c.jsx("div",{className:"absolute top-20 right-10 w-72 h-72 bg-purple-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"}),c.jsx("div",{className:"absolute bottom-20 left-10 w-72 h-72 bg-blue-200 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"})]}),c.jsx("section",{className:"border-b border-gray-200",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-16 sm:py-20",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"Everything You Need to Succeed"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[c.jsx(Y0,{icon:c.jsx(Ua,{className:"w-8 h-8"}),title:"Comprehensive Exam Library",description:"Access a growing collection of past exam papers organized by grade level and subject, all in one place."}),c.jsx(Y0,{icon:c.jsx(vm,{className:"w-8 h-8"}),title:"AI-Powered Learning",description:"Get instant, intelligent responses to your questions. Our AI tutor provides step-by-step explanations and practical examples."}),c.jsx(Y0,{icon:c.jsx(So,{className:"w-8 h-8"}),title:"Interactive Study Experience",description:"View exam papers alongside AI chat. Ask questions, request clarifications, and learn at your own pace."})]})]})}),c.jsx("section",{className:"border-b border-gray-200 bg-gray-50",children:c.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-16 sm:py-20",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"How It Works"}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[c.jsx(Q0,{number:"1",title:"Browse Exam Papers",description:"Navigate through organized exam papers by grade level and subject using our intuitive menu."}),c.jsx(Q0,{number:"2",title:"View & Study",description:"Open any exam paper to view it directly in your browser. No downloads needed."}),c.jsx(Q0,{number:"3",title:"Ask the AI Tutor",description:"Get help on any question. Our AI provides detailed explanations, examples, and tips to help you understand every concept."})]})]})}),c.jsx("section",{className:"border-b border-gray-200",children:c.jsx("div",{className:"max-w-6xl mx-auto px-4 py-16 sm:py-20",children:c.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-6",children:"Why Students Love Our Platform"}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(Bi,{text:"Learn at your own pace with 24/7 AI assistance"}),c.jsx(Bi,{text:"Get detailed explanations for every exam question"}),c.jsx(Bi,{text:"Access marking schemes for better understanding"}),c.jsx(Bi,{text:"Practice with real past exam papers"}),c.jsx(Bi,{text:"No downloads required - everything works in your browser"}),c.jsx(Bi,{text:"Free access to all exam papers and AI assistance"})]})]}),c.jsx("div",{className:"bg-gray-50 rounded-lg p-8 border border-gray-200",children:c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"bg-black text-white rounded-full w-10 h-10 flex items-center justify-center flex-shrink-0 font-bold",children:"?"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-gray-900 font-medium mb-1",children:"Student Question"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"How do I solve question 3 part (a)?"})]})]}),c.jsxs("div",{className:"flex items-start space-x-4",children:[c.jsx("div",{className:"bg-gray-100 text-gray-900 rounded-full w-10 h-10 flex items-center justify-center flex-shrink-0",children:c.jsx(vm,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-gray-900 font-medium mb-1",children:"AI Tutor Response"}),c.jsx("p",{className:"text-gray-600 text-sm",children:"Let me break down question 3(a) for you. First, identify the key information given..."})]})]})]})})]})})}),c.jsx("section",{className:"bg-gray-50",children:c.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-16 sm:py-20 text-center",children:[c.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ready to Start Learning?"}),c.jsx("p",{className:"text-lg text-gray-600 mb-8",children:"Sign up now to unlock the full potential of AI-powered exam preparation."}),c.jsxs("button",{onClick:e,className:"inline-flex items-center space-x-2 px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors text-lg font-medium",children:[c.jsx("span",{children:"Sign Up Free"}),c.jsx(ym,{className:"w-5 h-5"})]}),c.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"No credit card required. Start learning in seconds."})]})}),c.jsx("footer",{className:"border-t border-gray-200",children:c.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:c.jsx("div",{className:"text-center text-gray-600 text-sm",children:c.jsxs("p",{children:["© ",new Date().getFullYear()," Exam Study Assistant. All rights reserved."]})})})})]})}function Y0({icon:e,title:t,description:r}){return c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-lg mb-4",children:e}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t}),c.jsx("p",{className:"text-gray-600 leading-relaxed",children:r})]})}function Q0({number:e,title:t,description:r}){return c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-12 h-12 bg-black text-white rounded-full mb-4 text-xl font-bold",children:e}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:t}),c.jsx("p",{className:"text-gray-600 leading-relaxed",children:r})]})}function Bi({text:e}){return c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(J4,{className:"w-6 h-6 text-black flex-shrink-0 mt-0.5"}),c.jsx("span",{className:"text-gray-700",children:e})]})}function T7(){const[e,t]=F.useState("pdf");return F.useEffect(()=>{const r=setInterval(()=>{t(n=>n==="pdf"?"chat":"pdf")},3500);return()=>clearInterval(r)},[]),c.jsx("div",{className:"relative transform lg:rotate-6 hover:rotate-3 transition-transform duration-500",children:c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-400 to-purple-600 rounded-[60px] blur-3xl opacity-20 animate-pulse"}),c.jsxs("div",{className:"relative w-[320px] h-[650px]",children:[c.jsxs("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-800 via-gray-900 to-black rounded-[60px] shadow-2xl p-3",children:[c.jsx("div",{className:"absolute top-4 left-6 w-24 h-12 bg-gray-900 rounded-3xl border-2 border-gray-800"}),c.jsx("div",{className:"absolute top-6 left-8 w-10 h-8 bg-gradient-to-br from-gray-700 to-gray-900 rounded-full"}),c.jsx("div",{className:"absolute top-7 left-20 w-6 h-6 bg-gradient-to-br from-blue-900 to-blue-950 rounded-full"}),c.jsxs("div",{className:"relative w-full h-full bg-white rounded-[50px] overflow-hidden shadow-inner",children:[c.jsxs("div",{className:"absolute top-0 left-0 right-0 h-12 bg-white z-20 flex items-center justify-between px-6 pt-2",children:[c.jsx("span",{className:"text-xs font-semibold",children:"9:41"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("div",{className:"w-4 h-3 border border-black rounded-sm"}),c.jsx("div",{className:"w-4 h-4",children:"📶"}),c.jsx("div",{className:"w-6 h-3 border-2 border-black rounded-sm relative",children:c.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-0.5 h-2 bg-black"})})]})]}),c.jsx("div",{className:"absolute top-12 left-0 right-0 bg-white border-b border-gray-200 px-4 py-3 z-10",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-gray-800 to-black rounded-lg"}),c.jsxs("div",{children:[c.jsx("div",{className:"h-3 w-32 bg-gray-900 rounded mb-1"}),c.jsx("div",{className:"h-2 w-20 bg-gray-400 rounded"})]})]}),c.jsxs("div",{className:"relative bg-gray-200 rounded-full p-1 flex items-center shadow-inner",children:[c.jsx("div",{className:`absolute top-1 bottom-1 w-8 bg-black rounded-full transition-all duration-300 ease-out shadow-md ${e==="chat"?"translate-x-9":"translate-x-0"}`}),c.jsx("button",{className:"relative z-10 w-8 h-7 flex items-center justify-center",children:c.jsx("div",{className:"text-xs 📄",children:"📄"})}),c.jsx("button",{className:"relative z-10 w-8 h-7 flex items-center justify-center",children:c.jsx("div",{className:"text-xs 💬",children:"💬"})})]})]})}),c.jsxs("div",{className:"absolute top-[100px] left-0 right-0 bottom-0 overflow-hidden",children:[c.jsx("div",{className:`absolute inset-0 bg-gray-100 transition-all duration-700 ease-in-out ${e==="pdf"?"translate-x-0 opacity-100":"-translate-x-full opacity-0"}`,children:c.jsxs("div",{className:"p-5 space-y-4",children:[c.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[c.jsx("div",{className:"w-24 h-3 bg-gray-900 rounded mb-3"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"w-full h-2 bg-gray-300 rounded"}),c.jsx("div",{className:"w-full h-2 bg-gray-300 rounded"}),c.jsx("div",{className:"w-4/5 h-2 bg-gray-300 rounded"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[c.jsx("div",{className:"w-28 h-3 bg-gray-900 rounded mb-3"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"w-full h-2 bg-gray-300 rounded"}),c.jsx("div",{className:"w-full h-2 bg-gray-300 rounded"}),c.jsx("div",{className:"w-3/4 h-2 bg-gray-300 rounded"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-4 shadow-sm border border-gray-200",children:[c.jsx("div",{className:"w-20 h-3 bg-gray-900 rounded mb-3"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"w-full h-2 bg-gray-300 rounded"}),c.jsx("div",{className:"w-5/6 h-2 bg-gray-300 rounded"})]})]})]})}),c.jsx("div",{className:`absolute inset-0 bg-white transition-all duration-700 ease-in-out ${e==="chat"?"translate-x-0 opacity-100":"translate-x-full opacity-0"}`,children:c.jsxs("div",{className:"h-full flex flex-col p-4",children:[c.jsxs("div",{className:"flex-1 space-y-4",children:[c.jsx("div",{className:"flex justify-end animate-slideIn",children:c.jsxs("div",{className:"bg-black text-white rounded-2xl rounded-tr-md px-4 py-3 max-w-[75%] shadow-lg",children:[c.jsx("div",{className:"h-2 w-36 bg-white bg-opacity-90 rounded mb-1.5"}),c.jsx("div",{className:"h-2 w-28 bg-white bg-opacity-90 rounded"})]})}),c.jsx("div",{className:"flex justify-start animate-slideIn animation-delay-300",children:c.jsxs("div",{className:"bg-gray-100 rounded-2xl rounded-tl-md px-4 py-3 max-w-[75%] shadow-md border border-gray-200",children:[c.jsx("div",{className:"h-2 w-40 bg-gray-700 rounded mb-1.5"}),c.jsx("div",{className:"h-2 w-36 bg-gray-700 rounded mb-1.5"}),c.jsx("div",{className:"h-2 w-32 bg-gray-700 rounded mb-1.5"}),c.jsx("div",{className:"h-2 w-28 bg-gray-700 rounded"})]})}),c.jsx("div",{className:"flex justify-end animate-slideIn animation-delay-600",children:c.jsx("div",{className:"bg-black text-white rounded-2xl rounded-tr-md px-4 py-3 max-w-[75%] shadow-lg",children:c.jsx("div",{className:"h-2 w-32 bg-white bg-opacity-90 rounded"})})}),c.jsx("div",{className:"flex justify-start animate-slideIn animation-delay-900",children:c.jsxs("div",{className:"bg-gray-100 rounded-2xl rounded-tl-md px-4 py-3 max-w-[75%] shadow-md border border-gray-200",children:[c.jsx("div",{className:"h-2 w-36 bg-gray-700 rounded mb-1.5"}),c.jsx("div",{className:"h-2 w-40 bg-gray-700 rounded mb-1.5"}),c.jsx("div",{className:"h-2 w-32 bg-gray-700 rounded"})]})})]}),c.jsx("div",{className:"pt-3 border-t border-gray-200 mt-auto",children:c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("div",{className:"flex-1 px-4 py-3 border-2 border-gray-300 rounded-xl bg-gray-50",children:c.jsx("div",{className:"h-2 w-28 bg-gray-400 rounded"})}),c.jsx("div",{className:"w-11 h-11 bg-black rounded-xl flex items-center justify-center shadow-lg",children:c.jsx("div",{className:"w-4 h-4 border-2 border-white border-l-0 border-b-0 transform rotate-45 -translate-x-0.5"})})]})})]})})]})]})]}),c.jsx("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 bg-black text-white px-5 py-2.5 rounded-full text-sm font-semibold whitespace-nowrap shadow-2xl border-4 border-white",children:e==="pdf"?"📄 Exam Paper":"💬 AI Assistant"})]})]})})}const t2=document.createElement("style");t2.textContent=`
  @keyframes blob {
    0%, 100% { transform: translate(0, 0) scale(1); }
    25% { transform: translate(20px, -20px) scale(1.1); }
    50% { transform: translate(-20px, 20px) scale(0.9); }
    75% { transform: translate(20px, 20px) scale(1.05); }
  }
  
  @keyframes slideIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-blob {
    animation: blob 7s infinite;
  }
  
  .animation-delay-2000 {
    animation-delay: 2s;
  }
  
  .animate-slideIn {
    animation: slideIn 0.5s ease-out forwards;
  }
  
  .animation-delay-300 {
    animation-delay: 0.3s;
  }
  
  .animation-delay-600 {
    animation-delay: 0.6s;
  }
  
  .animation-delay-900 {
    animation-delay: 0.9s;
  }
  
  .bg-grid-pattern {
    background-image: 
      linear-gradient(to right, rgb(0 0 0 / 0.05) 1px, transparent 1px),
      linear-gradient(to bottom, rgb(0 0 0 / 0.05) 1px, transparent 1px);
    background-size: 40px 40px;
  }
`;document.head.appendChild(t2);function jm(e){const t=[],r=String(e||"");let n=r.indexOf(","),i=0,s=!1;for(;!s;){n===-1&&(n=r.length,s=!0);const a=r.slice(i,n).trim();(a||!s)&&t.push(a),i=n+1,n=r.indexOf(",",i)}return t}function A7(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const M7=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,P7=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,I7={};function Nm(e,t){return(I7.jsx?P7:M7).test(e)}const z7=/[ \t\n\f\r]/g;function D7(e){return typeof e=="object"?e.type==="text"?Cm(e.value):!1:Cm(e)}function Cm(e){return e.replace(z7,"")===""}class Wa{constructor(t,r,n){this.normal=r,this.property=t,n&&(this.space=n)}}Wa.prototype.normal={};Wa.prototype.property={};Wa.prototype.space=void 0;function r2(e,t){const r={},n={};for(const i of e)Object.assign(r,i.property),Object.assign(n,i.normal);return new Wa(r,n,t)}function Ma(e){return e.toLowerCase()}class Xt{constructor(t,r){this.attribute=r,this.property=t}}Xt.prototype.attribute="";Xt.prototype.booleanish=!1;Xt.prototype.boolean=!1;Xt.prototype.commaOrSpaceSeparated=!1;Xt.prototype.commaSeparated=!1;Xt.prototype.defined=!1;Xt.prototype.mustUseProperty=!1;Xt.prototype.number=!1;Xt.prototype.overloadedBoolean=!1;Xt.prototype.property="";Xt.prototype.spaceSeparated=!1;Xt.prototype.space=void 0;let O7=0;const ke=Ei(),dt=Ei(),Oc=Ei(),X=Ei(),He=Ei(),cs=Ei(),tr=Ei();function Ei(){return 2**++O7}const Lc=Object.freeze(Object.defineProperty({__proto__:null,boolean:ke,booleanish:dt,commaOrSpaceSeparated:tr,commaSeparated:cs,number:X,overloadedBoolean:Oc,spaceSeparated:He},Symbol.toStringTag,{value:"Module"})),X0=Object.keys(Lc);class nh extends Xt{constructor(t,r,n,i){let s=-1;if(super(t,r),Em(this,"space",i),typeof n=="number")for(;++s<X0.length;){const a=X0[s];Em(this,X0[s],(n&Lc[a])===Lc[a])}}}nh.prototype.defined=!0;function Em(e,t,r){r&&(e[t]=r)}function Ts(e){const t={},r={};for(const[n,i]of Object.entries(e.properties)){const s=new nh(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(s.mustUseProperty=!0),t[n]=s,r[Ma(n)]=n,r[Ma(s.attribute)]=n}return new Wa(t,r,e.space)}const n2=Ts({properties:{ariaActiveDescendant:null,ariaAtomic:dt,ariaAutoComplete:null,ariaBusy:dt,ariaChecked:dt,ariaColCount:X,ariaColIndex:X,ariaColSpan:X,ariaControls:He,ariaCurrent:null,ariaDescribedBy:He,ariaDetails:null,ariaDisabled:dt,ariaDropEffect:He,ariaErrorMessage:null,ariaExpanded:dt,ariaFlowTo:He,ariaGrabbed:dt,ariaHasPopup:null,ariaHidden:dt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:He,ariaLevel:X,ariaLive:null,ariaModal:dt,ariaMultiLine:dt,ariaMultiSelectable:dt,ariaOrientation:null,ariaOwns:He,ariaPlaceholder:null,ariaPosInSet:X,ariaPressed:dt,ariaReadOnly:dt,ariaRelevant:null,ariaRequired:dt,ariaRoleDescription:He,ariaRowCount:X,ariaRowIndex:X,ariaRowSpan:X,ariaSelected:dt,ariaSetSize:X,ariaSort:null,ariaValueMax:X,ariaValueMin:X,ariaValueNow:X,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function i2(e,t){return t in e?e[t]:t}function s2(e,t){return i2(e,t.toLowerCase())}const L7=Ts({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:cs,acceptCharset:He,accessKey:He,action:null,allow:null,allowFullScreen:ke,allowPaymentRequest:ke,allowUserMedia:ke,alt:null,as:null,async:ke,autoCapitalize:null,autoComplete:He,autoFocus:ke,autoPlay:ke,blocking:He,capture:null,charSet:null,checked:ke,cite:null,className:He,cols:X,colSpan:null,content:null,contentEditable:dt,controls:ke,controlsList:He,coords:X|cs,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ke,defer:ke,dir:null,dirName:null,disabled:ke,download:Oc,draggable:dt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ke,formTarget:null,headers:He,height:X,hidden:Oc,high:X,href:null,hrefLang:null,htmlFor:He,httpEquiv:He,id:null,imageSizes:null,imageSrcSet:null,inert:ke,inputMode:null,integrity:null,is:null,isMap:ke,itemId:null,itemProp:He,itemRef:He,itemScope:ke,itemType:He,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ke,low:X,manifest:null,max:null,maxLength:X,media:null,method:null,min:null,minLength:X,multiple:ke,muted:ke,name:null,nonce:null,noModule:ke,noValidate:ke,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ke,optimum:X,pattern:null,ping:He,placeholder:null,playsInline:ke,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ke,referrerPolicy:null,rel:He,required:ke,reversed:ke,rows:X,rowSpan:X,sandbox:He,scope:null,scoped:ke,seamless:ke,selected:ke,shadowRootClonable:ke,shadowRootDelegatesFocus:ke,shadowRootMode:null,shape:null,size:X,sizes:null,slot:null,span:X,spellCheck:dt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:X,step:null,style:null,tabIndex:X,target:null,title:null,translate:null,type:null,typeMustMatch:ke,useMap:null,value:dt,width:X,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:He,axis:null,background:null,bgColor:null,border:X,borderColor:null,bottomMargin:X,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ke,declare:ke,event:null,face:null,frame:null,frameBorder:null,hSpace:X,leftMargin:X,link:null,longDesc:null,lowSrc:null,marginHeight:X,marginWidth:X,noResize:ke,noHref:ke,noShade:ke,noWrap:ke,object:null,profile:null,prompt:null,rev:null,rightMargin:X,rules:null,scheme:null,scrolling:dt,standby:null,summary:null,text:null,topMargin:X,valueType:null,version:null,vAlign:null,vLink:null,vSpace:X,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ke,disableRemotePlayback:ke,prefix:null,property:null,results:X,security:null,unselectable:null},space:"html",transform:s2}),R7=Ts({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:tr,accentHeight:X,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:X,amplitude:X,arabicForm:null,ascent:X,attributeName:null,attributeType:null,azimuth:X,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:X,by:null,calcMode:null,capHeight:X,className:He,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:X,diffuseConstant:X,direction:null,display:null,dur:null,divisor:X,dominantBaseline:null,download:ke,dx:null,dy:null,edgeMode:null,editable:null,elevation:X,enableBackground:null,end:null,event:null,exponent:X,externalResourcesRequired:null,fill:null,fillOpacity:X,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:cs,g2:cs,glyphName:cs,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:X,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:X,horizOriginX:X,horizOriginY:X,id:null,ideographic:X,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:X,k:X,k1:X,k2:X,k3:X,k4:X,kernelMatrix:tr,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:X,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:X,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:X,overlineThickness:X,paintOrder:null,panose1:null,path:null,pathLength:X,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:He,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:X,pointsAtY:X,pointsAtZ:X,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:tr,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:tr,rev:tr,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:tr,requiredFeatures:tr,requiredFonts:tr,requiredFormats:tr,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:X,specularExponent:X,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:X,strikethroughThickness:X,string:null,stroke:null,strokeDashArray:tr,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:X,strokeOpacity:X,strokeWidth:null,style:null,surfaceScale:X,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:tr,tabIndex:X,tableValues:null,target:null,targetX:X,targetY:X,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:tr,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:X,underlineThickness:X,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:X,values:null,vAlphabetic:X,vMathematical:X,vectorEffect:null,vHanging:X,vIdeographic:X,version:null,vertAdvY:X,vertOriginX:X,vertOriginY:X,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:X,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:i2}),a2=Ts({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),l2=Ts({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:s2}),o2=Ts({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),F7={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},B7=/[A-Z]/g,Tm=/-[a-z]/g,$7=/^data[-\w.:]+$/i;function u2(e,t){const r=Ma(t);let n=t,i=Xt;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&$7.test(t)){if(t.charAt(4)==="-"){const s=t.slice(5).replace(Tm,U7);n="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=t.slice(4);if(!Tm.test(s)){let a=s.replace(B7,q7);a.charAt(0)!=="-"&&(a="-"+a),t="data"+a}}i=nh}return new i(n,t)}function q7(e){return"-"+e.toLowerCase()}function U7(e){return e.charAt(1).toUpperCase()}const c2=r2([n2,L7,a2,l2,o2],"html"),r0=r2([n2,R7,a2,l2,o2],"svg");function Am(e){const t=String(e||"").trim();return t?t.split(/[ \t\n\r\f]+/g):[]}function H7(e){return e.join(" ").trim()}var ih={},Mm=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,V7=/\n/g,W7=/^\s*/,G7=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,K7=/^:\s*/,Y7=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,Q7=/^[;\s]*/,X7=/^\s+|\s+$/g,J7=`
`,Pm="/",Im="*",di="",Z7="comment",e8="declaration",t8=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function i(y){var k=y.match(V7);k&&(r+=k.length);var N=y.lastIndexOf(J7);n=~N?y.length-N:n+y.length}function s(){var y={line:r,column:n};return function(k){return k.position=new a(y),u(),k}}function a(y){this.start=y,this.end={line:r,column:n},this.source=t.source}a.prototype.content=e;function l(y){var k=new Error(t.source+":"+r+":"+n+": "+y);if(k.reason=y,k.filename=t.source,k.line=r,k.column=n,k.source=e,!t.silent)throw k}function o(y){var k=y.exec(e);if(k){var N=k[0];return i(N),e=e.slice(N.length),k}}function u(){o(W7)}function d(y){var k;for(y=y||[];k=h();)k!==!1&&y.push(k);return y}function h(){var y=s();if(!(Pm!=e.charAt(0)||Im!=e.charAt(1))){for(var k=2;di!=e.charAt(k)&&(Im!=e.charAt(k)||Pm!=e.charAt(k+1));)++k;if(k+=2,di===e.charAt(k-1))return l("End of comment missing");var N=e.slice(2,k-2);return n+=2,i(N),e=e.slice(k),n+=2,y({type:Z7,comment:N})}}function m(){var y=s(),k=o(G7);if(k){if(h(),!o(K7))return l("property missing ':'");var N=o(Y7),v=y({type:e8,property:zm(k[0].replace(Mm,di)),value:N?zm(N[0].replace(Mm,di)):di});return o(Q7),v}}function f(){var y=[];d(y);for(var k;k=m();)k!==!1&&(y.push(k),d(y));return y}return u(),f()};function zm(e){return e?e.replace(X7,di):di}var r8=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ih,"__esModule",{value:!0});ih.default=i8;var n8=r8(t8);function i8(e,t){var r=null;if(!e||typeof e!="string")return r;var n=(0,n8.default)(e),i=typeof t=="function";return n.forEach(function(s){if(s.type==="declaration"){var a=s.property,l=s.value;i?t(a,l,s):l&&(r=r||{},r[a]=l)}}),r}var n0={};Object.defineProperty(n0,"__esModule",{value:!0});n0.camelCase=void 0;var s8=/^--[a-zA-Z0-9_-]+$/,a8=/-([a-z])/g,l8=/^[^-]+$/,o8=/^-(webkit|moz|ms|o|khtml)-/,u8=/^-(ms)-/,c8=function(e){return!e||l8.test(e)||s8.test(e)},d8=function(e,t){return t.toUpperCase()},Dm=function(e,t){return"".concat(t,"-")},h8=function(e,t){return t===void 0&&(t={}),c8(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(u8,Dm):e=e.replace(o8,Dm),e.replace(a8,d8))};n0.camelCase=h8;var f8=Tt&&Tt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},m8=f8(ih),p8=n0;function Rc(e,t){var r={};return!e||typeof e!="string"||(0,m8.default)(e,function(n,i){n&&i&&(r[(0,p8.camelCase)(n,t)]=i)}),r}Rc.default=Rc;var g8=Rc;const y8=fp(g8),d2=h2("end"),sh=h2("start");function h2(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function v8(e){const t=sh(e),r=d2(e);if(t&&r)return{start:t,end:r}}function ua(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?Om(e.position):"start"in e||"end"in e?Om(e):"line"in e||"column"in e?Fc(e):""}function Fc(e){return Lm(e&&e.line)+":"+Lm(e&&e.column)}function Om(e){return Fc(e&&e.start)+"-"+Fc(e&&e.end)}function Lm(e){return e&&typeof e=="number"?e:1}class Mt extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",s={},a=!1;if(r&&("line"in r&&"column"in r?s={place:r}:"start"in r&&"end"in r?s={place:r}:"type"in r?s={ancestors:[r],place:r.position}:s={...r}),typeof t=="string"?i=t:!s.cause&&t&&(a=!0,i=t.message,s.cause=t),!s.ruleId&&!s.source&&typeof n=="string"){const o=n.indexOf(":");o===-1?s.ruleId=n:(s.source=n.slice(0,o),s.ruleId=n.slice(o+1))}if(!s.place&&s.ancestors&&s.ancestors){const o=s.ancestors[s.ancestors.length-1];o&&(s.place=o.position)}const l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=ua(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Mt.prototype.file="";Mt.prototype.name="";Mt.prototype.reason="";Mt.prototype.message="";Mt.prototype.stack="";Mt.prototype.column=void 0;Mt.prototype.line=void 0;Mt.prototype.ancestors=void 0;Mt.prototype.cause=void 0;Mt.prototype.fatal=void 0;Mt.prototype.place=void 0;Mt.prototype.ruleId=void 0;Mt.prototype.source=void 0;const ah={}.hasOwnProperty,x8=new Map,w8=/[A-Z]/g,b8=new Set(["table","tbody","thead","tfoot","tr"]),k8=new Set(["td","th"]),f2="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function S8(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=M8(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=A8(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?r0:c2,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},s=m2(i,e,void 0);return s&&typeof s!="string"?s:i.create(e,i.Fragment,{children:s||void 0},void 0)}function m2(e,t,r){if(t.type==="element")return _8(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return j8(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return C8(e,t,r);if(t.type==="mdxjsEsm")return N8(e,t);if(t.type==="root")return E8(e,t,r);if(t.type==="text")return T8(e,t)}function _8(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=r0,e.schema=i),e.ancestors.push(t);const s=g2(e,t.tagName,!1),a=P8(e,t);let l=oh(e,t);return b8.has(t.tagName)&&(l=l.filter(function(o){return typeof o=="string"?!D7(o):!0})),p2(e,a,s,t),lh(a,l),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function j8(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Pa(e,t.position)}function N8(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Pa(e,t.position)}function C8(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=r0,e.schema=i),e.ancestors.push(t);const s=t.name===null?e.Fragment:g2(e,t.name,!0),a=I8(e,t),l=oh(e,t);return p2(e,a,s,t),lh(a,l),e.ancestors.pop(),e.schema=n,e.create(t,s,a,r)}function E8(e,t,r){const n={};return lh(n,oh(e,t)),e.create(t,e.Fragment,n,r)}function T8(e,t){return t.value}function p2(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function lh(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function A8(e,t,r){return n;function n(i,s,a,l){const u=Array.isArray(a.children)?r:t;return l?u(s,a,l):u(s,a)}}function M8(e,t){return r;function r(n,i,s,a){const l=Array.isArray(s.children),o=sh(n);return t(i,s,a,l,{columnNumber:o?o.column-1:void 0,fileName:e,lineNumber:o?o.line:void 0},void 0)}}function P8(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&ah.call(t.properties,i)){const s=z8(e,i,t.properties[i]);if(s){const[a,l]=s;e.tableCellAlignToStyle&&a==="align"&&typeof l=="string"&&k8.has(t.tagName)?n=l:r[a]=l}}if(n){const s=r.style||(r.style={});s[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function I8(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const s=n.data.estree.body[0];s.type;const a=s.expression;a.type;const l=a.properties[0];l.type,Object.assign(r,e.evaluater.evaluateExpression(l.argument))}else Pa(e,t.position);else{const i=n.name;let s;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const l=n.value.data.estree.body[0];l.type,s=e.evaluater.evaluateExpression(l.expression)}else Pa(e,t.position);else s=n.value===null?!0:n.value;r[i]=s}return r}function oh(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:x8;for(;++n<t.children.length;){const s=t.children[n];let a;if(e.passKeys){const o=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(o){const u=i.get(o)||0;a=o+"-"+u,i.set(o,u+1)}}const l=m2(e,s,a);l!==void 0&&r.push(l)}return r}function z8(e,t,r){const n=u2(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?A7(r):H7(r)),n.property==="style"){let i=typeof r=="object"?r:D8(e,String(r));return e.stylePropertyNameCase==="css"&&(i=O8(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?F7[n.property]||n.property:n.attribute,r]}}function D8(e,t){try{return y8(t,{reactCompat:!0})}catch(r){if(e.ignoreInvalidStyle)return{};const n=r,i=new Mt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:n,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=f2+"#cannot-parse-style-attribute",i}}function g2(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let s=-1,a;for(;++s<i.length;){const l=Nm(i[s])?{type:"Identifier",name:i[s]}:{type:"Literal",value:i[s]};a=a?{type:"MemberExpression",object:a,property:l,computed:!!(s&&l.type==="Literal"),optional:!1}:l}n=a}else n=Nm(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return ah.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);Pa(e)}function Pa(e,t){const r=new Mt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=f2+"#cannot-handle-mdx-estrees-without-createevaluater",r}function O8(e){const t={};let r;for(r in e)ah.call(e,r)&&(t[L8(r)]=e[r]);return t}function L8(e){let t=e.replace(w8,R8);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function R8(e){return"-"+e.toLowerCase()}const J0={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},F8={};function uh(e,t){const r=F8,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return y2(e,n,i)}function y2(e,t,r){if(B8(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Rm(e.children,t,r)}return Array.isArray(e)?Rm(e,t,r):""}function Rm(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=y2(e[i],t,r);return n.join("")}function B8(e){return!!(e&&typeof e=="object")}const Fm=document.createElement("i");function ch(e){const t="&"+e+";";Fm.innerHTML=t;const r=Fm.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function lr(e,t,r,n){const i=e.length;let s=0,a;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)a=Array.from(n),a.unshift(t,r),e.splice(...a);else for(r&&e.splice(t,r);s<n.length;)a=n.slice(s,s+1e4),a.unshift(t,0),e.splice(...a),s+=1e4,t+=1e4}function mr(e,t){return e.length>0?(lr(e,e.length,0,t),e):t}const Bm={}.hasOwnProperty;function v2(e){const t={};let r=-1;for(;++r<e.length;)$8(t,e[r]);return t}function $8(e,t){let r;for(r in t){const i=(Bm.call(e,r)?e[r]:void 0)||(e[r]={}),s=t[r];let a;if(s)for(a in s){Bm.call(i,a)||(i[a]=[]);const l=s[a];q8(i[a],Array.isArray(l)?l:l?[l]:[])}}}function q8(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);lr(e,0,0,n)}function x2(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function zr(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Lt=Zn(/[A-Za-z]/),Et=Zn(/[\dA-Za-z]/),U8=Zn(/[#-'*+\--9=?A-Z^-~]/);function jo(e){return e!==null&&(e<32||e===127)}const Bc=Zn(/\d/),H8=Zn(/[\dA-Fa-f]/),V8=Zn(/[!-/:-@[-`{-~]/);function ue(e){return e!==null&&e<-2}function $e(e){return e!==null&&(e<0||e===32)}function Ee(e){return e===-2||e===-1||e===32}const i0=Zn(new RegExp("\\p{P}|\\p{S}","u")),_i=Zn(/\s/);function Zn(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function As(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const s=e.charCodeAt(r);let a="";if(s===37&&Et(e.charCodeAt(r+1))&&Et(e.charCodeAt(r+2)))i=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(a=String.fromCharCode(s));else if(s>55295&&s<57344){const l=e.charCodeAt(r+1);s<56320&&l>56319&&l<57344?(a=String.fromCharCode(s,l),i=1):a="�"}else a=String.fromCharCode(s);a&&(t.push(e.slice(n,r),encodeURIComponent(a)),n=r+i+1,a=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function Ne(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let s=0;return a;function a(o){return Ee(o)?(e.enter(r),l(o)):t(o)}function l(o){return Ee(o)&&s++<i?(e.consume(o),l):(e.exit(r),t(o))}}const W8={tokenize:G8};function G8(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(l){if(l===null){e.consume(l);return}return e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),Ne(e,t,"linePrefix")}function i(l){return e.enter("paragraph"),s(l)}function s(l){const o=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=o),r=o,a(l)}function a(l){if(l===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(l);return}return ue(l)?(e.consume(l),e.exit("chunkText"),s):(e.consume(l),a)}}const K8={tokenize:Y8},$m={tokenize:Q8};function Y8(e){const t=this,r=[];let n=0,i,s,a;return l;function l(x){if(n<r.length){const j=r[n];return t.containerState=j[1],e.attempt(j[0].continuation,o,u)(x)}return u(x)}function o(x){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&w();const j=t.events.length;let I=j,_;for(;I--;)if(t.events[I][0]==="exit"&&t.events[I][1].type==="chunkFlow"){_=t.events[I][1].end;break}v(n);let z=j;for(;z<t.events.length;)t.events[z][1].end={..._},z++;return lr(t.events,I+1,0,t.events.slice(j)),t.events.length=z,u(x)}return l(x)}function u(x){if(n===r.length){if(!i)return m(x);if(i.currentConstruct&&i.currentConstruct.concrete)return y(x);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check($m,d,h)(x)}function d(x){return i&&w(),v(n),m(x)}function h(x){return t.parser.lazy[t.now().line]=n!==r.length,a=t.now().offset,y(x)}function m(x){return t.containerState={},e.attempt($m,f,y)(x)}function f(x){return n++,r.push([t.currentConstruct,t.containerState]),m(x)}function y(x){if(x===null){i&&w(),v(0),e.consume(x);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),k(x)}function k(x){if(x===null){N(e.exit("chunkFlow"),!0),v(0),e.consume(x);return}return ue(x)?(e.consume(x),N(e.exit("chunkFlow")),n=0,t.interrupt=void 0,l):(e.consume(x),k)}function N(x,j){const I=t.sliceStream(x);if(j&&I.push(null),x.previous=s,s&&(s.next=x),s=x,i.defineSkip(x.start),i.write(I),t.parser.lazy[x.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<a&&(!i.events[_][1].end||i.events[_][1].end.offset>a))return;const z=t.events.length;let R=z,q,M;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){if(q){M=t.events[R][1].end;break}q=!0}for(v(n),_=z;_<t.events.length;)t.events[_][1].end={...M},_++;lr(t.events,R+1,0,t.events.slice(z)),t.events.length=_}}function v(x){let j=r.length;for(;j-- >x;){const I=r[j];t.containerState=I[1],I[0].exit.call(t,e)}r.length=x}function w(){i.write([null]),s=void 0,i=void 0,t.containerState._closeFlow=void 0}}function Q8(e,t,r){return Ne(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function bs(e){if(e===null||$e(e)||_i(e))return 1;if(i0(e))return 2}function s0(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const s=e[i].resolveAll;s&&!n.includes(s)&&(t=s(t,r),n.push(s))}return t}const $c={name:"attention",resolveAll:X8,tokenize:J8};function X8(e,t){let r=-1,n,i,s,a,l,o,u,d;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;o=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const h={...e[n][1].end},m={...e[r][1].start};qm(h,-o),qm(m,o),a={type:o>1?"strongSequence":"emphasisSequence",start:h,end:{...e[n][1].end}},l={type:o>1?"strongSequence":"emphasisSequence",start:{...e[r][1].start},end:m},s={type:o>1?"strongText":"emphasisText",start:{...e[n][1].end},end:{...e[r][1].start}},i={type:o>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},e[n][1].end={...a.start},e[r][1].start={...l.end},u=[],e[n][1].end.offset-e[n][1].start.offset&&(u=mr(u,[["enter",e[n][1],t],["exit",e[n][1],t]])),u=mr(u,[["enter",i,t],["enter",a,t],["exit",a,t],["enter",s,t]]),u=mr(u,s0(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),u=mr(u,[["exit",s,t],["enter",l,t],["exit",l,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(d=2,u=mr(u,[["enter",e[r][1],t],["exit",e[r][1],t]])):d=0,lr(e,n-1,r-n+3,u),r=n+u.length-d-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function J8(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=bs(n);let s;return a;function a(o){return s=o,e.enter("attentionSequence"),l(o)}function l(o){if(o===s)return e.consume(o),l;const u=e.exit("attentionSequence"),d=bs(o),h=!d||d===2&&i||r.includes(o),m=!i||i===2&&d||r.includes(n);return u._open=!!(s===42?h:h&&(i||!m)),u._close=!!(s===42?m:m&&(d||!h)),t(o)}}function qm(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const Z8={name:"autolink",tokenize:ew};function ew(e,t,r){let n=0;return i;function i(f){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),s}function s(f){return Lt(f)?(e.consume(f),a):f===64?r(f):u(f)}function a(f){return f===43||f===45||f===46||Et(f)?(n=1,l(f)):u(f)}function l(f){return f===58?(e.consume(f),n=0,o):(f===43||f===45||f===46||Et(f))&&n++<32?(e.consume(f),l):(n=0,u(f))}function o(f){return f===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):f===null||f===32||f===60||jo(f)?r(f):(e.consume(f),o)}function u(f){return f===64?(e.consume(f),d):U8(f)?(e.consume(f),u):r(f)}function d(f){return Et(f)?h(f):r(f)}function h(f){return f===46?(e.consume(f),n=0,d):f===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(f),e.exit("autolinkMarker"),e.exit("autolink"),t):m(f)}function m(f){if((f===45||Et(f))&&n++<63){const y=f===45?m:h;return e.consume(f),y}return r(f)}}const Ga={partial:!0,tokenize:tw};function tw(e,t,r){return n;function n(s){return Ee(s)?Ne(e,i,"linePrefix")(s):i(s)}function i(s){return s===null||ue(s)?t(s):r(s)}}const w2={continuation:{tokenize:nw},exit:iw,name:"blockQuote",tokenize:rw};function rw(e,t,r){const n=this;return i;function i(a){if(a===62){const l=n.containerState;return l.open||(e.enter("blockQuote",{_container:!0}),l.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(a),e.exit("blockQuoteMarker"),s}return r(a)}function s(a){return Ee(a)?(e.enter("blockQuotePrefixWhitespace"),e.consume(a),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(a))}}function nw(e,t,r){const n=this;return i;function i(a){return Ee(a)?Ne(e,s,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return e.attempt(w2,t,r)(a)}}function iw(e){e.exit("blockQuote")}const b2={name:"characterEscape",tokenize:sw};function sw(e,t,r){return n;function n(s){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(s),e.exit("escapeMarker"),i}function i(s){return V8(s)?(e.enter("characterEscapeValue"),e.consume(s),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(s)}}const k2={name:"characterReference",tokenize:aw};function aw(e,t,r){const n=this;let i=0,s,a;return l;function l(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),o}function o(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),s=31,a=Et,d(h))}function u(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),s=6,a=H8,d):(e.enter("characterReferenceValue"),s=7,a=Bc,d(h))}function d(h){if(h===59&&i){const m=e.exit("characterReferenceValue");return a===Et&&!ch(n.sliceSerialize(m))?r(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return a(h)&&i++<s?(e.consume(h),d):r(h)}}const Um={partial:!0,tokenize:ow},Hm={concrete:!0,name:"codeFenced",tokenize:lw};function lw(e,t,r){const n=this,i={partial:!0,tokenize:I};let s=0,a=0,l;return o;function o(_){return u(_)}function u(_){const z=n.events[n.events.length-1];return s=z&&z[1].type==="linePrefix"?z[2].sliceSerialize(z[1],!0).length:0,l=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(_)}function d(_){return _===l?(a++,e.consume(_),d):a<3?r(_):(e.exit("codeFencedFenceSequence"),Ee(_)?Ne(e,h,"whitespace")(_):h(_))}function h(_){return _===null||ue(_)?(e.exit("codeFencedFence"),n.interrupt?t(_):e.check(Um,k,j)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===null||ue(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(_)):Ee(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Ne(e,f,"whitespace")(_)):_===96&&_===l?r(_):(e.consume(_),m)}function f(_){return _===null||ue(_)?h(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),y(_))}function y(_){return _===null||ue(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(_)):_===96&&_===l?r(_):(e.consume(_),y)}function k(_){return e.attempt(i,j,N)(_)}function N(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),v}function v(_){return s>0&&Ee(_)?Ne(e,w,"linePrefix",s+1)(_):w(_)}function w(_){return _===null||ue(_)?e.check(Um,k,j)(_):(e.enter("codeFlowValue"),x(_))}function x(_){return _===null||ue(_)?(e.exit("codeFlowValue"),w(_)):(e.consume(_),x)}function j(_){return e.exit("codeFenced"),t(_)}function I(_,z,R){let q=0;return M;function M(H){return _.enter("lineEnding"),_.consume(H),_.exit("lineEnding"),U}function U(H){return _.enter("codeFencedFence"),Ee(H)?Ne(_,L,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):L(H)}function L(H){return H===l?(_.enter("codeFencedFenceSequence"),te(H)):R(H)}function te(H){return H===l?(q++,_.consume(H),te):q>=a?(_.exit("codeFencedFenceSequence"),Ee(H)?Ne(_,B,"whitespace")(H):B(H)):R(H)}function B(H){return H===null||ue(H)?(_.exit("codeFencedFence"),z(H)):R(H)}}}function ow(e,t,r){const n=this;return i;function i(a){return a===null?r(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}const Z0={name:"codeIndented",tokenize:cw},uw={partial:!0,tokenize:dw};function cw(e,t,r){const n=this;return i;function i(u){return e.enter("codeIndented"),Ne(e,s,"linePrefix",5)(u)}function s(u){const d=n.events[n.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?a(u):r(u)}function a(u){return u===null?o(u):ue(u)?e.attempt(uw,a,o)(u):(e.enter("codeFlowValue"),l(u))}function l(u){return u===null||ue(u)?(e.exit("codeFlowValue"),a(u)):(e.consume(u),l)}function o(u){return e.exit("codeIndented"),t(u)}}function dw(e,t,r){const n=this;return i;function i(a){return n.parser.lazy[n.now().line]?r(a):ue(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),i):Ne(e,s,"linePrefix",5)(a)}function s(a){const l=n.events[n.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):ue(a)?i(a):r(a)}}const hw={name:"codeText",previous:mw,resolve:fw,tokenize:pw};function fw(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function mw(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function pw(e,t,r){let n=0,i,s;return a;function a(h){return e.enter("codeText"),e.enter("codeTextSequence"),l(h)}function l(h){return h===96?(e.consume(h),n++,l):(e.exit("codeTextSequence"),o(h))}function o(h){return h===null?r(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),o):h===96?(s=e.enter("codeTextSequence"),i=0,d(h)):ue(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),o):(e.enter("codeTextData"),u(h))}function u(h){return h===null||h===32||h===96||ue(h)?(e.exit("codeTextData"),o(h)):(e.consume(h),u)}function d(h){return h===96?(e.consume(h),i++,d):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(s.type="codeTextData",u(h))}}class gw{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&Us(this.left,n),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Us(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Us(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);Us(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Us(this.left,r.reverse())}}}function Us(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function S2(e){const t={};let r=-1,n,i,s,a,l,o,u;const d=new gw(e);for(;++r<d.length;){for(;r in t;)r=t[r];if(n=d.get(r),r&&n[1].type==="chunkFlow"&&d.get(r-1)[1].type==="listItemPrefix"&&(o=n[1]._tokenizer.events,s=0,s<o.length&&o[s][1].type==="lineEndingBlank"&&(s+=2),s<o.length&&o[s][1].type==="content"))for(;++s<o.length&&o[s][1].type!=="content";)o[s][1].type==="chunkText"&&(o[s][1]._isInFirstContentOfListItem=!0,s++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,yw(d,r)),r=t[r],u=!0);else if(n[1]._container){for(s=r,i=void 0;s--;)if(a=d.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(n[1].end={...d.get(i)[1].start},l=d.slice(i,r),l.unshift(n),d.splice(i,r-i+1,l))}}return lr(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function yw(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const s=[];let a=r._tokenizer;a||(a=n.parser[r.contentType](r.start),r._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));const l=a.events,o=[],u={};let d,h,m=-1,f=r,y=0,k=0;const N=[k];for(;f;){for(;e.get(++i)[1]!==f;);s.push(i),f._tokenizer||(d=n.sliceStream(f),f.next||d.push(null),h&&a.defineSkip(f.start),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(d),f._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),h=f,f=f.next}for(f=r;++m<l.length;)l[m][0]==="exit"&&l[m-1][0]==="enter"&&l[m][1].type===l[m-1][1].type&&l[m][1].start.line!==l[m][1].end.line&&(k=m+1,N.push(k),f._tokenizer=void 0,f.previous=void 0,f=f.next);for(a.events=[],f?(f._tokenizer=void 0,f.previous=void 0):N.pop(),m=N.length;m--;){const v=l.slice(N[m],N[m+1]),w=s.pop();o.push([w,w+v.length-1]),e.splice(w,2,v)}for(o.reverse(),m=-1;++m<o.length;)u[y+o[m][0]]=y+o[m][1],y+=o[m][1]-o[m][0]-1;return u}const vw={resolve:ww,tokenize:bw},xw={partial:!0,tokenize:kw};function ww(e){return S2(e),e}function bw(e,t){let r;return n;function n(l){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):ue(l)?e.check(xw,a,s)(l):(e.consume(l),i)}function s(l){return e.exit("chunkContent"),e.exit("content"),t(l)}function a(l){return e.consume(l),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function kw(e,t,r){const n=this;return i;function i(a){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Ne(e,s,"linePrefix")}function s(a){if(a===null||ue(a))return r(a);const l=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?t(a):e.interrupt(n.parser.constructs.flow,r,t)(a)}}function _2(e,t,r,n,i,s,a,l,o){const u=o||Number.POSITIVE_INFINITY;let d=0;return h;function h(v){return v===60?(e.enter(n),e.enter(i),e.enter(s),e.consume(v),e.exit(s),m):v===null||v===32||v===41||jo(v)?r(v):(e.enter(n),e.enter(a),e.enter(l),e.enter("chunkString",{contentType:"string"}),k(v))}function m(v){return v===62?(e.enter(s),e.consume(v),e.exit(s),e.exit(i),e.exit(n),t):(e.enter(l),e.enter("chunkString",{contentType:"string"}),f(v))}function f(v){return v===62?(e.exit("chunkString"),e.exit(l),m(v)):v===null||v===60||ue(v)?r(v):(e.consume(v),v===92?y:f)}function y(v){return v===60||v===62||v===92?(e.consume(v),f):f(v)}function k(v){return!d&&(v===null||v===41||$e(v))?(e.exit("chunkString"),e.exit(l),e.exit(a),e.exit(n),t(v)):d<u&&v===40?(e.consume(v),d++,k):v===41?(e.consume(v),d--,k):v===null||v===32||v===40||jo(v)?r(v):(e.consume(v),v===92?N:k)}function N(v){return v===40||v===41||v===92?(e.consume(v),k):k(v)}}function j2(e,t,r,n,i,s){const a=this;let l=0,o;return u;function u(f){return e.enter(n),e.enter(i),e.consume(f),e.exit(i),e.enter(s),d}function d(f){return l>999||f===null||f===91||f===93&&!o||f===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?r(f):f===93?(e.exit(s),e.enter(i),e.consume(f),e.exit(i),e.exit(n),t):ue(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===null||f===91||f===93||ue(f)||l++>999?(e.exit("chunkString"),d(f)):(e.consume(f),o||(o=!Ee(f)),f===92?m:h)}function m(f){return f===91||f===92||f===93?(e.consume(f),l++,h):h(f)}}function N2(e,t,r,n,i,s){let a;return l;function l(m){return m===34||m===39||m===40?(e.enter(n),e.enter(i),e.consume(m),e.exit(i),a=m===40?41:m,o):r(m)}function o(m){return m===a?(e.enter(i),e.consume(m),e.exit(i),e.exit(n),t):(e.enter(s),u(m))}function u(m){return m===a?(e.exit(s),o(a)):m===null?r(m):ue(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),Ne(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(m))}function d(m){return m===a||m===null||ue(m)?(e.exit("chunkString"),u(m)):(e.consume(m),m===92?h:d)}function h(m){return m===a||m===92?(e.consume(m),d):d(m)}}function ca(e,t){let r;return n;function n(i){return ue(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):Ee(i)?Ne(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const Sw={name:"definition",tokenize:jw},_w={partial:!0,tokenize:Nw};function jw(e,t,r){const n=this;let i;return s;function s(f){return e.enter("definition"),a(f)}function a(f){return j2.call(n,e,l,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(f)}function l(f){return i=zr(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),f===58?(e.enter("definitionMarker"),e.consume(f),e.exit("definitionMarker"),o):r(f)}function o(f){return $e(f)?ca(e,u)(f):u(f)}function u(f){return _2(e,d,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(f)}function d(f){return e.attempt(_w,h,h)(f)}function h(f){return Ee(f)?Ne(e,m,"whitespace")(f):m(f)}function m(f){return f===null||ue(f)?(e.exit("definition"),n.parser.defined.push(i),t(f)):r(f)}}function Nw(e,t,r){return n;function n(l){return $e(l)?ca(e,i)(l):r(l)}function i(l){return N2(e,s,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return Ee(l)?Ne(e,a,"whitespace")(l):a(l)}function a(l){return l===null||ue(l)?t(l):r(l)}}const Cw={name:"hardBreakEscape",tokenize:Ew};function Ew(e,t,r){return n;function n(s){return e.enter("hardBreakEscape"),e.consume(s),i}function i(s){return ue(s)?(e.exit("hardBreakEscape"),t(s)):r(s)}}const Tw={name:"headingAtx",resolve:Aw,tokenize:Mw};function Aw(e,t){let r=e.length-2,n=3,i,s;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},s={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},lr(e,n,r-n+1,[["enter",i,t],["enter",s,t],["exit",s,t],["exit",i,t]])),e}function Mw(e,t,r){let n=0;return i;function i(d){return e.enter("atxHeading"),s(d)}function s(d){return e.enter("atxHeadingSequence"),a(d)}function a(d){return d===35&&n++<6?(e.consume(d),a):d===null||$e(d)?(e.exit("atxHeadingSequence"),l(d)):r(d)}function l(d){return d===35?(e.enter("atxHeadingSequence"),o(d)):d===null||ue(d)?(e.exit("atxHeading"),t(d)):Ee(d)?Ne(e,l,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function o(d){return d===35?(e.consume(d),o):(e.exit("atxHeadingSequence"),l(d))}function u(d){return d===null||d===35||$e(d)?(e.exit("atxHeadingText"),l(d)):(e.consume(d),u)}}const Pw=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Vm=["pre","script","style","textarea"],Iw={concrete:!0,name:"htmlFlow",resolveTo:Ow,tokenize:Lw},zw={partial:!0,tokenize:Fw},Dw={partial:!0,tokenize:Rw};function Ow(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function Lw(e,t,r){const n=this;let i,s,a,l,o;return u;function u(A){return d(A)}function d(A){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(A),h}function h(A){return A===33?(e.consume(A),m):A===47?(e.consume(A),s=!0,k):A===63?(e.consume(A),i=3,n.interrupt?t:C):Lt(A)?(e.consume(A),a=String.fromCharCode(A),N):r(A)}function m(A){return A===45?(e.consume(A),i=2,f):A===91?(e.consume(A),i=5,l=0,y):Lt(A)?(e.consume(A),i=4,n.interrupt?t:C):r(A)}function f(A){return A===45?(e.consume(A),n.interrupt?t:C):r(A)}function y(A){const ze="CDATA[";return A===ze.charCodeAt(l++)?(e.consume(A),l===ze.length?n.interrupt?t:L:y):r(A)}function k(A){return Lt(A)?(e.consume(A),a=String.fromCharCode(A),N):r(A)}function N(A){if(A===null||A===47||A===62||$e(A)){const ze=A===47,st=a.toLowerCase();return!ze&&!s&&Vm.includes(st)?(i=1,n.interrupt?t(A):L(A)):Pw.includes(a.toLowerCase())?(i=6,ze?(e.consume(A),v):n.interrupt?t(A):L(A)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(A):s?w(A):x(A))}return A===45||Et(A)?(e.consume(A),a+=String.fromCharCode(A),N):r(A)}function v(A){return A===62?(e.consume(A),n.interrupt?t:L):r(A)}function w(A){return Ee(A)?(e.consume(A),w):M(A)}function x(A){return A===47?(e.consume(A),M):A===58||A===95||Lt(A)?(e.consume(A),j):Ee(A)?(e.consume(A),x):M(A)}function j(A){return A===45||A===46||A===58||A===95||Et(A)?(e.consume(A),j):I(A)}function I(A){return A===61?(e.consume(A),_):Ee(A)?(e.consume(A),I):x(A)}function _(A){return A===null||A===60||A===61||A===62||A===96?r(A):A===34||A===39?(e.consume(A),o=A,z):Ee(A)?(e.consume(A),_):R(A)}function z(A){return A===o?(e.consume(A),o=null,q):A===null||ue(A)?r(A):(e.consume(A),z)}function R(A){return A===null||A===34||A===39||A===47||A===60||A===61||A===62||A===96||$e(A)?I(A):(e.consume(A),R)}function q(A){return A===47||A===62||Ee(A)?x(A):r(A)}function M(A){return A===62?(e.consume(A),U):r(A)}function U(A){return A===null||ue(A)?L(A):Ee(A)?(e.consume(A),U):r(A)}function L(A){return A===45&&i===2?(e.consume(A),Z):A===60&&i===1?(e.consume(A),ce):A===62&&i===4?(e.consume(A),ge):A===63&&i===3?(e.consume(A),C):A===93&&i===5?(e.consume(A),G):ue(A)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(zw,ye,te)(A)):A===null||ue(A)?(e.exit("htmlFlowData"),te(A)):(e.consume(A),L)}function te(A){return e.check(Dw,B,ye)(A)}function B(A){return e.enter("lineEnding"),e.consume(A),e.exit("lineEnding"),H}function H(A){return A===null||ue(A)?te(A):(e.enter("htmlFlowData"),L(A))}function Z(A){return A===45?(e.consume(A),C):L(A)}function ce(A){return A===47?(e.consume(A),a="",$):L(A)}function $(A){if(A===62){const ze=a.toLowerCase();return Vm.includes(ze)?(e.consume(A),ge):L(A)}return Lt(A)&&a.length<8?(e.consume(A),a+=String.fromCharCode(A),$):L(A)}function G(A){return A===93?(e.consume(A),C):L(A)}function C(A){return A===62?(e.consume(A),ge):A===45&&i===2?(e.consume(A),C):L(A)}function ge(A){return A===null||ue(A)?(e.exit("htmlFlowData"),ye(A)):(e.consume(A),ge)}function ye(A){return e.exit("htmlFlow"),t(A)}}function Rw(e,t,r){const n=this;return i;function i(a){return ue(a)?(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s):r(a)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}function Fw(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Ga,t,r)}}const Bw={name:"htmlText",tokenize:$w};function $w(e,t,r){const n=this;let i,s,a;return l;function l(C){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(C),o}function o(C){return C===33?(e.consume(C),u):C===47?(e.consume(C),I):C===63?(e.consume(C),x):Lt(C)?(e.consume(C),R):r(C)}function u(C){return C===45?(e.consume(C),d):C===91?(e.consume(C),s=0,y):Lt(C)?(e.consume(C),w):r(C)}function d(C){return C===45?(e.consume(C),f):r(C)}function h(C){return C===null?r(C):C===45?(e.consume(C),m):ue(C)?(a=h,ce(C)):(e.consume(C),h)}function m(C){return C===45?(e.consume(C),f):h(C)}function f(C){return C===62?Z(C):C===45?m(C):h(C)}function y(C){const ge="CDATA[";return C===ge.charCodeAt(s++)?(e.consume(C),s===ge.length?k:y):r(C)}function k(C){return C===null?r(C):C===93?(e.consume(C),N):ue(C)?(a=k,ce(C)):(e.consume(C),k)}function N(C){return C===93?(e.consume(C),v):k(C)}function v(C){return C===62?Z(C):C===93?(e.consume(C),v):k(C)}function w(C){return C===null||C===62?Z(C):ue(C)?(a=w,ce(C)):(e.consume(C),w)}function x(C){return C===null?r(C):C===63?(e.consume(C),j):ue(C)?(a=x,ce(C)):(e.consume(C),x)}function j(C){return C===62?Z(C):x(C)}function I(C){return Lt(C)?(e.consume(C),_):r(C)}function _(C){return C===45||Et(C)?(e.consume(C),_):z(C)}function z(C){return ue(C)?(a=z,ce(C)):Ee(C)?(e.consume(C),z):Z(C)}function R(C){return C===45||Et(C)?(e.consume(C),R):C===47||C===62||$e(C)?q(C):r(C)}function q(C){return C===47?(e.consume(C),Z):C===58||C===95||Lt(C)?(e.consume(C),M):ue(C)?(a=q,ce(C)):Ee(C)?(e.consume(C),q):Z(C)}function M(C){return C===45||C===46||C===58||C===95||Et(C)?(e.consume(C),M):U(C)}function U(C){return C===61?(e.consume(C),L):ue(C)?(a=U,ce(C)):Ee(C)?(e.consume(C),U):q(C)}function L(C){return C===null||C===60||C===61||C===62||C===96?r(C):C===34||C===39?(e.consume(C),i=C,te):ue(C)?(a=L,ce(C)):Ee(C)?(e.consume(C),L):(e.consume(C),B)}function te(C){return C===i?(e.consume(C),i=void 0,H):C===null?r(C):ue(C)?(a=te,ce(C)):(e.consume(C),te)}function B(C){return C===null||C===34||C===39||C===60||C===61||C===96?r(C):C===47||C===62||$e(C)?q(C):(e.consume(C),B)}function H(C){return C===47||C===62||$e(C)?q(C):r(C)}function Z(C){return C===62?(e.consume(C),e.exit("htmlTextData"),e.exit("htmlText"),t):r(C)}function ce(C){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(C),e.exit("lineEnding"),$}function $(C){return Ee(C)?Ne(e,G,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(C):G(C)}function G(C){return e.enter("htmlTextData"),a(C)}}const dh={name:"labelEnd",resolveAll:Vw,resolveTo:Ww,tokenize:Gw},qw={tokenize:Kw},Uw={tokenize:Yw},Hw={tokenize:Qw};function Vw(e){let t=-1;const r=[];for(;++t<e.length;){const n=e[t][1];if(r.push(e[t]),n.type==="labelImage"||n.type==="labelLink"||n.type==="labelEnd"){const i=n.type==="labelImage"?4:2;n.type="data",t+=i}}return e.length!==r.length&&lr(e,0,e.length,r),e}function Ww(e,t){let r=e.length,n=0,i,s,a,l;for(;r--;)if(i=e[r][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(a=r);const o={type:e[s][1].type==="labelLink"?"link":"image",start:{...e[s][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[s][1].start},end:{...e[a][1].end}},d={type:"labelText",start:{...e[s+n+2][1].end},end:{...e[a-2][1].start}};return l=[["enter",o,t],["enter",u,t]],l=mr(l,e.slice(s+1,s+n+3)),l=mr(l,[["enter",d,t]]),l=mr(l,s0(t.parser.constructs.insideSpan.null,e.slice(s+n+4,a-3),t)),l=mr(l,[["exit",d,t],e[a-2],e[a-1],["exit",u,t]]),l=mr(l,e.slice(a+1)),l=mr(l,[["exit",o,t]]),lr(e,s,e.length,l),e}function Gw(e,t,r){const n=this;let i=n.events.length,s,a;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){s=n.events[i][1];break}return l;function l(m){return s?s._inactive?h(m):(a=n.parser.defined.includes(zr(n.sliceSerialize({start:s.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(m),e.exit("labelMarker"),e.exit("labelEnd"),o):r(m)}function o(m){return m===40?e.attempt(qw,d,a?d:h)(m):m===91?e.attempt(Uw,d,a?u:h)(m):a?d(m):h(m)}function u(m){return e.attempt(Hw,d,h)(m)}function d(m){return t(m)}function h(m){return s._balanced=!0,r(m)}}function Kw(e,t,r){return n;function n(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),i}function i(h){return $e(h)?ca(e,s)(h):s(h)}function s(h){return h===41?d(h):_2(e,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function a(h){return $e(h)?ca(e,o)(h):d(h)}function l(h){return r(h)}function o(h){return h===34||h===39||h===40?N2(e,u,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function u(h){return $e(h)?ca(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):r(h)}}function Yw(e,t,r){const n=this;return i;function i(l){return j2.call(n,e,s,a,"reference","referenceMarker","referenceString")(l)}function s(l){return n.parser.defined.includes(zr(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(l):r(l)}function a(l){return r(l)}}function Qw(e,t,r){return n;function n(s){return e.enter("reference"),e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),i}function i(s){return s===93?(e.enter("referenceMarker"),e.consume(s),e.exit("referenceMarker"),e.exit("reference"),t):r(s)}}const Xw={name:"labelStartImage",resolveAll:dh.resolveAll,tokenize:Jw};function Jw(e,t,r){const n=this;return i;function i(l){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(l),e.exit("labelImageMarker"),s}function s(l){return l===91?(e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelImage"),a):r(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(l):t(l)}}const Zw={name:"labelStartLink",resolveAll:dh.resolveAll,tokenize:eb};function eb(e,t,r){const n=this;return i;function i(a){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(a):t(a)}}const eu={name:"lineEnding",tokenize:tb};function tb(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),Ne(e,t,"linePrefix")}}const Wl={name:"thematicBreak",tokenize:rb};function rb(e,t,r){let n=0,i;return s;function s(u){return e.enter("thematicBreak"),a(u)}function a(u){return i=u,l(u)}function l(u){return u===i?(e.enter("thematicBreakSequence"),o(u)):n>=3&&(u===null||ue(u))?(e.exit("thematicBreak"),t(u)):r(u)}function o(u){return u===i?(e.consume(u),n++,o):(e.exit("thematicBreakSequence"),Ee(u)?Ne(e,l,"whitespace")(u):l(u))}}const Ut={continuation:{tokenize:ab},exit:ob,name:"list",tokenize:sb},nb={partial:!0,tokenize:ub},ib={partial:!0,tokenize:lb};function sb(e,t,r){const n=this,i=n.events[n.events.length-1];let s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(f){const y=n.containerState.type||(f===42||f===43||f===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!n.containerState.marker||f===n.containerState.marker:Bc(f)){if(n.containerState.type||(n.containerState.type=y,e.enter(y,{_container:!0})),y==="listUnordered")return e.enter("listItemPrefix"),f===42||f===45?e.check(Wl,r,u)(f):u(f);if(!n.interrupt||f===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),o(f)}return r(f)}function o(f){return Bc(f)&&++a<10?(e.consume(f),o):(!n.interrupt||a<2)&&(n.containerState.marker?f===n.containerState.marker:f===41||f===46)?(e.exit("listItemValue"),u(f)):r(f)}function u(f){return e.enter("listItemMarker"),e.consume(f),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||f,e.check(Ga,n.interrupt?r:d,e.attempt(nb,m,h))}function d(f){return n.containerState.initialBlankLine=!0,s++,m(f)}function h(f){return Ee(f)?(e.enter("listItemPrefixWhitespace"),e.consume(f),e.exit("listItemPrefixWhitespace"),m):r(f)}function m(f){return n.containerState.size=s+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(f)}}function ab(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(Ga,i,s);function i(l){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,Ne(e,t,"listItemIndent",n.containerState.size+1)(l)}function s(l){return n.containerState.furtherBlankLines||!Ee(l)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,a(l)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(ib,t,a)(l))}function a(l){return n.containerState._closeFlow=!0,n.interrupt=void 0,Ne(e,e.attempt(Ut,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}}function lb(e,t,r){const n=this;return Ne(e,i,"listItemIndent",n.containerState.size+1);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===n.containerState.size?t(s):r(s)}}function ob(e){e.exit(this.containerState.type)}function ub(e,t,r){const n=this;return Ne(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){const a=n.events[n.events.length-1];return!Ee(s)&&a&&a[1].type==="listItemPrefixWhitespace"?t(s):r(s)}}const Wm={name:"setextUnderline",resolveTo:cb,tokenize:db};function cb(e,t){let r=e.length,n,i,s;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!s&&e[r][1].type==="definition"&&(s=r);const a={type:"setextHeading",start:{...e[n][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",s?(e.splice(i,0,["enter",a,t]),e.splice(s+1,0,["exit",e[n][1],t]),e[n][1].end={...e[s][1].end}):e[n][1]=a,e.push(["exit",a,t]),e}function db(e,t,r){const n=this;let i;return s;function s(u){let d=n.events.length,h;for(;d--;)if(n.events[d][1].type!=="lineEnding"&&n.events[d][1].type!=="linePrefix"&&n.events[d][1].type!=="content"){h=n.events[d][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||h)?(e.enter("setextHeadingLine"),i=u,a(u)):r(u)}function a(u){return e.enter("setextHeadingLineSequence"),l(u)}function l(u){return u===i?(e.consume(u),l):(e.exit("setextHeadingLineSequence"),Ee(u)?Ne(e,o,"lineSuffix")(u):o(u))}function o(u){return u===null||ue(u)?(e.exit("setextHeadingLine"),t(u)):r(u)}}const hb={tokenize:fb};function fb(e){const t=this,r=e.attempt(Ga,n,e.attempt(this.parser.constructs.flowInitial,i,Ne(e,e.attempt(this.parser.constructs.flow,i,e.attempt(vw,i)),"linePrefix")));return r;function n(s){if(s===null){e.consume(s);return}return e.enter("lineEndingBlank"),e.consume(s),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(s){if(s===null){e.consume(s);return}return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const mb={resolveAll:E2()},pb=C2("string"),gb=C2("text");function C2(e){return{resolveAll:E2(e==="text"?yb:void 0),tokenize:t};function t(r){const n=this,i=this.parser.constructs[e],s=r.attempt(i,a,l);return a;function a(d){return u(d)?s(d):l(d)}function l(d){if(d===null){r.consume(d);return}return r.enter("data"),r.consume(d),o}function o(d){return u(d)?(r.exit("data"),s(d)):(r.consume(d),o)}function u(d){if(d===null)return!0;const h=i[d];let m=-1;if(h)for(;++m<h.length;){const f=h[m];if(!f.previous||f.previous.call(n,n.previous))return!0}return!1}}}function E2(e){return t;function t(r,n){let i=-1,s;for(;++i<=r.length;)s===void 0?r[i]&&r[i][1].type==="data"&&(s=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==s+2&&(r[s][1].end=r[i-1][1].end,r.splice(s+2,i-s-2),i=s+2),s=void 0);return e?e(r,n):r}}function yb(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let s=i.length,a=-1,l=0,o;for(;s--;){const u=i[s];if(typeof u=="string"){for(a=u.length;u.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(u===-2)o=!0,l++;else if(u!==-1){s++;break}}if(t._contentTypeTextTrailing&&r===e.length&&(l=0),l){const u={type:r===e.length||o||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:n.start._bufferIndex+a,_index:n.start._index+s,line:n.end.line,column:n.end.column-l,offset:n.end.offset-l},end:{...n.end}};n.end={...u.start},n.start.offset===n.end.offset?Object.assign(n,u):(e.splice(r,0,["enter",u,t],["exit",u,t]),r+=2)}r++}return e}const vb={42:Ut,43:Ut,45:Ut,48:Ut,49:Ut,50:Ut,51:Ut,52:Ut,53:Ut,54:Ut,55:Ut,56:Ut,57:Ut,62:w2},xb={91:Sw},wb={[-2]:Z0,[-1]:Z0,32:Z0},bb={35:Tw,42:Wl,45:[Wm,Wl],60:Iw,61:Wm,95:Wl,96:Hm,126:Hm},kb={38:k2,92:b2},Sb={[-5]:eu,[-4]:eu,[-3]:eu,33:Xw,38:k2,42:$c,60:[Z8,Bw],91:Zw,92:[Cw,b2],93:dh,95:$c,96:hw},_b={null:[$c,mb]},jb={null:[42,95]},Nb={null:[]},Cb=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:jb,contentInitial:xb,disable:Nb,document:vb,flow:bb,flowInitial:wb,insideSpan:_b,string:kb,text:Sb},Symbol.toStringTag,{value:"Module"}));function Eb(e,t,r){let n={_bufferIndex:-1,_index:0,line:r&&r.line||1,column:r&&r.column||1,offset:r&&r.offset||0};const i={},s=[];let a=[],l=[];const o={attempt:z(I),check:z(_),consume:w,enter:x,exit:j,interrupt:z(_,{interrupt:!0})},u={code:null,containerState:{},defineSkip:k,events:[],now:y,parser:e,previous:null,sliceSerialize:m,sliceStream:f,write:h};let d=t.tokenize.call(u,o);return t.resolveAll&&s.push(t),u;function h(U){return a=mr(a,U),N(),a[a.length-1]!==null?[]:(R(t,0),u.events=s0(s,u.events,u),u.events)}function m(U,L){return Ab(f(U),L)}function f(U){return Tb(a,U)}function y(){const{_bufferIndex:U,_index:L,line:te,column:B,offset:H}=n;return{_bufferIndex:U,_index:L,line:te,column:B,offset:H}}function k(U){i[U.line]=U.column,M()}function N(){let U;for(;n._index<a.length;){const L=a[n._index];if(typeof L=="string")for(U=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===U&&n._bufferIndex<L.length;)v(L.charCodeAt(n._bufferIndex));else v(L)}}function v(U){d=d(U)}function w(U){ue(U)?(n.line++,n.column=1,n.offset+=U===-3?2:1,M()):U!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===a[n._index].length&&(n._bufferIndex=-1,n._index++)),u.previous=U}function x(U,L){const te=L||{};return te.type=U,te.start=y(),u.events.push(["enter",te,u]),l.push(te),te}function j(U){const L=l.pop();return L.end=y(),u.events.push(["exit",L,u]),L}function I(U,L){R(U,L.from)}function _(U,L){L.restore()}function z(U,L){return te;function te(B,H,Z){let ce,$,G,C;return Array.isArray(B)?ye(B):"tokenize"in B?ye([B]):ge(B);function ge(Me){return Je;function Je(mt){const Pt=mt!==null&&Me[mt],It=mt!==null&&Me.null,Sr=[...Array.isArray(Pt)?Pt:Pt?[Pt]:[],...Array.isArray(It)?It:It?[It]:[]];return ye(Sr)(mt)}}function ye(Me){return ce=Me,$=0,Me.length===0?Z:A(Me[$])}function A(Me){return Je;function Je(mt){return C=q(),G=Me,Me.partial||(u.currentConstruct=Me),Me.name&&u.parser.constructs.disable.null.includes(Me.name)?st():Me.tokenize.call(L?Object.assign(Object.create(u),L):u,o,ze,st)(mt)}}function ze(Me){return U(G,C),H}function st(Me){return C.restore(),++$<ce.length?A(ce[$]):Z}}}function R(U,L){U.resolveAll&&!s.includes(U)&&s.push(U),U.resolve&&lr(u.events,L,u.events.length-L,U.resolve(u.events.slice(L),u)),U.resolveTo&&(u.events=U.resolveTo(u.events,u))}function q(){const U=y(),L=u.previous,te=u.currentConstruct,B=u.events.length,H=Array.from(l);return{from:B,restore:Z};function Z(){n=U,u.previous=L,u.currentConstruct=te,u.events.length=B,l=H,M()}}function M(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function Tb(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,s=t.end._bufferIndex;let a;if(r===i)a=[e[r].slice(n,s)];else{if(a=e.slice(r,i),n>-1){const l=a[0];typeof l=="string"?a[0]=l.slice(n):a.shift()}s>0&&a.push(e[i].slice(0,s))}return a}function Ab(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const s=e[r];let a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=t?" ":"	";break}case-1:{if(!t&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,n.push(a)}return n.join("")}function Mb(e){const n={constructs:v2([Cb,...(e||{}).extensions||[]]),content:i(W8),defined:[],document:i(K8),flow:i(hb),lazy:{},string:i(pb),text:i(gb)};return n;function i(s){return a;function a(l){return Eb(n,s,l)}}}function Pb(e){for(;!S2(e););return e}const Gm=/[\0\t\n\r]/g;function Ib(){let e=1,t="",r=!0,n;return i;function i(s,a,l){const o=[];let u,d,h,m,f;for(s=t+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),h=0,t="",r&&(s.charCodeAt(0)===65279&&h++,r=void 0);h<s.length;){if(Gm.lastIndex=h,u=Gm.exec(s),m=u&&u.index!==void 0?u.index:s.length,f=s.charCodeAt(m),!u){t=s.slice(h);break}if(f===10&&h===m&&n)o.push(-3),n=void 0;else switch(n&&(o.push(-5),n=void 0),h<m&&(o.push(s.slice(h,m)),e+=m-h),f){case 0:{o.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,o.push(-2);e++<d;)o.push(-1);break}case 10:{o.push(-4),e=1;break}default:n=!0,e=1}h=m+1}return l&&(n&&o.push(-5),t&&o.push(t),o.push(null)),o}}const zb=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Db(e){return e.replace(zb,Ob)}function Ob(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),s=i===120||i===88;return x2(r.slice(s?2:1),s?16:10)}return ch(r)||e}const T2={}.hasOwnProperty;function Lb(e,t,r){return typeof t!="string"&&(r=t,t=void 0),Rb(r)(Pb(Mb(r).document().write(Ib()(e,t,!0))))}function Rb(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(ne),autolinkProtocol:q,autolinkEmail:q,atxHeading:s(De),blockQuote:s(It),characterEscape:q,characterReference:q,codeFenced:s(Sr),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Sr,a),codeText:s(J,a),codeTextData:q,data:q,codeFlowValue:q,definition:s(we),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(Fe),hardBreakEscape:s(Re),hardBreakTrailing:s(Re),htmlFlow:s(Ze,a),htmlFlowData:q,htmlText:s(Ze,a),htmlTextData:q,image:s(oe),label:a,link:s(ne),listItem:s(je),listItemValue:m,listOrdered:s(Ae,h),listUnordered:s(Ae),paragraph:s(at),reference:A,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(De),strong:s(Be),thematicBreak:s(Ye)},exit:{atxHeading:o(),atxHeadingSequence:I,autolink:o(),autolinkEmail:Pt,autolinkProtocol:mt,blockQuote:o(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:st,characterReferenceMarkerNumeric:st,characterReferenceValue:Me,characterReference:Je,codeFenced:o(N),codeFencedFence:k,codeFencedFenceInfo:f,codeFencedFenceMeta:y,codeFlowValue:M,codeIndented:o(v),codeText:o(H),codeTextData:M,data:M,definition:o(),definitionDestinationString:j,definitionLabelString:w,definitionTitleString:x,emphasis:o(),hardBreakEscape:o(L),hardBreakTrailing:o(L),htmlFlow:o(te),htmlFlowData:M,htmlText:o(B),htmlTextData:M,image:o(ce),label:G,labelText:$,lineEnding:U,link:o(Z),listItem:o(),listOrdered:o(),listUnordered:o(),paragraph:o(),referenceString:ze,resourceDestinationString:C,resourceTitleString:ge,resource:ye,setextHeading:o(R),setextHeadingLineSequence:z,setextHeadingText:_,strong:o(),thematicBreak:o()}};A2(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(D){let W={type:"root",children:[]};const de={stack:[W],tokenStack:[],config:t,enter:l,exit:u,buffer:a,resume:d,data:r},xe=[];let he=-1;for(;++he<D.length;)if(D[he][1].type==="listOrdered"||D[he][1].type==="listUnordered")if(D[he][0]==="enter")xe.push(he);else{const Oe=xe.pop();he=i(D,Oe,he)}for(he=-1;++he<D.length;){const Oe=t[D[he][0]];T2.call(Oe,D[he][1].type)&&Oe[D[he][1].type].call(Object.assign({sliceSerialize:D[he][2].sliceSerialize},de),D[he][1])}if(de.tokenStack.length>0){const Oe=de.tokenStack[de.tokenStack.length-1];(Oe[1]||Km).call(de,void 0,Oe[0])}for(W.position={start:Sn(D.length>0?D[0][1].start:{line:1,column:1,offset:0}),end:Sn(D.length>0?D[D.length-2][1].end:{line:1,column:1,offset:0})},he=-1;++he<t.transforms.length;)W=t.transforms[he](W)||W;return W}function i(D,W,de){let xe=W-1,he=-1,Oe=!1,_r,Zt,ti,Is;for(;++xe<=de;){const er=D[xe];switch(er[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{er[0]==="enter"?he++:he--,Is=void 0;break}case"lineEndingBlank":{er[0]==="enter"&&(_r&&!Is&&!he&&!ti&&(ti=xe),Is=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Is=void 0}if(!he&&er[0]==="enter"&&er[1].type==="listItemPrefix"||he===-1&&er[0]==="exit"&&(er[1].type==="listUnordered"||er[1].type==="listOrdered")){if(_r){let Mi=xe;for(Zt=void 0;Mi--;){const Qr=D[Mi];if(Qr[1].type==="lineEnding"||Qr[1].type==="lineEndingBlank"){if(Qr[0]==="exit")continue;Zt&&(D[Zt][1].type="lineEndingBlank",Oe=!0),Qr[1].type="lineEnding",Zt=Mi}else if(!(Qr[1].type==="linePrefix"||Qr[1].type==="blockQuotePrefix"||Qr[1].type==="blockQuotePrefixWhitespace"||Qr[1].type==="blockQuoteMarker"||Qr[1].type==="listItemIndent"))break}ti&&(!Zt||ti<Zt)&&(_r._spread=!0),_r.end=Object.assign({},Zt?D[Zt][1].start:er[1].end),D.splice(Zt||xe,0,["exit",_r,er[2]]),xe++,de++}if(er[1].type==="listItemPrefix"){const Mi={type:"listItem",_spread:!1,start:Object.assign({},er[1].start),end:void 0};_r=Mi,D.splice(xe,0,["enter",Mi,er[2]]),xe++,de++,ti=void 0,Is=!0}}}return D[W][1]._spread=Oe,de}function s(D,W){return de;function de(xe){l.call(this,D(xe),xe),W&&W.call(this,xe)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(D,W,de){this.stack[this.stack.length-1].children.push(D),this.stack.push(D),this.tokenStack.push([W,de||void 0]),D.position={start:Sn(W.start),end:void 0}}function o(D){return W;function W(de){D&&D.call(this,de),u.call(this,de)}}function u(D,W){const de=this.stack.pop(),xe=this.tokenStack.pop();if(xe)xe[0].type!==D.type&&(W?W.call(this,D,xe[0]):(xe[1]||Km).call(this,D,xe[0]));else throw new Error("Cannot close `"+D.type+"` ("+ua({start:D.start,end:D.end})+"): it’s not open");de.position.end=Sn(D.end)}function d(){return uh(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function m(D){if(this.data.expectingFirstListItemValue){const W=this.stack[this.stack.length-2];W.start=Number.parseInt(this.sliceSerialize(D),10),this.data.expectingFirstListItemValue=void 0}}function f(){const D=this.resume(),W=this.stack[this.stack.length-1];W.lang=D}function y(){const D=this.resume(),W=this.stack[this.stack.length-1];W.meta=D}function k(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function N(){const D=this.resume(),W=this.stack[this.stack.length-1];W.value=D.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const D=this.resume(),W=this.stack[this.stack.length-1];W.value=D.replace(/(\r?\n|\r)$/g,"")}function w(D){const W=this.resume(),de=this.stack[this.stack.length-1];de.label=W,de.identifier=zr(this.sliceSerialize(D)).toLowerCase()}function x(){const D=this.resume(),W=this.stack[this.stack.length-1];W.title=D}function j(){const D=this.resume(),W=this.stack[this.stack.length-1];W.url=D}function I(D){const W=this.stack[this.stack.length-1];if(!W.depth){const de=this.sliceSerialize(D).length;W.depth=de}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function z(D){const W=this.stack[this.stack.length-1];W.depth=this.sliceSerialize(D).codePointAt(0)===61?1:2}function R(){this.data.setextHeadingSlurpLineEnding=void 0}function q(D){const de=this.stack[this.stack.length-1].children;let xe=de[de.length-1];(!xe||xe.type!=="text")&&(xe=ie(),xe.position={start:Sn(D.start),end:void 0},de.push(xe)),this.stack.push(xe)}function M(D){const W=this.stack.pop();W.value+=this.sliceSerialize(D),W.position.end=Sn(D.end)}function U(D){const W=this.stack[this.stack.length-1];if(this.data.atHardBreak){const de=W.children[W.children.length-1];de.position.end=Sn(D.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(W.type)&&(q.call(this,D),M.call(this,D))}function L(){this.data.atHardBreak=!0}function te(){const D=this.resume(),W=this.stack[this.stack.length-1];W.value=D}function B(){const D=this.resume(),W=this.stack[this.stack.length-1];W.value=D}function H(){const D=this.resume(),W=this.stack[this.stack.length-1];W.value=D}function Z(){const D=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";D.type+="Reference",D.referenceType=W,delete D.url,delete D.title}else delete D.identifier,delete D.label;this.data.referenceType=void 0}function ce(){const D=this.stack[this.stack.length-1];if(this.data.inReference){const W=this.data.referenceType||"shortcut";D.type+="Reference",D.referenceType=W,delete D.url,delete D.title}else delete D.identifier,delete D.label;this.data.referenceType=void 0}function $(D){const W=this.sliceSerialize(D),de=this.stack[this.stack.length-2];de.label=Db(W),de.identifier=zr(W).toLowerCase()}function G(){const D=this.stack[this.stack.length-1],W=this.resume(),de=this.stack[this.stack.length-1];if(this.data.inReference=!0,de.type==="link"){const xe=D.children;de.children=xe}else de.alt=W}function C(){const D=this.resume(),W=this.stack[this.stack.length-1];W.url=D}function ge(){const D=this.resume(),W=this.stack[this.stack.length-1];W.title=D}function ye(){this.data.inReference=void 0}function A(){this.data.referenceType="collapsed"}function ze(D){const W=this.resume(),de=this.stack[this.stack.length-1];de.label=W,de.identifier=zr(this.sliceSerialize(D)).toLowerCase(),this.data.referenceType="full"}function st(D){this.data.characterReferenceType=D.type}function Me(D){const W=this.sliceSerialize(D),de=this.data.characterReferenceType;let xe;de?(xe=x2(W,de==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):xe=ch(W);const he=this.stack[this.stack.length-1];he.value+=xe}function Je(D){const W=this.stack.pop();W.position.end=Sn(D.end)}function mt(D){M.call(this,D);const W=this.stack[this.stack.length-1];W.url=this.sliceSerialize(D)}function Pt(D){M.call(this,D);const W=this.stack[this.stack.length-1];W.url="mailto:"+this.sliceSerialize(D)}function It(){return{type:"blockquote",children:[]}}function Sr(){return{type:"code",lang:null,meta:null,value:""}}function J(){return{type:"inlineCode",value:""}}function we(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Fe(){return{type:"emphasis",children:[]}}function De(){return{type:"heading",depth:0,children:[]}}function Re(){return{type:"break"}}function Ze(){return{type:"html",value:""}}function oe(){return{type:"image",title:null,url:"",alt:null}}function ne(){return{type:"link",title:null,url:"",children:[]}}function Ae(D){return{type:"list",ordered:D.type==="listOrdered",start:null,spread:D._spread,children:[]}}function je(D){return{type:"listItem",spread:D._spread,checked:null,children:[]}}function at(){return{type:"paragraph",children:[]}}function Be(){return{type:"strong",children:[]}}function ie(){return{type:"text",value:""}}function Ye(){return{type:"thematicBreak"}}}function Sn(e){return{line:e.line,column:e.column,offset:e.offset}}function A2(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?A2(e,n):Fb(e,n)}}function Fb(e,t){let r;for(r in t)if(T2.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function Km(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+ua({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+ua({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+ua({start:t.start,end:t.end})+") is still open")}function Bb(e){const t=this;t.parser=r;function r(n){return Lb(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function $b(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function qb(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function Ub(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function Hb(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Vb(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Wb(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=As(n.toLowerCase()),s=e.footnoteOrder.indexOf(n);let a,l=e.footnoteCounts.get(n);l===void 0?(l=0,e.footnoteOrder.push(n),a=e.footnoteOrder.length):a=s+1,l+=1,e.footnoteCounts.set(n,l);const o={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(l>1?"-"+l:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(a)}]};e.patch(t,o);const u={type:"element",tagName:"sup",properties:{},children:[o]};return e.patch(t,u),e.applyData(t,u)}function Gb(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Kb(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function M2(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),s=i[0];s&&s.type==="text"?s.value="["+s.value:i.unshift({type:"text",value:"["});const a=i[i.length-1];return a&&a.type==="text"?a.value+=n:i.push({type:"text",value:n}),i}function Yb(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return M2(e,t);const i={src:As(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,s),e.applyData(t,s)}function Qb(e,t){const r={src:As(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function Xb(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function Jb(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return M2(e,t);const i={href:As(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const s={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,s),e.applyData(t,s)}function Zb(e,t){const r={href:As(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function e9(e,t,r){const n=e.all(t),i=r?t9(r):P2(t),s={},a=[];if(typeof t.checked=="boolean"){const d=n[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},n.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let l=-1;for(;++l<n.length;){const d=n[l];(i||l!==0||d.type!=="element"||d.tagName!=="p")&&a.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?a.push(...d.children):a.push(d)}const o=n[n.length-1];o&&(i||o.type!=="element"||o.tagName!=="p")&&a.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:s,children:a};return e.patch(t,u),e.applyData(t,u)}function t9(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=P2(r[n])}return t}function P2(e){const t=e.spread;return t??e.children.length>1}function r9(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const a=n[i];if(a.type==="element"&&a.tagName==="li"&&a.properties&&Array.isArray(a.properties.className)&&a.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const s={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,s),e.applyData(t,s)}function n9(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function i9(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function s9(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function a9(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const a={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],a),i.push(a)}if(r.length>0){const a={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},l=sh(t.children[1]),o=d2(t.children[t.children.length-1]);l&&o&&(a.position={start:l,end:o}),i.push(a)}const s={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,s),e.applyData(t,s)}function l9(e,t,r){const n=r?r.children:void 0,s=(n?n.indexOf(t):1)===0?"th":"td",a=r&&r.type==="table"?r.align:void 0,l=a?a.length:t.children.length;let o=-1;const u=[];for(;++o<l;){const h=t.children[o],m={},f=a?a[o]:void 0;f&&(m.align=f);let y={type:"element",tagName:s,properties:m,children:[]};h&&(y.children=e.all(h),e.patch(h,y),y=e.applyData(h,y)),u.push(y)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function o9(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const Ym=9,Qm=32;function u9(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const s=[];for(;n;)s.push(Xm(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return s.push(Xm(t.slice(i),i>0,!1)),s.join("")}function Xm(e,t,r){let n=0,i=e.length;if(t){let s=e.codePointAt(n);for(;s===Ym||s===Qm;)n++,s=e.codePointAt(n)}if(r){let s=e.codePointAt(i-1);for(;s===Ym||s===Qm;)i--,s=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function c9(e,t){const r={type:"text",value:u9(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function d9(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const h9={blockquote:$b,break:qb,code:Ub,delete:Hb,emphasis:Vb,footnoteReference:Wb,heading:Gb,html:Kb,imageReference:Yb,image:Qb,inlineCode:Xb,linkReference:Jb,link:Zb,listItem:e9,list:r9,paragraph:n9,root:i9,strong:s9,table:a9,tableCell:o9,tableRow:l9,text:c9,thematicBreak:d9,toml:wl,yaml:wl,definition:wl,footnoteDefinition:wl};function wl(){}const I2=-1,a0=0,da=1,No=2,hh=3,fh=4,mh=5,ph=6,z2=7,D2=8,Jm=typeof self=="object"?self:globalThis,f9=(e,t)=>{const r=(i,s)=>(e.set(s,i),i),n=i=>{if(e.has(i))return e.get(i);const[s,a]=t[i];switch(s){case a0:case I2:return r(a,i);case da:{const l=r([],i);for(const o of a)l.push(n(o));return l}case No:{const l=r({},i);for(const[o,u]of a)l[n(o)]=n(u);return l}case hh:return r(new Date(a),i);case fh:{const{source:l,flags:o}=a;return r(new RegExp(l,o),i)}case mh:{const l=r(new Map,i);for(const[o,u]of a)l.set(n(o),n(u));return l}case ph:{const l=r(new Set,i);for(const o of a)l.add(n(o));return l}case z2:{const{name:l,message:o}=a;return r(new Jm[l](o),i)}case D2:return r(BigInt(a),i);case"BigInt":return r(Object(BigInt(a)),i);case"ArrayBuffer":return r(new Uint8Array(a).buffer,a);case"DataView":{const{buffer:l}=new Uint8Array(a);return r(new DataView(l),a)}}return r(new Jm[s](a),i)};return n},Zm=e=>f9(new Map,e)(0),$i="",{toString:m9}={},{keys:p9}=Object,Hs=e=>{const t=typeof e;if(t!=="object"||!e)return[a0,t];const r=m9.call(e).slice(8,-1);switch(r){case"Array":return[da,$i];case"Object":return[No,$i];case"Date":return[hh,$i];case"RegExp":return[fh,$i];case"Map":return[mh,$i];case"Set":return[ph,$i];case"DataView":return[da,r]}return r.includes("Array")?[da,r]:r.includes("Error")?[z2,r]:[No,r]},bl=([e,t])=>e===a0&&(t==="function"||t==="symbol"),g9=(e,t,r,n)=>{const i=(a,l)=>{const o=n.push(a)-1;return r.set(l,o),o},s=a=>{if(r.has(a))return r.get(a);let[l,o]=Hs(a);switch(l){case a0:{let d=a;switch(o){case"bigint":l=D2,d=a.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+o);d=null;break;case"undefined":return i([I2],a)}return i([l,d],a)}case da:{if(o){let m=a;return o==="DataView"?m=new Uint8Array(a.buffer):o==="ArrayBuffer"&&(m=new Uint8Array(a)),i([o,[...m]],a)}const d=[],h=i([l,d],a);for(const m of a)d.push(s(m));return h}case No:{if(o)switch(o){case"BigInt":return i([o,a.toString()],a);case"Boolean":case"Number":case"String":return i([o,a.valueOf()],a)}if(t&&"toJSON"in a)return s(a.toJSON());const d=[],h=i([l,d],a);for(const m of p9(a))(e||!bl(Hs(a[m])))&&d.push([s(m),s(a[m])]);return h}case hh:return i([l,a.toISOString()],a);case fh:{const{source:d,flags:h}=a;return i([l,{source:d,flags:h}],a)}case mh:{const d=[],h=i([l,d],a);for(const[m,f]of a)(e||!(bl(Hs(m))||bl(Hs(f))))&&d.push([s(m),s(f)]);return h}case ph:{const d=[],h=i([l,d],a);for(const m of a)(e||!bl(Hs(m)))&&d.push(s(m));return h}}const{message:u}=a;return i([l,{name:o,message:u}],a)};return s},e1=(e,{json:t,lossy:r}={})=>{const n=[];return g9(!(t||r),!!t,new Map,n)(e),n},Co=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Zm(e1(e,t)):structuredClone(e):(e,t)=>Zm(e1(e,t));function y9(e,t){const r=[{type:"text",value:"↩"}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function v9(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function x9(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||y9,n=e.options.footnoteBackLabel||v9,i=e.options.footnoteLabel||"Footnotes",s=e.options.footnoteLabelTagName||"h2",a=e.options.footnoteLabelProperties||{className:["sr-only"]},l=[];let o=-1;for(;++o<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[o]);if(!u)continue;const d=e.all(u),h=String(u.identifier).toUpperCase(),m=As(h.toLowerCase());let f=0;const y=[],k=e.footnoteCounts.get(h);for(;k!==void 0&&++f<=k;){y.length>0&&y.push({type:"text",value:" "});let w=typeof r=="string"?r:r(o,f);typeof w=="string"&&(w={type:"text",value:w}),y.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+m+(f>1?"-"+f:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(o,f),className:["data-footnote-backref"]},children:Array.isArray(w)?w:[w]})}const N=d[d.length-1];if(N&&N.type==="element"&&N.tagName==="p"){const w=N.children[N.children.length-1];w&&w.type==="text"?w.value+=" ":N.children.push({type:"text",value:" "}),N.children.push(...y)}else d.push(...y);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+m},children:e.wrap(d,!0)};e.patch(u,v),l.push(v)}if(l.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...Co(a),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(l,!0)},{type:"text",value:`
`}]}}const Ka=function(e){if(e==null)return S9;if(typeof e=="function")return l0(e);if(typeof e=="object")return Array.isArray(e)?w9(e):b9(e);if(typeof e=="string")return k9(e);throw new Error("Expected function, string, or object as test")};function w9(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Ka(e[r]);return l0(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function b9(e){const t=e;return l0(r);function r(n){const i=n;let s;for(s in e)if(i[s]!==t[s])return!1;return!0}}function k9(e){return l0(t);function t(r){return r&&r.type===e}}function l0(e){return t;function t(r,n,i){return!!(_9(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function S9(){return!0}function _9(e){return e!==null&&typeof e=="object"&&"type"in e}const O2=[],j9=!0,qc=!1,L2="skip";function gh(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const s=Ka(i),a=n?-1:1;l(e,void 0,[])();function l(o,u,d){const h=o&&typeof o=="object"?o:{};if(typeof h.type=="string"){const f=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(m,"name",{value:"node ("+(o.type+(f?"<"+f+">":""))+")"})}return m;function m(){let f=O2,y,k,N;if((!t||s(o,u,d[d.length-1]||void 0))&&(f=N9(r(o,d)),f[0]===qc))return f;if("children"in o&&o.children){const v=o;if(v.children&&f[0]!==L2)for(k=(n?v.children.length:-1)+a,N=d.concat(v);k>-1&&k<v.children.length;){const w=v.children[k];if(y=l(w,k,N)(),y[0]===qc)return y;k=typeof y[1]=="number"?y[1]:k+a}}return f}}}function N9(e){return Array.isArray(e)?e:typeof e=="number"?[j9,e]:e==null?O2:[e]}function yh(e,t,r,n){let i,s,a;typeof t=="function"&&typeof r!="function"?(s=void 0,a=t,i=r):(s=t,a=r,i=n),gh(e,s,l,i);function l(o,u){const d=u[u.length-1],h=d?d.children.indexOf(o):void 0;return a(o,h,d)}}const Uc={}.hasOwnProperty,C9={};function E9(e,t){const r=t||C9,n=new Map,i=new Map,s=new Map,a={...h9,...r.handlers},l={all:u,applyData:A9,definitionById:n,footnoteById:i,footnoteCounts:s,footnoteOrder:[],handlers:a,one:o,options:r,patch:T9,wrap:P9};return yh(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?n:i,m=String(d.identifier).toUpperCase();h.has(m)||h.set(m,d)}}),l;function o(d,h){const m=d.type,f=l.handlers[m];if(Uc.call(l.handlers,m)&&f)return f(l,d,h);if(l.options.passThrough&&l.options.passThrough.includes(m)){if("children"in d){const{children:k,...N}=d,v=Co(N);return v.children=l.all(d),v}return Co(d)}return(l.options.unknownHandler||M9)(l,d,h)}function u(d){const h=[];if("children"in d){const m=d.children;let f=-1;for(;++f<m.length;){const y=l.one(m[f],d);if(y){if(f&&m[f-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=t1(y.value)),!Array.isArray(y)&&y.type==="element")){const k=y.children[0];k&&k.type==="text"&&(k.value=t1(k.value))}Array.isArray(y)?h.push(...y):h.push(y)}}}return h}}function T9(e,t){e.position&&(t.position=v8(e))}function A9(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,s=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const a="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:a}}r.type==="element"&&s&&Object.assign(r.properties,Co(s)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function M9(e,t){const r=t.data||{},n="value"in t&&!(Uc.call(r,"hProperties")||Uc.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function P9(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function t1(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function r1(e,t){const r=E9(e,t),n=r.one(e,void 0),i=x9(r),s=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&s.children.push({type:"text",value:`
`},i),s}function I9(e,t){return e&&"run"in e?async function(r,n){const i=r1(r,{file:n,...t});await e.run(i,n)}:function(r,n){return r1(r,{file:n,...e||t})}}function n1(e){if(e)throw e}var Gl=Object.prototype.hasOwnProperty,R2=Object.prototype.toString,i1=Object.defineProperty,s1=Object.getOwnPropertyDescriptor,a1=function(t){return typeof Array.isArray=="function"?Array.isArray(t):R2.call(t)==="[object Array]"},l1=function(t){if(!t||R2.call(t)!=="[object Object]")return!1;var r=Gl.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&Gl.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||Gl.call(t,i)},o1=function(t,r){i1&&r.name==="__proto__"?i1(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},u1=function(t,r){if(r==="__proto__")if(Gl.call(t,r)){if(s1)return s1(t,r).value}else return;return t[r]},z9=function e(){var t,r,n,i,s,a,l=arguments[0],o=1,u=arguments.length,d=!1;for(typeof l=="boolean"&&(d=l,l=arguments[1]||{},o=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});o<u;++o)if(t=arguments[o],t!=null)for(r in t)n=u1(l,r),i=u1(t,r),l!==i&&(d&&i&&(l1(i)||(s=a1(i)))?(s?(s=!1,a=n&&a1(n)?n:[]):a=n&&l1(n)?n:{},o1(l,{name:r,newValue:e(d,a,i)})):typeof i<"u"&&o1(l,{name:r,newValue:i}));return l};const tu=fp(z9);function Hc(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function D9(){const e=[],t={run:r,use:n};return t;function r(...i){let s=-1;const a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(o,...u){const d=e[++s];let h=-1;if(o){a(o);return}for(;++h<i.length;)(u[h]===null||u[h]===void 0)&&(u[h]=i[h]);i=u,d?O9(d,l)(...u):a(null,...u)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function O9(e,t){let r;return n;function n(...a){const l=e.length>a.length;let o;l&&a.push(i);try{o=e.apply(this,a)}catch(u){const d=u;if(l&&r)throw d;return i(d)}l||(o&&o.then&&typeof o.then=="function"?o.then(s,i):o instanceof Error?i(o):s(o))}function i(a,...l){r||(r=!0,t(a,...l))}function s(a){i(null,a)}}const Fr={basename:L9,dirname:R9,extname:F9,join:B9,sep:"/"};function L9(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ya(e);let r=0,n=-1,i=e.length,s;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else n<0&&(s=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let a=-1,l=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(s){r=i+1;break}}else a<0&&(s=!0,a=i+1),l>-1&&(e.codePointAt(i)===t.codePointAt(l--)?l<0&&(n=i):(l=-1,n=a));return r===n?n=a:n<0&&(n=e.length),e.slice(r,n)}function R9(e){if(Ya(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function F9(e){Ya(e);let t=e.length,r=-1,n=0,i=-1,s=0,a;for(;t--;){const l=e.codePointAt(t);if(l===47){if(a){n=t+1;break}continue}r<0&&(a=!0,r=t+1),l===46?i<0?i=t:s!==1&&(s=1):i>-1&&(s=-1)}return i<0||r<0||s===0||s===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function B9(...e){let t=-1,r;for(;++t<e.length;)Ya(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":$9(r)}function $9(e){Ya(e);const t=e.codePointAt(0)===47;let r=q9(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function q9(e,t){let r="",n=0,i=-1,s=0,a=-1,l,o;for(;++a<=e.length;){if(a<e.length)l=e.codePointAt(a);else{if(l===47)break;l=47}if(l===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(o=r.lastIndexOf("/"),o!==r.length-1){o<0?(r="",n=0):(r=r.slice(0,o),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length>0){r="",n=0,i=a,s=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,a):r=e.slice(i+1,a),n=a-i-1;i=a,s=0}else l===46&&s>-1?s++:s=-1}return r}function Ya(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const U9={cwd:H9};function H9(){return"/"}function Vc(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function V9(e){if(typeof e=="string")e=new URL(e);else if(!Vc(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return W9(e)}function W9(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const ru=["history","path","basename","stem","extname","dirname"];class F2{constructor(t){let r;t?Vc(t)?r={path:t}:typeof t=="string"||G9(t)?r={value:t}:r=t:r={},this.cwd="cwd"in r?"":U9.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<ru.length;){const s=ru[n];s in r&&r[s]!==void 0&&r[s]!==null&&(this[s]=s==="history"?[...r[s]]:r[s])}let i;for(i in r)ru.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Fr.basename(this.path):void 0}set basename(t){iu(t,"basename"),nu(t,"basename"),this.path=Fr.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Fr.dirname(this.path):void 0}set dirname(t){c1(this.basename,"dirname"),this.path=Fr.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Fr.extname(this.path):void 0}set extname(t){if(nu(t,"extname"),c1(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Fr.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){Vc(t)&&(t=V9(t)),iu(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Fr.basename(this.path,this.extname):void 0}set stem(t){iu(t,"stem"),nu(t,"stem"),this.path=Fr.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new Mt(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function nu(e,t){if(e&&e.includes(Fr.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Fr.sep+"`")}function iu(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function c1(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function G9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const K9=function(e){const n=this.constructor.prototype,i=n[e],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,n),s},Y9={}.hasOwnProperty;class vh extends K9{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=D9()}copy(){const t=new vh;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(tu(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(lu("data",this.frozen),this.namespace[t]=r,this):Y9.call(this.namespace,t)&&this.namespace[t]||void 0:t?(lu("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=kl(t),n=this.parser||this.Parser;return su("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),su("process",this.parser||this.Parser),au("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(s,a){const l=kl(t),o=n.parse(l);n.run(o,l,function(d,h,m){if(d||!h||!m)return u(d);const f=h,y=n.stringify(f,m);J9(y)?m.value=y:m.result=y,u(d,m)});function u(d,h){d||!h?a(d):s?s(h):r(void 0,h)}}}processSync(t){let r=!1,n;return this.freeze(),su("processSync",this.parser||this.Parser),au("processSync",this.compiler||this.Compiler),this.process(t,i),h1("processSync","process",r),n;function i(s,a){r=!0,n1(s),n=a}}run(t,r,n){d1(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?s(void 0,n):new Promise(s);function s(a,l){const o=kl(r);i.run(t,o,u);function u(d,h,m){const f=h||t;d?l(d):a?a(f):n(void 0,f,m)}}}runSync(t,r){let n=!1,i;return this.run(t,r,s),h1("runSync","run",n),i;function s(a,l){n1(a),i=l,n=!0}}stringify(t,r){this.freeze();const n=kl(r),i=this.compiler||this.Compiler;return au("stringify",i),d1(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(lu("use",this.frozen),t!=null)if(typeof t=="function")o(t,r);else if(typeof t=="object")Array.isArray(t)?l(t):a(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function s(u){if(typeof u=="function")o(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...h]=u;o(d,h)}else a(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function a(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(u.plugins),u.settings&&(i.settings=tu(!0,i.settings,u.settings))}function l(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const h=u[d];s(h)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function o(u,d){let h=-1,m=-1;for(;++h<n.length;)if(n[h][0]===u){m=h;break}if(m===-1)n.push([u,...d]);else if(d.length>0){let[f,...y]=d;const k=n[m][1];Hc(k)&&Hc(f)&&(f=tu(!0,k,f)),n[m]=[u,f,...y]}}}}const Q9=new vh().freeze();function su(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function au(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function lu(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function d1(e){if(!Hc(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function h1(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function kl(e){return X9(e)?e:new F2(e)}function X9(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function J9(e){return typeof e=="string"||Z9(e)}function Z9(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const ek="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",f1=[],m1={allowDangerousHtml:!0},tk=/^(https?|ircs?|mailto|xmpp)$/i,rk=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function nk(e){const t=ik(e),r=sk(e);return ak(t.runSync(t.parse(r),r),e)}function ik(e){const t=e.rehypePlugins||f1,r=e.remarkPlugins||f1,n=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...m1}:m1;return Q9().use(Bb).use(r).use(I9,n).use(t)}function sk(e){const t=e.children||"",r=new F2;return typeof t=="string"&&(r.value=t),r}function ak(e,t){const r=t.allowedElements,n=t.allowElement,i=t.components,s=t.disallowedElements,a=t.skipHtml,l=t.unwrapDisallowed,o=t.urlTransform||lk;for(const d of rk)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+ek+d.id,void 0);return yh(e,u),S8(e,{Fragment:c.Fragment,components:i,ignoreInvalidStyle:!0,jsx:c.jsx,jsxs:c.jsxs,passKeys:!0,passNode:!0});function u(d,h,m){if(d.type==="raw"&&m&&typeof h=="number")return a?m.children.splice(h,1):m.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let f;for(f in J0)if(Object.hasOwn(J0,f)&&Object.hasOwn(d.properties,f)){const y=d.properties[f],k=J0[f];(k===null||k.includes(d.tagName))&&(d.properties[f]=o(String(y||""),f,d))}}if(d.type==="element"){let f=r?!r.includes(d.tagName):s?s.includes(d.tagName):!1;if(!f&&n&&typeof h=="number"&&(f=!n(d,h,m)),f&&m&&typeof h=="number")return l&&d.children?m.children.splice(h,1,...d.children):m.children.splice(h,1),h}}}function lk(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||r!==-1&&t>r||n!==-1&&t>n||tk.test(e.slice(0,t))?e:""}function B2(e,t){const r=String(e);let n=r.indexOf(t),i=n,s=0,a=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;n!==-1;)n===i?++s>a&&(a=s):s=1,i=n+t.length,n=r.indexOf(t,i);return a}function ok(){return{enter:{mathFlow:e,mathFlowFenceMeta:t,mathText:s},exit:{mathFlow:i,mathFlowFence:n,mathFlowFenceMeta:r,mathFlowValue:l,mathText:a,mathTextData:l}};function e(o){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},o)}function t(){this.buffer()}function r(){const o=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=o}function n(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(o){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),d=this.stack[this.stack.length-1];d.type,this.exit(o),d.value=u;const h=d.data.hChildren[0];h.type,h.tagName,h.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function s(o){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},o),this.buffer()}function a(o){const u=this.resume(),d=this.stack[this.stack.length-1];d.type,this.exit(o),d.value=u,d.data.hChildren.push({type:"text",value:u})}function l(o){this.config.enter.data.call(this,o),this.config.exit.data.call(this,o)}}function uk(e){let t=(e||{}).singleDollarTextMath;return t==null&&(t=!0),n.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:t?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:r,inlineMath:n}};function r(s,a,l,o){const u=s.value||"",d=l.createTracker(o),h="$".repeat(Math.max(B2(u,"$")+1,2)),m=l.enter("mathFlow");let f=d.move(h);if(s.meta){const y=l.enter("mathFlowMeta");f+=d.move(l.safe(s.meta,{after:`
`,before:f,encode:["$"],...d.current()})),y()}return f+=d.move(`
`),u&&(f+=d.move(u+`
`)),f+=d.move(h),m(),f}function n(s,a,l){let o=s.value||"",u=1;for(t||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(o);)u++;const d="$".repeat(u);/[^ \r\n]/.test(o)&&(/^[ \r\n]/.test(o)&&/[ \r\n]$/.test(o)||/^\$|\$$/.test(o))&&(o=" "+o+" ");let h=-1;for(;++h<l.unsafe.length;){const m=l.unsafe[h];if(!m.atBreak)continue;const f=l.compilePattern(m);let y;for(;y=f.exec(o);){let k=y.index;o.codePointAt(k)===10&&o.codePointAt(k-1)===13&&k--,o=o.slice(0,k)+" "+o.slice(y.index+1)}}return d+o+d}function i(){return"$"}}const ck={tokenize:dk,concrete:!0,name:"mathFlow"},p1={tokenize:hk,partial:!0};function dk(e,t,r){const n=this,i=n.events[n.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let a=0;return l;function l(w){return e.enter("mathFlow"),e.enter("mathFlowFence"),e.enter("mathFlowFenceSequence"),o(w)}function o(w){return w===36?(e.consume(w),a++,o):a<2?r(w):(e.exit("mathFlowFenceSequence"),Ne(e,u,"whitespace")(w))}function u(w){return w===null||ue(w)?h(w):(e.enter("mathFlowFenceMeta"),e.enter("chunkString",{contentType:"string"}),d(w))}function d(w){return w===null||ue(w)?(e.exit("chunkString"),e.exit("mathFlowFenceMeta"),h(w)):w===36?r(w):(e.consume(w),d)}function h(w){return e.exit("mathFlowFence"),n.interrupt?t(w):e.attempt(p1,m,N)(w)}function m(w){return e.attempt({tokenize:v,partial:!0},N,f)(w)}function f(w){return(s?Ne(e,y,"linePrefix",s+1):y)(w)}function y(w){return w===null?N(w):ue(w)?e.attempt(p1,m,N)(w):(e.enter("mathFlowValue"),k(w))}function k(w){return w===null||ue(w)?(e.exit("mathFlowValue"),y(w)):(e.consume(w),k)}function N(w){return e.exit("mathFlow"),t(w)}function v(w,x,j){let I=0;return Ne(w,_,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function _(q){return w.enter("mathFlowFence"),w.enter("mathFlowFenceSequence"),z(q)}function z(q){return q===36?(I++,w.consume(q),z):I<a?j(q):(w.exit("mathFlowFenceSequence"),Ne(w,R,"whitespace")(q))}function R(q){return q===null||ue(q)?(w.exit("mathFlowFence"),x(q)):j(q)}}}function hk(e,t,r){const n=this;return i;function i(a){return a===null?t(a):(e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),s)}function s(a){return n.parser.lazy[n.now().line]?r(a):t(a)}}function fk(e){let r=(e||{}).singleDollarTextMath;return r==null&&(r=!0),{tokenize:n,resolve:mk,previous:pk,name:"mathText"};function n(i,s,a){let l=0,o,u;return d;function d(k){return i.enter("mathText"),i.enter("mathTextSequence"),h(k)}function h(k){return k===36?(i.consume(k),l++,h):l<2&&!r?a(k):(i.exit("mathTextSequence"),m(k))}function m(k){return k===null?a(k):k===36?(u=i.enter("mathTextSequence"),o=0,y(k)):k===32?(i.enter("space"),i.consume(k),i.exit("space"),m):ue(k)?(i.enter("lineEnding"),i.consume(k),i.exit("lineEnding"),m):(i.enter("mathTextData"),f(k))}function f(k){return k===null||k===32||k===36||ue(k)?(i.exit("mathTextData"),m(k)):(i.consume(k),f)}function y(k){return k===36?(i.consume(k),o++,y):o===l?(i.exit("mathTextSequence"),i.exit("mathText"),s(k)):(u.type="mathTextData",f(k))}}}function mk(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="mathTextData"){e[t][1].type="mathTextPadding",e[r][1].type="mathTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="mathTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function pk(e){return e!==36||this.events[this.events.length-1][1].type==="characterEscape"}function gk(e){return{flow:{36:ck},text:{36:fk(e)}}}class nr{constructor(t,r,n){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=r,this.end=n}static range(t,r){return r?!t||!t.loc||!r.loc||t.loc.lexer!==r.loc.lexer?null:new nr(t.loc.lexer,t.loc.start,r.loc.end):t&&t.loc}}class vr{constructor(t,r){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=r}range(t,r){return new vr(r,nr.range(this,t))}}class Y{constructor(t,r){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var n="KaTeX parse error: "+t,i,s,a=r&&r.loc;if(a&&a.start<=a.end){var l=a.lexer.input;i=a.start,s=a.end,i===l.length?n+=" at end of input: ":n+=" at position "+(i+1)+": ";var o=l.slice(i,s).replace(/[^]/g,"$&̲"),u;i>15?u="…"+l.slice(i-15,i):u=l.slice(0,i);var d;s+15<l.length?d=l.slice(s,s+15)+"…":d=l.slice(s),n+=u+o+d}var h=new Error(n);return h.name="ParseError",h.__proto__=Y.prototype,h.position=i,i!=null&&s!=null&&(h.length=s-i),h.rawMessage=t,h}}Y.prototype.__proto__=Error.prototype;var yk=function(t,r){return t.indexOf(r)!==-1},vk=function(t,r){return t===void 0?r:t},xk=/([A-Z])/g,wk=function(t){return t.replace(xk,"-$1").toLowerCase()},bk={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},kk=/[&><"']/g;function Sk(e){return String(e).replace(kk,t=>bk[t])}var $2=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},_k=function(t){var r=$2(t);return r.type==="mathord"||r.type==="textord"||r.type==="atom"},jk=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},Nk=function(t){var r=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return r?r[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(r[1])?null:r[1].toLowerCase():"_relative"},fe={contains:yk,deflt:vk,escape:Sk,hyphenate:wk,getBaseElem:$2,isCharacterBox:_k,protocolFromUrl:Nk},Kl={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function Ck(e){if(e.default)return e.default;var t=e.type,r=Array.isArray(t)?t[0]:t;if(typeof r!="string")return r.enum[0];switch(r){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class xh{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var r in Kl)if(Kl.hasOwnProperty(r)){var n=Kl[r];this[r]=t[r]!==void 0?n.processor?n.processor(t[r]):t[r]:Ck(n)}}reportNonstrict(t,r,n){var i=this.strict;if(typeof i=="function"&&(i=i(t,r,n)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new Y("LaTeX-incompatible input and strict mode is set to 'error': "+(r+" ["+t+"]"),n);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+t+"]"))}}useStrictBehavior(t,r,n){var i=this.strict;if(typeof i=="function")try{i=i(t,r,n)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(r+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+r+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var r=fe.protocolFromUrl(t.url);if(r==null)return!1;t.protocol=r}var n=typeof this.trust=="function"?this.trust(t):this.trust;return!!n}}class _n{constructor(t,r,n){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=r,this.cramped=n}sup(){return Br[Ek[this.id]]}sub(){return Br[Tk[this.id]]}fracNum(){return Br[Ak[this.id]]}fracDen(){return Br[Mk[this.id]]}cramp(){return Br[Pk[this.id]]}text(){return Br[Ik[this.id]]}isTight(){return this.size>=2}}var wh=0,Eo=1,ds=2,on=3,Ia=4,gr=5,ks=6,Rt=7,Br=[new _n(wh,0,!1),new _n(Eo,0,!0),new _n(ds,1,!1),new _n(on,1,!0),new _n(Ia,2,!1),new _n(gr,2,!0),new _n(ks,3,!1),new _n(Rt,3,!0)],Ek=[Ia,gr,Ia,gr,ks,Rt,ks,Rt],Tk=[gr,gr,gr,gr,Rt,Rt,Rt,Rt],Ak=[ds,on,Ia,gr,ks,Rt,ks,Rt],Mk=[on,on,gr,gr,Rt,Rt,Rt,Rt],Pk=[Eo,Eo,on,on,gr,gr,Rt,Rt],Ik=[wh,Eo,ds,on,ds,on,ds,on],pe={DISPLAY:Br[wh],TEXT:Br[ds],SCRIPT:Br[Ia],SCRIPTSCRIPT:Br[ks]},Wc=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function zk(e){for(var t=0;t<Wc.length;t++)for(var r=Wc[t],n=0;n<r.blocks.length;n++){var i=r.blocks[n];if(e>=i[0]&&e<=i[1])return r.name}return null}var Yl=[];Wc.forEach(e=>e.blocks.forEach(t=>Yl.push(...t)));function q2(e){for(var t=0;t<Yl.length;t+=2)if(e>=Yl[t]&&e<=Yl[t+1])return!0;return!1}var qi=80,Dk=function(t,r){return"M95,"+(622+t+r)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},Ok=function(t,r){return"M263,"+(601+t+r)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},Lk=function(t,r){return"M983 "+(10+t+r)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+r+"h400000v"+(40+t)+"h-400000z"},Rk=function(t,r){return"M424,"+(2398+t+r)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+r+`
h400000v`+(40+t)+"h-400000z"},Fk=function(t,r){return"M473,"+(2713+t+r)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+r+"h400000v"+(40+t)+"H1017.7z"},Bk=function(t){var r=t/2;return"M400000 "+t+" H0 L"+r+" 0 l65 45 L145 "+(t-80)+" H400000z"},$k=function(t,r,n){var i=n-54-r-t;return"M702 "+(t+r)+"H400000"+(40+t)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+r+"H400000v"+(40+t)+"H742z"},qk=function(t,r,n){r=1e3*r;var i="";switch(t){case"sqrtMain":i=Dk(r,qi);break;case"sqrtSize1":i=Ok(r,qi);break;case"sqrtSize2":i=Lk(r,qi);break;case"sqrtSize3":i=Rk(r,qi);break;case"sqrtSize4":i=Fk(r,qi);break;case"sqrtTall":i=$k(r,qi,n)}return i},Uk=function(t,r){switch(t){case"⎜":return"M291 0 H417 V"+r+" H291z M291 0 H417 V"+r+" H291z";case"∣":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z";case"∥":return"M145 0 H188 V"+r+" H145z M145 0 H188 V"+r+" H145z"+("M367 0 H410 V"+r+" H367z M367 0 H410 V"+r+" H367z");case"⎟":return"M457 0 H583 V"+r+" H457z M457 0 H583 V"+r+" H457z";case"⎢":return"M319 0 H403 V"+r+" H319z M319 0 H403 V"+r+" H319z";case"⎥":return"M263 0 H347 V"+r+" H263z M263 0 H347 V"+r+" H263z";case"⎪":return"M384 0 H504 V"+r+" H384z M384 0 H504 V"+r+" H384z";case"⏐":return"M312 0 H355 V"+r+" H312z M312 0 H355 V"+r+" H312z";case"‖":return"M257 0 H300 V"+r+" H257z M257 0 H300 V"+r+" H257z"+("M478 0 H521 V"+r+" H478z M478 0 H521 V"+r+" H478z");default:return""}},g1={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Hk=function(t,r){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+r+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+r+" v1759 h84z";case"vert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+" v585 h43z";case"doublevert":return"M145 15 v585 v"+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+r+` v585 h43z
M367 15 v585 v`+r+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-r+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+r+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+r+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+r+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+r+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+r+` v602 h84z
M403 1759 V0 H319 V1759 v`+r+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+r+` v602 h84z
M347 1759 V0 h-84 V1759 v`+r+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(r+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(r+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(r+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(r+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Qa{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return fe.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),r=0;r<this.children.length;r++)t.appendChild(this.children[r].toNode());return t}toMarkup(){for(var t="",r=0;r<this.children.length;r++)t+=this.children[r].toMarkup();return t}toText(){var t=r=>r.toText();return this.children.map(t).join("")}}var qr={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},Sl={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},y1={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function Vk(e,t){qr[e]=t}function bh(e,t,r){if(!qr[t])throw new Error("Font metrics not found for font: "+t+".");var n=e.charCodeAt(0),i=qr[t][n];if(!i&&e[0]in y1&&(n=y1[e[0]].charCodeAt(0),i=qr[t][n]),!i&&r==="text"&&q2(n)&&(i=qr[t][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var ou={};function Wk(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!ou[t]){var r=ou[t]={cssEmPerMu:Sl.quad[t]/18};for(var n in Sl)Sl.hasOwnProperty(n)&&(r[n]=Sl[n][t])}return ou[t]}var Gk=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],v1=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],x1=function(t,r){return r.size<2?t:Gk[t-1][r.size-1]};class rn{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||rn.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=v1[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var r={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var n in t)t.hasOwnProperty(n)&&(r[n]=t[n]);return new rn(r)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:x1(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:v1[t-1]})}havingBaseStyle(t){t=t||this.style.text();var r=x1(rn.BASESIZE,t);return this.size===r&&this.textSize===rn.BASESIZE&&this.style===t?this:this.extend({style:t,size:r})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==rn.BASESIZE?["sizing","reset-size"+this.size,"size"+rn.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=Wk(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}rn.BASESIZE=6;var Gc={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Kk={ex:!0,em:!0,mu:!0},U2=function(t){return typeof t!="string"&&(t=t.unit),t in Gc||t in Kk||t==="ex"},rt=function(t,r){var n;if(t.unit in Gc)n=Gc[t.unit]/r.fontMetrics().ptPerEm/r.sizeMultiplier;else if(t.unit==="mu")n=r.fontMetrics().cssEmPerMu;else{var i;if(r.style.isTight()?i=r.havingStyle(r.style.text()):i=r,t.unit==="ex")n=i.fontMetrics().xHeight;else if(t.unit==="em")n=i.fontMetrics().quad;else throw new Y("Invalid unit: '"+t.unit+"'");i!==r&&(n*=i.sizeMultiplier/r.sizeMultiplier)}return Math.min(t.number*n,r.maxSize)},ee=function(t){return+t.toFixed(4)+"em"},Wn=function(t){return t.filter(r=>r).join(" ")},H2=function(t,r,n){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=n||{},r){r.style.isTight()&&this.classes.push("mtight");var i=r.getColor();i&&(this.style.color=i)}},V2=function(t){var r=document.createElement(t);r.className=Wn(this.classes);for(var n in this.style)this.style.hasOwnProperty(n)&&(r.style[n]=this.style[n]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&r.setAttribute(i,this.attributes[i]);for(var s=0;s<this.children.length;s++)r.appendChild(this.children[s].toNode());return r},Yk=/[\s"'>/=\x00-\x1f]/,W2=function(t){var r="<"+t;this.classes.length&&(r+=' class="'+fe.escape(Wn(this.classes))+'"');var n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=fe.hyphenate(i)+":"+this.style[i]+";");n&&(r+=' style="'+fe.escape(n)+'"');for(var s in this.attributes)if(this.attributes.hasOwnProperty(s)){if(Yk.test(s))throw new Y("Invalid attribute name '"+s+"'");r+=" "+s+'="'+fe.escape(this.attributes[s])+'"'}r+=">";for(var a=0;a<this.children.length;a++)r+=this.children[a].toMarkup();return r+="</"+t+">",r};class Xa{constructor(t,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,H2.call(this,t,n,i),this.children=r||[]}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return fe.contains(this.classes,t)}toNode(){return V2.call(this,"span")}toMarkup(){return W2.call(this,"span")}}class kh{constructor(t,r,n,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,H2.call(this,r,i),this.children=n||[],this.setAttribute("href",t)}setAttribute(t,r){this.attributes[t]=r}hasClass(t){return fe.contains(this.classes,t)}toNode(){return V2.call(this,"a")}toMarkup(){return W2.call(this,"a")}}class Qk{constructor(t,r,n){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=r,this.src=t,this.classes=["mord"],this.style=n}hasClass(t){return fe.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var r in this.style)this.style.hasOwnProperty(r)&&(t.style[r]=this.style[r]);return t}toMarkup(){var t='<img src="'+fe.escape(this.src)+'"'+(' alt="'+fe.escape(this.alt)+'"'),r="";for(var n in this.style)this.style.hasOwnProperty(n)&&(r+=fe.hyphenate(n)+":"+this.style[n]+";");return r&&(t+=' style="'+fe.escape(r)+'"'),t+="'/>",t}}var Xk={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class br{constructor(t,r,n,i,s,a,l,o){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=r||0,this.depth=n||0,this.italic=i||0,this.skew=s||0,this.width=a||0,this.classes=l||[],this.style=o||{},this.maxFontSize=0;var u=zk(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Xk[this.text])}hasClass(t){return fe.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),r=null;this.italic>0&&(r=document.createElement("span"),r.style.marginRight=ee(this.italic)),this.classes.length>0&&(r=r||document.createElement("span"),r.className=Wn(this.classes));for(var n in this.style)this.style.hasOwnProperty(n)&&(r=r||document.createElement("span"),r.style[n]=this.style[n]);return r?(r.appendChild(t),r):t}toMarkup(){var t=!1,r="<span";this.classes.length&&(t=!0,r+=' class="',r+=fe.escape(Wn(this.classes)),r+='"');var n="";this.italic>0&&(n+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=fe.hyphenate(i)+":"+this.style[i]+";");n&&(t=!0,r+=' style="'+fe.escape(n)+'"');var s=fe.escape(this.text);return t?(r+=">",r+=s,r+="</span>",r):s}}class mn{constructor(t,r){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=r||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"svg");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);for(var i=0;i<this.children.length;i++)r.appendChild(this.children[i].toNode());return r}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+fe.escape(this.attributes[r])+'"');t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</svg>",t}}class Gn{constructor(t,r){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=r}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"path");return this.alternate?r.setAttribute("d",this.alternate):r.setAttribute("d",g1[this.pathName]),r}toMarkup(){return this.alternate?'<path d="'+fe.escape(this.alternate)+'"/>':'<path d="'+fe.escape(g1[this.pathName])+'"/>'}}class Kc{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",r=document.createElementNS(t,"line");for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&r.setAttribute(n,this.attributes[n]);return r}toMarkup(){var t="<line";for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="'+fe.escape(this.attributes[r])+'"');return t+="/>",t}}function w1(e){if(e instanceof br)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function Jk(e){if(e instanceof Xa)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var Zk={bin:1,close:1,inner:1,open:1,punct:1,rel:1},eS={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},We={math:{},text:{}};function p(e,t,r,n,i,s){We[e][i]={font:t,group:r,replace:n},s&&n&&(We[e][n]=We[e][i])}var g="math",V="text",b="main",E="ams",Xe="accent-token",ae="bin",qt="close",Ms="inner",me="mathord",ft="op-token",dr="open",o0="punct",T="rel",xn="spacing",P="textord";p(g,b,T,"≡","\\equiv",!0);p(g,b,T,"≺","\\prec",!0);p(g,b,T,"≻","\\succ",!0);p(g,b,T,"∼","\\sim",!0);p(g,b,T,"⊥","\\perp");p(g,b,T,"⪯","\\preceq",!0);p(g,b,T,"⪰","\\succeq",!0);p(g,b,T,"≃","\\simeq",!0);p(g,b,T,"∣","\\mid",!0);p(g,b,T,"≪","\\ll",!0);p(g,b,T,"≫","\\gg",!0);p(g,b,T,"≍","\\asymp",!0);p(g,b,T,"∥","\\parallel");p(g,b,T,"⋈","\\bowtie",!0);p(g,b,T,"⌣","\\smile",!0);p(g,b,T,"⊑","\\sqsubseteq",!0);p(g,b,T,"⊒","\\sqsupseteq",!0);p(g,b,T,"≐","\\doteq",!0);p(g,b,T,"⌢","\\frown",!0);p(g,b,T,"∋","\\ni",!0);p(g,b,T,"∝","\\propto",!0);p(g,b,T,"⊢","\\vdash",!0);p(g,b,T,"⊣","\\dashv",!0);p(g,b,T,"∋","\\owns");p(g,b,o0,".","\\ldotp");p(g,b,o0,"⋅","\\cdotp");p(g,b,P,"#","\\#");p(V,b,P,"#","\\#");p(g,b,P,"&","\\&");p(V,b,P,"&","\\&");p(g,b,P,"ℵ","\\aleph",!0);p(g,b,P,"∀","\\forall",!0);p(g,b,P,"ℏ","\\hbar",!0);p(g,b,P,"∃","\\exists",!0);p(g,b,P,"∇","\\nabla",!0);p(g,b,P,"♭","\\flat",!0);p(g,b,P,"ℓ","\\ell",!0);p(g,b,P,"♮","\\natural",!0);p(g,b,P,"♣","\\clubsuit",!0);p(g,b,P,"℘","\\wp",!0);p(g,b,P,"♯","\\sharp",!0);p(g,b,P,"♢","\\diamondsuit",!0);p(g,b,P,"ℜ","\\Re",!0);p(g,b,P,"♡","\\heartsuit",!0);p(g,b,P,"ℑ","\\Im",!0);p(g,b,P,"♠","\\spadesuit",!0);p(g,b,P,"§","\\S",!0);p(V,b,P,"§","\\S");p(g,b,P,"¶","\\P",!0);p(V,b,P,"¶","\\P");p(g,b,P,"†","\\dag");p(V,b,P,"†","\\dag");p(V,b,P,"†","\\textdagger");p(g,b,P,"‡","\\ddag");p(V,b,P,"‡","\\ddag");p(V,b,P,"‡","\\textdaggerdbl");p(g,b,qt,"⎱","\\rmoustache",!0);p(g,b,dr,"⎰","\\lmoustache",!0);p(g,b,qt,"⟯","\\rgroup",!0);p(g,b,dr,"⟮","\\lgroup",!0);p(g,b,ae,"∓","\\mp",!0);p(g,b,ae,"⊖","\\ominus",!0);p(g,b,ae,"⊎","\\uplus",!0);p(g,b,ae,"⊓","\\sqcap",!0);p(g,b,ae,"∗","\\ast");p(g,b,ae,"⊔","\\sqcup",!0);p(g,b,ae,"◯","\\bigcirc",!0);p(g,b,ae,"∙","\\bullet",!0);p(g,b,ae,"‡","\\ddagger");p(g,b,ae,"≀","\\wr",!0);p(g,b,ae,"⨿","\\amalg");p(g,b,ae,"&","\\And");p(g,b,T,"⟵","\\longleftarrow",!0);p(g,b,T,"⇐","\\Leftarrow",!0);p(g,b,T,"⟸","\\Longleftarrow",!0);p(g,b,T,"⟶","\\longrightarrow",!0);p(g,b,T,"⇒","\\Rightarrow",!0);p(g,b,T,"⟹","\\Longrightarrow",!0);p(g,b,T,"↔","\\leftrightarrow",!0);p(g,b,T,"⟷","\\longleftrightarrow",!0);p(g,b,T,"⇔","\\Leftrightarrow",!0);p(g,b,T,"⟺","\\Longleftrightarrow",!0);p(g,b,T,"↦","\\mapsto",!0);p(g,b,T,"⟼","\\longmapsto",!0);p(g,b,T,"↗","\\nearrow",!0);p(g,b,T,"↩","\\hookleftarrow",!0);p(g,b,T,"↪","\\hookrightarrow",!0);p(g,b,T,"↘","\\searrow",!0);p(g,b,T,"↼","\\leftharpoonup",!0);p(g,b,T,"⇀","\\rightharpoonup",!0);p(g,b,T,"↙","\\swarrow",!0);p(g,b,T,"↽","\\leftharpoondown",!0);p(g,b,T,"⇁","\\rightharpoondown",!0);p(g,b,T,"↖","\\nwarrow",!0);p(g,b,T,"⇌","\\rightleftharpoons",!0);p(g,E,T,"≮","\\nless",!0);p(g,E,T,"","\\@nleqslant");p(g,E,T,"","\\@nleqq");p(g,E,T,"⪇","\\lneq",!0);p(g,E,T,"≨","\\lneqq",!0);p(g,E,T,"","\\@lvertneqq");p(g,E,T,"⋦","\\lnsim",!0);p(g,E,T,"⪉","\\lnapprox",!0);p(g,E,T,"⊀","\\nprec",!0);p(g,E,T,"⋠","\\npreceq",!0);p(g,E,T,"⋨","\\precnsim",!0);p(g,E,T,"⪹","\\precnapprox",!0);p(g,E,T,"≁","\\nsim",!0);p(g,E,T,"","\\@nshortmid");p(g,E,T,"∤","\\nmid",!0);p(g,E,T,"⊬","\\nvdash",!0);p(g,E,T,"⊭","\\nvDash",!0);p(g,E,T,"⋪","\\ntriangleleft");p(g,E,T,"⋬","\\ntrianglelefteq",!0);p(g,E,T,"⊊","\\subsetneq",!0);p(g,E,T,"","\\@varsubsetneq");p(g,E,T,"⫋","\\subsetneqq",!0);p(g,E,T,"","\\@varsubsetneqq");p(g,E,T,"≯","\\ngtr",!0);p(g,E,T,"","\\@ngeqslant");p(g,E,T,"","\\@ngeqq");p(g,E,T,"⪈","\\gneq",!0);p(g,E,T,"≩","\\gneqq",!0);p(g,E,T,"","\\@gvertneqq");p(g,E,T,"⋧","\\gnsim",!0);p(g,E,T,"⪊","\\gnapprox",!0);p(g,E,T,"⊁","\\nsucc",!0);p(g,E,T,"⋡","\\nsucceq",!0);p(g,E,T,"⋩","\\succnsim",!0);p(g,E,T,"⪺","\\succnapprox",!0);p(g,E,T,"≆","\\ncong",!0);p(g,E,T,"","\\@nshortparallel");p(g,E,T,"∦","\\nparallel",!0);p(g,E,T,"⊯","\\nVDash",!0);p(g,E,T,"⋫","\\ntriangleright");p(g,E,T,"⋭","\\ntrianglerighteq",!0);p(g,E,T,"","\\@nsupseteqq");p(g,E,T,"⊋","\\supsetneq",!0);p(g,E,T,"","\\@varsupsetneq");p(g,E,T,"⫌","\\supsetneqq",!0);p(g,E,T,"","\\@varsupsetneqq");p(g,E,T,"⊮","\\nVdash",!0);p(g,E,T,"⪵","\\precneqq",!0);p(g,E,T,"⪶","\\succneqq",!0);p(g,E,T,"","\\@nsubseteqq");p(g,E,ae,"⊴","\\unlhd");p(g,E,ae,"⊵","\\unrhd");p(g,E,T,"↚","\\nleftarrow",!0);p(g,E,T,"↛","\\nrightarrow",!0);p(g,E,T,"⇍","\\nLeftarrow",!0);p(g,E,T,"⇏","\\nRightarrow",!0);p(g,E,T,"↮","\\nleftrightarrow",!0);p(g,E,T,"⇎","\\nLeftrightarrow",!0);p(g,E,T,"△","\\vartriangle");p(g,E,P,"ℏ","\\hslash");p(g,E,P,"▽","\\triangledown");p(g,E,P,"◊","\\lozenge");p(g,E,P,"Ⓢ","\\circledS");p(g,E,P,"®","\\circledR");p(V,E,P,"®","\\circledR");p(g,E,P,"∡","\\measuredangle",!0);p(g,E,P,"∄","\\nexists");p(g,E,P,"℧","\\mho");p(g,E,P,"Ⅎ","\\Finv",!0);p(g,E,P,"⅁","\\Game",!0);p(g,E,P,"‵","\\backprime");p(g,E,P,"▲","\\blacktriangle");p(g,E,P,"▼","\\blacktriangledown");p(g,E,P,"■","\\blacksquare");p(g,E,P,"⧫","\\blacklozenge");p(g,E,P,"★","\\bigstar");p(g,E,P,"∢","\\sphericalangle",!0);p(g,E,P,"∁","\\complement",!0);p(g,E,P,"ð","\\eth",!0);p(V,b,P,"ð","ð");p(g,E,P,"╱","\\diagup");p(g,E,P,"╲","\\diagdown");p(g,E,P,"□","\\square");p(g,E,P,"□","\\Box");p(g,E,P,"◊","\\Diamond");p(g,E,P,"¥","\\yen",!0);p(V,E,P,"¥","\\yen",!0);p(g,E,P,"✓","\\checkmark",!0);p(V,E,P,"✓","\\checkmark");p(g,E,P,"ℶ","\\beth",!0);p(g,E,P,"ℸ","\\daleth",!0);p(g,E,P,"ℷ","\\gimel",!0);p(g,E,P,"ϝ","\\digamma",!0);p(g,E,P,"ϰ","\\varkappa");p(g,E,dr,"┌","\\@ulcorner",!0);p(g,E,qt,"┐","\\@urcorner",!0);p(g,E,dr,"└","\\@llcorner",!0);p(g,E,qt,"┘","\\@lrcorner",!0);p(g,E,T,"≦","\\leqq",!0);p(g,E,T,"⩽","\\leqslant",!0);p(g,E,T,"⪕","\\eqslantless",!0);p(g,E,T,"≲","\\lesssim",!0);p(g,E,T,"⪅","\\lessapprox",!0);p(g,E,T,"≊","\\approxeq",!0);p(g,E,ae,"⋖","\\lessdot");p(g,E,T,"⋘","\\lll",!0);p(g,E,T,"≶","\\lessgtr",!0);p(g,E,T,"⋚","\\lesseqgtr",!0);p(g,E,T,"⪋","\\lesseqqgtr",!0);p(g,E,T,"≑","\\doteqdot");p(g,E,T,"≓","\\risingdotseq",!0);p(g,E,T,"≒","\\fallingdotseq",!0);p(g,E,T,"∽","\\backsim",!0);p(g,E,T,"⋍","\\backsimeq",!0);p(g,E,T,"⫅","\\subseteqq",!0);p(g,E,T,"⋐","\\Subset",!0);p(g,E,T,"⊏","\\sqsubset",!0);p(g,E,T,"≼","\\preccurlyeq",!0);p(g,E,T,"⋞","\\curlyeqprec",!0);p(g,E,T,"≾","\\precsim",!0);p(g,E,T,"⪷","\\precapprox",!0);p(g,E,T,"⊲","\\vartriangleleft");p(g,E,T,"⊴","\\trianglelefteq");p(g,E,T,"⊨","\\vDash",!0);p(g,E,T,"⊪","\\Vvdash",!0);p(g,E,T,"⌣","\\smallsmile");p(g,E,T,"⌢","\\smallfrown");p(g,E,T,"≏","\\bumpeq",!0);p(g,E,T,"≎","\\Bumpeq",!0);p(g,E,T,"≧","\\geqq",!0);p(g,E,T,"⩾","\\geqslant",!0);p(g,E,T,"⪖","\\eqslantgtr",!0);p(g,E,T,"≳","\\gtrsim",!0);p(g,E,T,"⪆","\\gtrapprox",!0);p(g,E,ae,"⋗","\\gtrdot");p(g,E,T,"⋙","\\ggg",!0);p(g,E,T,"≷","\\gtrless",!0);p(g,E,T,"⋛","\\gtreqless",!0);p(g,E,T,"⪌","\\gtreqqless",!0);p(g,E,T,"≖","\\eqcirc",!0);p(g,E,T,"≗","\\circeq",!0);p(g,E,T,"≜","\\triangleq",!0);p(g,E,T,"∼","\\thicksim");p(g,E,T,"≈","\\thickapprox");p(g,E,T,"⫆","\\supseteqq",!0);p(g,E,T,"⋑","\\Supset",!0);p(g,E,T,"⊐","\\sqsupset",!0);p(g,E,T,"≽","\\succcurlyeq",!0);p(g,E,T,"⋟","\\curlyeqsucc",!0);p(g,E,T,"≿","\\succsim",!0);p(g,E,T,"⪸","\\succapprox",!0);p(g,E,T,"⊳","\\vartriangleright");p(g,E,T,"⊵","\\trianglerighteq");p(g,E,T,"⊩","\\Vdash",!0);p(g,E,T,"∣","\\shortmid");p(g,E,T,"∥","\\shortparallel");p(g,E,T,"≬","\\between",!0);p(g,E,T,"⋔","\\pitchfork",!0);p(g,E,T,"∝","\\varpropto");p(g,E,T,"◀","\\blacktriangleleft");p(g,E,T,"∴","\\therefore",!0);p(g,E,T,"∍","\\backepsilon");p(g,E,T,"▶","\\blacktriangleright");p(g,E,T,"∵","\\because",!0);p(g,E,T,"⋘","\\llless");p(g,E,T,"⋙","\\gggtr");p(g,E,ae,"⊲","\\lhd");p(g,E,ae,"⊳","\\rhd");p(g,E,T,"≂","\\eqsim",!0);p(g,b,T,"⋈","\\Join");p(g,E,T,"≑","\\Doteq",!0);p(g,E,ae,"∔","\\dotplus",!0);p(g,E,ae,"∖","\\smallsetminus");p(g,E,ae,"⋒","\\Cap",!0);p(g,E,ae,"⋓","\\Cup",!0);p(g,E,ae,"⩞","\\doublebarwedge",!0);p(g,E,ae,"⊟","\\boxminus",!0);p(g,E,ae,"⊞","\\boxplus",!0);p(g,E,ae,"⋇","\\divideontimes",!0);p(g,E,ae,"⋉","\\ltimes",!0);p(g,E,ae,"⋊","\\rtimes",!0);p(g,E,ae,"⋋","\\leftthreetimes",!0);p(g,E,ae,"⋌","\\rightthreetimes",!0);p(g,E,ae,"⋏","\\curlywedge",!0);p(g,E,ae,"⋎","\\curlyvee",!0);p(g,E,ae,"⊝","\\circleddash",!0);p(g,E,ae,"⊛","\\circledast",!0);p(g,E,ae,"⋅","\\centerdot");p(g,E,ae,"⊺","\\intercal",!0);p(g,E,ae,"⋒","\\doublecap");p(g,E,ae,"⋓","\\doublecup");p(g,E,ae,"⊠","\\boxtimes",!0);p(g,E,T,"⇢","\\dashrightarrow",!0);p(g,E,T,"⇠","\\dashleftarrow",!0);p(g,E,T,"⇇","\\leftleftarrows",!0);p(g,E,T,"⇆","\\leftrightarrows",!0);p(g,E,T,"⇚","\\Lleftarrow",!0);p(g,E,T,"↞","\\twoheadleftarrow",!0);p(g,E,T,"↢","\\leftarrowtail",!0);p(g,E,T,"↫","\\looparrowleft",!0);p(g,E,T,"⇋","\\leftrightharpoons",!0);p(g,E,T,"↶","\\curvearrowleft",!0);p(g,E,T,"↺","\\circlearrowleft",!0);p(g,E,T,"↰","\\Lsh",!0);p(g,E,T,"⇈","\\upuparrows",!0);p(g,E,T,"↿","\\upharpoonleft",!0);p(g,E,T,"⇃","\\downharpoonleft",!0);p(g,b,T,"⊶","\\origof",!0);p(g,b,T,"⊷","\\imageof",!0);p(g,E,T,"⊸","\\multimap",!0);p(g,E,T,"↭","\\leftrightsquigarrow",!0);p(g,E,T,"⇉","\\rightrightarrows",!0);p(g,E,T,"⇄","\\rightleftarrows",!0);p(g,E,T,"↠","\\twoheadrightarrow",!0);p(g,E,T,"↣","\\rightarrowtail",!0);p(g,E,T,"↬","\\looparrowright",!0);p(g,E,T,"↷","\\curvearrowright",!0);p(g,E,T,"↻","\\circlearrowright",!0);p(g,E,T,"↱","\\Rsh",!0);p(g,E,T,"⇊","\\downdownarrows",!0);p(g,E,T,"↾","\\upharpoonright",!0);p(g,E,T,"⇂","\\downharpoonright",!0);p(g,E,T,"⇝","\\rightsquigarrow",!0);p(g,E,T,"⇝","\\leadsto");p(g,E,T,"⇛","\\Rrightarrow",!0);p(g,E,T,"↾","\\restriction");p(g,b,P,"‘","`");p(g,b,P,"$","\\$");p(V,b,P,"$","\\$");p(V,b,P,"$","\\textdollar");p(g,b,P,"%","\\%");p(V,b,P,"%","\\%");p(g,b,P,"_","\\_");p(V,b,P,"_","\\_");p(V,b,P,"_","\\textunderscore");p(g,b,P,"∠","\\angle",!0);p(g,b,P,"∞","\\infty",!0);p(g,b,P,"′","\\prime");p(g,b,P,"△","\\triangle");p(g,b,P,"Γ","\\Gamma",!0);p(g,b,P,"Δ","\\Delta",!0);p(g,b,P,"Θ","\\Theta",!0);p(g,b,P,"Λ","\\Lambda",!0);p(g,b,P,"Ξ","\\Xi",!0);p(g,b,P,"Π","\\Pi",!0);p(g,b,P,"Σ","\\Sigma",!0);p(g,b,P,"Υ","\\Upsilon",!0);p(g,b,P,"Φ","\\Phi",!0);p(g,b,P,"Ψ","\\Psi",!0);p(g,b,P,"Ω","\\Omega",!0);p(g,b,P,"A","Α");p(g,b,P,"B","Β");p(g,b,P,"E","Ε");p(g,b,P,"Z","Ζ");p(g,b,P,"H","Η");p(g,b,P,"I","Ι");p(g,b,P,"K","Κ");p(g,b,P,"M","Μ");p(g,b,P,"N","Ν");p(g,b,P,"O","Ο");p(g,b,P,"P","Ρ");p(g,b,P,"T","Τ");p(g,b,P,"X","Χ");p(g,b,P,"¬","\\neg",!0);p(g,b,P,"¬","\\lnot");p(g,b,P,"⊤","\\top");p(g,b,P,"⊥","\\bot");p(g,b,P,"∅","\\emptyset");p(g,E,P,"∅","\\varnothing");p(g,b,me,"α","\\alpha",!0);p(g,b,me,"β","\\beta",!0);p(g,b,me,"γ","\\gamma",!0);p(g,b,me,"δ","\\delta",!0);p(g,b,me,"ϵ","\\epsilon",!0);p(g,b,me,"ζ","\\zeta",!0);p(g,b,me,"η","\\eta",!0);p(g,b,me,"θ","\\theta",!0);p(g,b,me,"ι","\\iota",!0);p(g,b,me,"κ","\\kappa",!0);p(g,b,me,"λ","\\lambda",!0);p(g,b,me,"μ","\\mu",!0);p(g,b,me,"ν","\\nu",!0);p(g,b,me,"ξ","\\xi",!0);p(g,b,me,"ο","\\omicron",!0);p(g,b,me,"π","\\pi",!0);p(g,b,me,"ρ","\\rho",!0);p(g,b,me,"σ","\\sigma",!0);p(g,b,me,"τ","\\tau",!0);p(g,b,me,"υ","\\upsilon",!0);p(g,b,me,"ϕ","\\phi",!0);p(g,b,me,"χ","\\chi",!0);p(g,b,me,"ψ","\\psi",!0);p(g,b,me,"ω","\\omega",!0);p(g,b,me,"ε","\\varepsilon",!0);p(g,b,me,"ϑ","\\vartheta",!0);p(g,b,me,"ϖ","\\varpi",!0);p(g,b,me,"ϱ","\\varrho",!0);p(g,b,me,"ς","\\varsigma",!0);p(g,b,me,"φ","\\varphi",!0);p(g,b,ae,"∗","*",!0);p(g,b,ae,"+","+");p(g,b,ae,"−","-",!0);p(g,b,ae,"⋅","\\cdot",!0);p(g,b,ae,"∘","\\circ",!0);p(g,b,ae,"÷","\\div",!0);p(g,b,ae,"±","\\pm",!0);p(g,b,ae,"×","\\times",!0);p(g,b,ae,"∩","\\cap",!0);p(g,b,ae,"∪","\\cup",!0);p(g,b,ae,"∖","\\setminus",!0);p(g,b,ae,"∧","\\land");p(g,b,ae,"∨","\\lor");p(g,b,ae,"∧","\\wedge",!0);p(g,b,ae,"∨","\\vee",!0);p(g,b,P,"√","\\surd");p(g,b,dr,"⟨","\\langle",!0);p(g,b,dr,"∣","\\lvert");p(g,b,dr,"∥","\\lVert");p(g,b,qt,"?","?");p(g,b,qt,"!","!");p(g,b,qt,"⟩","\\rangle",!0);p(g,b,qt,"∣","\\rvert");p(g,b,qt,"∥","\\rVert");p(g,b,T,"=","=");p(g,b,T,":",":");p(g,b,T,"≈","\\approx",!0);p(g,b,T,"≅","\\cong",!0);p(g,b,T,"≥","\\ge");p(g,b,T,"≥","\\geq",!0);p(g,b,T,"←","\\gets");p(g,b,T,">","\\gt",!0);p(g,b,T,"∈","\\in",!0);p(g,b,T,"","\\@not");p(g,b,T,"⊂","\\subset",!0);p(g,b,T,"⊃","\\supset",!0);p(g,b,T,"⊆","\\subseteq",!0);p(g,b,T,"⊇","\\supseteq",!0);p(g,E,T,"⊈","\\nsubseteq",!0);p(g,E,T,"⊉","\\nsupseteq",!0);p(g,b,T,"⊨","\\models");p(g,b,T,"←","\\leftarrow",!0);p(g,b,T,"≤","\\le");p(g,b,T,"≤","\\leq",!0);p(g,b,T,"<","\\lt",!0);p(g,b,T,"→","\\rightarrow",!0);p(g,b,T,"→","\\to");p(g,E,T,"≱","\\ngeq",!0);p(g,E,T,"≰","\\nleq",!0);p(g,b,xn," ","\\ ");p(g,b,xn," ","\\space");p(g,b,xn," ","\\nobreakspace");p(V,b,xn," ","\\ ");p(V,b,xn," "," ");p(V,b,xn," ","\\space");p(V,b,xn," ","\\nobreakspace");p(g,b,xn,null,"\\nobreak");p(g,b,xn,null,"\\allowbreak");p(g,b,o0,",",",");p(g,b,o0,";",";");p(g,E,ae,"⊼","\\barwedge",!0);p(g,E,ae,"⊻","\\veebar",!0);p(g,b,ae,"⊙","\\odot",!0);p(g,b,ae,"⊕","\\oplus",!0);p(g,b,ae,"⊗","\\otimes",!0);p(g,b,P,"∂","\\partial",!0);p(g,b,ae,"⊘","\\oslash",!0);p(g,E,ae,"⊚","\\circledcirc",!0);p(g,E,ae,"⊡","\\boxdot",!0);p(g,b,ae,"△","\\bigtriangleup");p(g,b,ae,"▽","\\bigtriangledown");p(g,b,ae,"†","\\dagger");p(g,b,ae,"⋄","\\diamond");p(g,b,ae,"⋆","\\star");p(g,b,ae,"◃","\\triangleleft");p(g,b,ae,"▹","\\triangleright");p(g,b,dr,"{","\\{");p(V,b,P,"{","\\{");p(V,b,P,"{","\\textbraceleft");p(g,b,qt,"}","\\}");p(V,b,P,"}","\\}");p(V,b,P,"}","\\textbraceright");p(g,b,dr,"{","\\lbrace");p(g,b,qt,"}","\\rbrace");p(g,b,dr,"[","\\lbrack",!0);p(V,b,P,"[","\\lbrack",!0);p(g,b,qt,"]","\\rbrack",!0);p(V,b,P,"]","\\rbrack",!0);p(g,b,dr,"(","\\lparen",!0);p(g,b,qt,")","\\rparen",!0);p(V,b,P,"<","\\textless",!0);p(V,b,P,">","\\textgreater",!0);p(g,b,dr,"⌊","\\lfloor",!0);p(g,b,qt,"⌋","\\rfloor",!0);p(g,b,dr,"⌈","\\lceil",!0);p(g,b,qt,"⌉","\\rceil",!0);p(g,b,P,"\\","\\backslash");p(g,b,P,"∣","|");p(g,b,P,"∣","\\vert");p(V,b,P,"|","\\textbar",!0);p(g,b,P,"∥","\\|");p(g,b,P,"∥","\\Vert");p(V,b,P,"∥","\\textbardbl");p(V,b,P,"~","\\textasciitilde");p(V,b,P,"\\","\\textbackslash");p(V,b,P,"^","\\textasciicircum");p(g,b,T,"↑","\\uparrow",!0);p(g,b,T,"⇑","\\Uparrow",!0);p(g,b,T,"↓","\\downarrow",!0);p(g,b,T,"⇓","\\Downarrow",!0);p(g,b,T,"↕","\\updownarrow",!0);p(g,b,T,"⇕","\\Updownarrow",!0);p(g,b,ft,"∐","\\coprod");p(g,b,ft,"⋁","\\bigvee");p(g,b,ft,"⋀","\\bigwedge");p(g,b,ft,"⨄","\\biguplus");p(g,b,ft,"⋂","\\bigcap");p(g,b,ft,"⋃","\\bigcup");p(g,b,ft,"∫","\\int");p(g,b,ft,"∫","\\intop");p(g,b,ft,"∬","\\iint");p(g,b,ft,"∭","\\iiint");p(g,b,ft,"∏","\\prod");p(g,b,ft,"∑","\\sum");p(g,b,ft,"⨂","\\bigotimes");p(g,b,ft,"⨁","\\bigoplus");p(g,b,ft,"⨀","\\bigodot");p(g,b,ft,"∮","\\oint");p(g,b,ft,"∯","\\oiint");p(g,b,ft,"∰","\\oiiint");p(g,b,ft,"⨆","\\bigsqcup");p(g,b,ft,"∫","\\smallint");p(V,b,Ms,"…","\\textellipsis");p(g,b,Ms,"…","\\mathellipsis");p(V,b,Ms,"…","\\ldots",!0);p(g,b,Ms,"…","\\ldots",!0);p(g,b,Ms,"⋯","\\@cdots",!0);p(g,b,Ms,"⋱","\\ddots",!0);p(g,b,P,"⋮","\\varvdots");p(V,b,P,"⋮","\\varvdots");p(g,b,Xe,"ˊ","\\acute");p(g,b,Xe,"ˋ","\\grave");p(g,b,Xe,"¨","\\ddot");p(g,b,Xe,"~","\\tilde");p(g,b,Xe,"ˉ","\\bar");p(g,b,Xe,"˘","\\breve");p(g,b,Xe,"ˇ","\\check");p(g,b,Xe,"^","\\hat");p(g,b,Xe,"⃗","\\vec");p(g,b,Xe,"˙","\\dot");p(g,b,Xe,"˚","\\mathring");p(g,b,me,"","\\@imath");p(g,b,me,"","\\@jmath");p(g,b,P,"ı","ı");p(g,b,P,"ȷ","ȷ");p(V,b,P,"ı","\\i",!0);p(V,b,P,"ȷ","\\j",!0);p(V,b,P,"ß","\\ss",!0);p(V,b,P,"æ","\\ae",!0);p(V,b,P,"œ","\\oe",!0);p(V,b,P,"ø","\\o",!0);p(V,b,P,"Æ","\\AE",!0);p(V,b,P,"Œ","\\OE",!0);p(V,b,P,"Ø","\\O",!0);p(V,b,Xe,"ˊ","\\'");p(V,b,Xe,"ˋ","\\`");p(V,b,Xe,"ˆ","\\^");p(V,b,Xe,"˜","\\~");p(V,b,Xe,"ˉ","\\=");p(V,b,Xe,"˘","\\u");p(V,b,Xe,"˙","\\.");p(V,b,Xe,"¸","\\c");p(V,b,Xe,"˚","\\r");p(V,b,Xe,"ˇ","\\v");p(V,b,Xe,"¨",'\\"');p(V,b,Xe,"˝","\\H");p(V,b,Xe,"◯","\\textcircled");var G2={"--":!0,"---":!0,"``":!0,"''":!0};p(V,b,P,"–","--",!0);p(V,b,P,"–","\\textendash");p(V,b,P,"—","---",!0);p(V,b,P,"—","\\textemdash");p(V,b,P,"‘","`",!0);p(V,b,P,"‘","\\textquoteleft");p(V,b,P,"’","'",!0);p(V,b,P,"’","\\textquoteright");p(V,b,P,"“","``",!0);p(V,b,P,"“","\\textquotedblleft");p(V,b,P,"”","''",!0);p(V,b,P,"”","\\textquotedblright");p(g,b,P,"°","\\degree",!0);p(V,b,P,"°","\\degree");p(V,b,P,"°","\\textdegree",!0);p(g,b,P,"£","\\pounds");p(g,b,P,"£","\\mathsterling",!0);p(V,b,P,"£","\\pounds");p(V,b,P,"£","\\textsterling",!0);p(g,E,P,"✠","\\maltese");p(V,E,P,"✠","\\maltese");var b1='0123456789/@."';for(var uu=0;uu<b1.length;uu++){var k1=b1.charAt(uu);p(g,b,P,k1,k1)}var S1='0123456789!@*()-=+";:?/.,';for(var cu=0;cu<S1.length;cu++){var _1=S1.charAt(cu);p(V,b,P,_1,_1)}var To="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var du=0;du<To.length;du++){var _l=To.charAt(du);p(g,b,me,_l,_l),p(V,b,P,_l,_l)}p(g,E,P,"C","ℂ");p(V,E,P,"C","ℂ");p(g,E,P,"H","ℍ");p(V,E,P,"H","ℍ");p(g,E,P,"N","ℕ");p(V,E,P,"N","ℕ");p(g,E,P,"P","ℙ");p(V,E,P,"P","ℙ");p(g,E,P,"Q","ℚ");p(V,E,P,"Q","ℚ");p(g,E,P,"R","ℝ");p(V,E,P,"R","ℝ");p(g,E,P,"Z","ℤ");p(V,E,P,"Z","ℤ");p(g,b,me,"h","ℎ");p(V,b,me,"h","ℎ");var ve="";for(var Dt=0;Dt<To.length;Dt++){var lt=To.charAt(Dt);ve=String.fromCharCode(55349,56320+Dt),p(g,b,me,lt,ve),p(V,b,P,lt,ve),ve=String.fromCharCode(55349,56372+Dt),p(g,b,me,lt,ve),p(V,b,P,lt,ve),ve=String.fromCharCode(55349,56424+Dt),p(g,b,me,lt,ve),p(V,b,P,lt,ve),ve=String.fromCharCode(55349,56580+Dt),p(g,b,me,lt,ve),p(V,b,P,lt,ve),ve=String.fromCharCode(55349,56684+Dt),p(g,b,me,lt,ve),p(V,b,P,lt,ve),ve=String.fromCharCode(55349,56736+Dt),p(g,b,me,lt,ve),p(V,b,P,lt,ve),ve=String.fromCharCode(55349,56788+Dt),p(g,b,me,lt,ve),p(V,b,P,lt,ve),ve=String.fromCharCode(55349,56840+Dt),p(g,b,me,lt,ve),p(V,b,P,lt,ve),ve=String.fromCharCode(55349,56944+Dt),p(g,b,me,lt,ve),p(V,b,P,lt,ve),Dt<26&&(ve=String.fromCharCode(55349,56632+Dt),p(g,b,me,lt,ve),p(V,b,P,lt,ve),ve=String.fromCharCode(55349,56476+Dt),p(g,b,me,lt,ve),p(V,b,P,lt,ve))}ve="𝕜";p(g,b,me,"k",ve);p(V,b,P,"k",ve);for(var ii=0;ii<10;ii++){var jn=ii.toString();ve=String.fromCharCode(55349,57294+ii),p(g,b,me,jn,ve),p(V,b,P,jn,ve),ve=String.fromCharCode(55349,57314+ii),p(g,b,me,jn,ve),p(V,b,P,jn,ve),ve=String.fromCharCode(55349,57324+ii),p(g,b,me,jn,ve),p(V,b,P,jn,ve),ve=String.fromCharCode(55349,57334+ii),p(g,b,me,jn,ve),p(V,b,P,jn,ve)}var Yc="ÐÞþ";for(var hu=0;hu<Yc.length;hu++){var jl=Yc.charAt(hu);p(g,b,me,jl,jl),p(V,b,P,jl,jl)}var Nl=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],j1=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],tS=function(t,r){var n=t.charCodeAt(0),i=t.charCodeAt(1),s=(n-55296)*1024+(i-56320)+65536,a=r==="math"?0:1;if(119808<=s&&s<120484){var l=Math.floor((s-119808)/26);return[Nl[l][2],Nl[l][a]]}else if(120782<=s&&s<=120831){var o=Math.floor((s-120782)/10);return[j1[o][2],j1[o][a]]}else{if(s===120485||s===120486)return[Nl[0][2],Nl[0][a]];if(120486<s&&s<120782)return["",""];throw new Y("Unsupported character: "+t)}},u0=function(t,r,n){return We[n][t]&&We[n][t].replace&&(t=We[n][t].replace),{value:t,metrics:bh(t,r,n)}},Ar=function(t,r,n,i,s){var a=u0(t,r,n),l=a.metrics;t=a.value;var o;if(l){var u=l.italic;(n==="text"||i&&i.font==="mathit")&&(u=0),o=new br(t,l.height,l.depth,u,l.skew,l.width,s)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+r+"' and mode '"+n+"'")),o=new br(t,0,0,0,0,0,s);if(i){o.maxFontSize=i.sizeMultiplier,i.style.isTight()&&o.classes.push("mtight");var d=i.getColor();d&&(o.style.color=d)}return o},rS=function(t,r,n,i){return i===void 0&&(i=[]),n.font==="boldsymbol"&&u0(t,"Main-Bold",r).metrics?Ar(t,"Main-Bold",r,n,i.concat(["mathbf"])):t==="\\"||We[r][t].font==="main"?Ar(t,"Main-Regular",r,n,i):Ar(t,"AMS-Regular",r,n,i.concat(["amsrm"]))},nS=function(t,r,n,i,s){return s!=="textord"&&u0(t,"Math-BoldItalic",r).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},iS=function(t,r,n){var i=t.mode,s=t.text,a=["mord"],l=i==="math"||i==="text"&&r.font,o=l?r.font:r.fontFamily,u="",d="";if(s.charCodeAt(0)===55349&&([u,d]=tS(s,i)),u.length>0)return Ar(s,u,i,r,a.concat(d));if(o){var h,m;if(o==="boldsymbol"){var f=nS(s,i,r,a,n);h=f.fontName,m=[f.fontClass]}else l?(h=Q2[o].fontName,m=[o]):(h=Cl(o,r.fontWeight,r.fontShape),m=[o,r.fontWeight,r.fontShape]);if(u0(s,h,i).metrics)return Ar(s,h,i,r,a.concat(m));if(G2.hasOwnProperty(s)&&h.slice(0,10)==="Typewriter"){for(var y=[],k=0;k<s.length;k++)y.push(Ar(s[k],h,i,r,a.concat(m)));return Y2(y)}}if(n==="mathord")return Ar(s,"Math-Italic",i,r,a.concat(["mathnormal"]));if(n==="textord"){var N=We[i][s]&&We[i][s].font;if(N==="ams"){var v=Cl("amsrm",r.fontWeight,r.fontShape);return Ar(s,v,i,r,a.concat("amsrm",r.fontWeight,r.fontShape))}else if(N==="main"||!N){var w=Cl("textrm",r.fontWeight,r.fontShape);return Ar(s,w,i,r,a.concat(r.fontWeight,r.fontShape))}else{var x=Cl(N,r.fontWeight,r.fontShape);return Ar(s,x,i,r,a.concat(x,r.fontWeight,r.fontShape))}}else throw new Error("unexpected type: "+n+" in makeOrd")},sS=(e,t)=>{if(Wn(e.classes)!==Wn(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var r=e.classes[0];if(r==="mbin"||r==="mord")return!1}for(var n in e.style)if(e.style.hasOwnProperty(n)&&e.style[n]!==t.style[n])return!1;for(var i in t.style)if(t.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;return!0},aS=e=>{for(var t=0;t<e.length-1;t++){var r=e[t],n=e[t+1];r instanceof br&&n instanceof br&&sS(r,n)&&(r.text+=n.text,r.height=Math.max(r.height,n.height),r.depth=Math.max(r.depth,n.depth),r.italic=n.italic,e.splice(t+1,1),t--)}return e},Sh=function(t){for(var r=0,n=0,i=0,s=0;s<t.children.length;s++){var a=t.children[s];a.height>r&&(r=a.height),a.depth>n&&(n=a.depth),a.maxFontSize>i&&(i=a.maxFontSize)}t.height=r,t.depth=n,t.maxFontSize=i},Ht=function(t,r,n,i){var s=new Xa(t,r,n,i);return Sh(s),s},K2=(e,t,r,n)=>new Xa(e,t,r,n),lS=function(t,r,n){var i=Ht([t],[],r);return i.height=Math.max(n||r.fontMetrics().defaultRuleThickness,r.minRuleThickness),i.style.borderBottomWidth=ee(i.height),i.maxFontSize=1,i},oS=function(t,r,n,i){var s=new kh(t,r,n,i);return Sh(s),s},Y2=function(t){var r=new Qa(t);return Sh(r),r},uS=function(t,r){return t instanceof Qa?Ht([],[t],r):t},cS=function(t){if(t.positionType==="individualShift"){for(var r=t.children,n=[r[0]],i=-r[0].shift-r[0].elem.depth,s=i,a=1;a<r.length;a++){var l=-r[a].shift-s-r[a].elem.depth,o=l-(r[a-1].elem.height+r[a-1].elem.depth);s=s+l,n.push({type:"kern",size:o}),n.push(r[a])}return{children:n,depth:i}}var u;if(t.positionType==="top"){for(var d=t.positionData,h=0;h<t.children.length;h++){var m=t.children[h];d-=m.type==="kern"?m.size:m.elem.height+m.elem.depth}u=d}else if(t.positionType==="bottom")u=-t.positionData;else{var f=t.children[0];if(f.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-f.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-f.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},dS=function(t,r){for(var{children:n,depth:i}=cS(t),s=0,a=0;a<n.length;a++){var l=n[a];if(l.type==="elem"){var o=l.elem;s=Math.max(s,o.maxFontSize,o.height)}}s+=2;var u=Ht(["pstrut"],[]);u.style.height=ee(s);for(var d=[],h=i,m=i,f=i,y=0;y<n.length;y++){var k=n[y];if(k.type==="kern")f+=k.size;else{var N=k.elem,v=k.wrapperClasses||[],w=k.wrapperStyle||{},x=Ht(v,[u,N],void 0,w);x.style.top=ee(-s-f-N.depth),k.marginLeft&&(x.style.marginLeft=k.marginLeft),k.marginRight&&(x.style.marginRight=k.marginRight),d.push(x),f+=N.height+N.depth}h=Math.min(h,f),m=Math.max(m,f)}var j=Ht(["vlist"],d);j.style.height=ee(m);var I;if(h<0){var _=Ht([],[]),z=Ht(["vlist"],[_]);z.style.height=ee(-h);var R=Ht(["vlist-s"],[new br("​")]);I=[Ht(["vlist-r"],[j,R]),Ht(["vlist-r"],[z])]}else I=[Ht(["vlist-r"],[j])];var q=Ht(["vlist-t"],I);return I.length===2&&q.classes.push("vlist-t2"),q.height=m,q.depth=-h,q},hS=(e,t)=>{var r=Ht(["mspace"],[],t),n=rt(e,t);return r.style.marginRight=ee(n),r},Cl=function(t,r,n){var i="";switch(t){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=t}var s;return r==="textbf"&&n==="textit"?s="BoldItalic":r==="textbf"?s="Bold":r==="textit"?s="Italic":s="Regular",i+"-"+s},Q2={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},X2={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},fS=function(t,r){var[n,i,s]=X2[t],a=new Gn(n),l=new mn([a],{width:ee(i),height:ee(s),style:"width:"+ee(i),viewBox:"0 0 "+1e3*i+" "+1e3*s,preserveAspectRatio:"xMinYMin"}),o=K2(["overlay"],[l],r);return o.height=s,o.style.height=ee(s),o.style.width=ee(i),o},O={fontMap:Q2,makeSymbol:Ar,mathsym:rS,makeSpan:Ht,makeSvgSpan:K2,makeLineSpan:lS,makeAnchor:oS,makeFragment:Y2,wrapFragment:uS,makeVList:dS,makeOrd:iS,makeGlue:hS,staticSvg:fS,svgData:X2,tryCombineChars:aS},et={number:3,unit:"mu"},si={number:4,unit:"mu"},Xr={number:5,unit:"mu"},mS={mord:{mop:et,mbin:si,mrel:Xr,minner:et},mop:{mord:et,mop:et,mrel:Xr,minner:et},mbin:{mord:si,mop:si,mopen:si,minner:si},mrel:{mord:Xr,mop:Xr,mopen:Xr,minner:Xr},mopen:{},mclose:{mop:et,mbin:si,mrel:Xr,minner:et},mpunct:{mord:et,mop:et,mrel:Xr,mopen:et,mclose:et,mpunct:et,minner:et},minner:{mord:et,mop:et,mbin:si,mrel:Xr,mopen:et,mpunct:et,minner:et}},pS={mord:{mop:et},mop:{mord:et,mop:et},mbin:{},mrel:{},mopen:{},mclose:{mop:et},mpunct:{},minner:{mop:et}},J2={},Ao={},Mo={};function re(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:s,mathmlBuilder:a}=e,l={type:t,numArgs:n.numArgs,argTypes:n.argTypes,allowedInArgument:!!n.allowedInArgument,allowedInText:!!n.allowedInText,allowedInMath:n.allowedInMath===void 0?!0:n.allowedInMath,numOptionalArgs:n.numOptionalArgs||0,infix:!!n.infix,primitive:!!n.primitive,handler:i},o=0;o<r.length;++o)J2[r[o]]=l;t&&(s&&(Ao[t]=s),a&&(Mo[t]=a))}function Ti(e){var{type:t,htmlBuilder:r,mathmlBuilder:n}=e;re({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:r,mathmlBuilder:n})}var Po=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},ct=function(t){return t.type==="ordgroup"?t.body:[t]},pn=O.makeSpan,gS=["leftmost","mbin","mopen","mrel","mop","mpunct"],yS=["rightmost","mrel","mclose","mpunct"],vS={display:pe.DISPLAY,text:pe.TEXT,script:pe.SCRIPT,scriptscript:pe.SCRIPTSCRIPT},xS={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},xt=function(t,r,n,i){i===void 0&&(i=[null,null]);for(var s=[],a=0;a<t.length;a++){var l=Ie(t[a],r);if(l instanceof Qa){var o=l.children;s.push(...o)}else s.push(l)}if(O.tryCombineChars(s),!n)return s;var u=r;if(t.length===1){var d=t[0];d.type==="sizing"?u=r.havingSize(d.size):d.type==="styling"&&(u=r.havingStyle(vS[d.style]))}var h=pn([i[0]||"leftmost"],[],r),m=pn([i[1]||"rightmost"],[],r),f=n==="root";return N1(s,(y,k)=>{var N=k.classes[0],v=y.classes[0];N==="mbin"&&fe.contains(yS,v)?k.classes[0]="mord":v==="mbin"&&fe.contains(gS,N)&&(y.classes[0]="mord")},{node:h},m,f),N1(s,(y,k)=>{var N=Qc(k),v=Qc(y),w=N&&v?y.hasClass("mtight")?pS[N][v]:mS[N][v]:null;if(w)return O.makeGlue(w,u)},{node:h},m,f),s},N1=function e(t,r,n,i,s){i&&t.push(i);for(var a=0;a<t.length;a++){var l=t[a],o=Z2(l);if(o){e(o.children,r,n,null,s);continue}var u=!l.hasClass("mspace");if(u){var d=r(l,n.node);d&&(n.insertAfter?n.insertAfter(d):(t.unshift(d),a++))}u?n.node=l:s&&l.hasClass("newline")&&(n.node=pn(["leftmost"])),n.insertAfter=(h=>m=>{t.splice(h+1,0,m),a++})(a)}i&&t.pop()},Z2=function(t){return t instanceof Qa||t instanceof kh||t instanceof Xa&&t.hasClass("enclosing")?t:null},wS=function e(t,r){var n=Z2(t);if(n){var i=n.children;if(i.length){if(r==="right")return e(i[i.length-1],"right");if(r==="left")return e(i[0],"left")}}return t},Qc=function(t,r){return t?(r&&(t=wS(t,r)),xS[t.classes[0]]||null):null},za=function(t,r){var n=["nulldelimiter"].concat(t.baseSizingClasses());return pn(r.concat(n))},Ie=function(t,r,n){if(!t)return pn();if(Ao[t.type]){var i=Ao[t.type](t,r);if(n&&r.size!==n.size){i=pn(r.sizingClasses(n),[i],r);var s=r.sizeMultiplier/n.sizeMultiplier;i.height*=s,i.depth*=s}return i}else throw new Y("Got group of unknown type: '"+t.type+"'")};function El(e,t){var r=pn(["base"],e,t),n=pn(["strut"]);return n.style.height=ee(r.height+r.depth),r.depth&&(n.style.verticalAlign=ee(-r.depth)),r.children.unshift(n),r}function Xc(e,t){var r=null;e.length===1&&e[0].type==="tag"&&(r=e[0].tag,e=e[0].body);var n=xt(e,t,"root"),i;n.length===2&&n[1].hasClass("tag")&&(i=n.pop());for(var s=[],a=[],l=0;l<n.length;l++)if(a.push(n[l]),n[l].hasClass("mbin")||n[l].hasClass("mrel")||n[l].hasClass("allowbreak")){for(var o=!1;l<n.length-1&&n[l+1].hasClass("mspace")&&!n[l+1].hasClass("newline");)l++,a.push(n[l]),n[l].hasClass("nobreak")&&(o=!0);o||(s.push(El(a,t)),a=[])}else n[l].hasClass("newline")&&(a.pop(),a.length>0&&(s.push(El(a,t)),a=[]),s.push(n[l]));a.length>0&&s.push(El(a,t));var u;r?(u=El(xt(r,t,!0)),u.classes=["tag"],s.push(u)):i&&s.push(i);var d=pn(["katex-html"],s);if(d.setAttribute("aria-hidden","true"),u){var h=u.children[0];h.style.height=ee(d.height+d.depth),d.depth&&(h.style.verticalAlign=ee(-d.depth))}return d}function ey(e){return new Qa(e)}class ir{constructor(t,r,n){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=r||[],this.classes=n||[]}setAttribute(t,r){this.attributes[t]=r}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&t.setAttribute(r,this.attributes[r]);this.classes.length>0&&(t.className=Wn(this.classes));for(var n=0;n<this.children.length;n++)if(this.children[n]instanceof Ur&&this.children[n+1]instanceof Ur){for(var i=this.children[n].toText()+this.children[++n].toText();this.children[n+1]instanceof Ur;)i+=this.children[++n].toText();t.appendChild(new Ur(i).toNode())}else t.appendChild(this.children[n].toNode());return t}toMarkup(){var t="<"+this.type;for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&(t+=" "+r+'="',t+=fe.escape(this.attributes[r]),t+='"');this.classes.length>0&&(t+=' class ="'+fe.escape(Wn(this.classes))+'"'),t+=">";for(var n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class Ur{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return fe.escape(this.toText())}toText(){return this.text}}class bS{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character=" ":t>=.1666&&t<=.1667?this.character=" ":t>=.2222&&t<=.2223?this.character=" ":t>=.2777&&t<=.2778?this.character="  ":t>=-.05556&&t<=-.05555?this.character=" ⁣":t>=-.1667&&t<=-.1666?this.character=" ⁣":t>=-.2223&&t<=-.2222?this.character=" ⁣":t>=-.2778&&t<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",ee(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ee(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var K={MathNode:ir,TextNode:Ur,SpaceNode:bS,newDocumentFragment:ey},kr=function(t,r,n){return We[r][t]&&We[r][t].replace&&t.charCodeAt(0)!==55349&&!(G2.hasOwnProperty(t)&&n&&(n.fontFamily&&n.fontFamily.slice(4,6)==="tt"||n.font&&n.font.slice(4,6)==="tt"))&&(t=We[r][t].replace),new K.TextNode(t)},_h=function(t){return t.length===1?t[0]:new K.MathNode("mrow",t)},jh=function(t,r){if(r.fontFamily==="texttt")return"monospace";if(r.fontFamily==="textsf")return r.fontShape==="textit"&&r.fontWeight==="textbf"?"sans-serif-bold-italic":r.fontShape==="textit"?"sans-serif-italic":r.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(r.fontShape==="textit"&&r.fontWeight==="textbf")return"bold-italic";if(r.fontShape==="textit")return"italic";if(r.fontWeight==="textbf")return"bold";var n=r.font;if(!n||n==="mathnormal")return null;var i=t.mode;if(n==="mathit")return"italic";if(n==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(n==="mathbf")return"bold";if(n==="mathbb")return"double-struck";if(n==="mathsfit")return"sans-serif-italic";if(n==="mathfrak")return"fraktur";if(n==="mathscr"||n==="mathcal")return"script";if(n==="mathsf")return"sans-serif";if(n==="mathtt")return"monospace";var s=t.text;if(fe.contains(["\\imath","\\jmath"],s))return null;We[i][s]&&We[i][s].replace&&(s=We[i][s].replace);var a=O.fontMap[n].fontName;return bh(s,a,i)?O.fontMap[n].variant:null};function fu(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof Ur&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var r=e.children[0];return r instanceof Ur&&r.text===","}else return!1}var Jt=function(t,r,n){if(t.length===1){var i=qe(t[0],r);return n&&i instanceof ir&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var s=[],a,l=0;l<t.length;l++){var o=qe(t[l],r);if(o instanceof ir&&a instanceof ir){if(o.type==="mtext"&&a.type==="mtext"&&o.getAttribute("mathvariant")===a.getAttribute("mathvariant")){a.children.push(...o.children);continue}else if(o.type==="mn"&&a.type==="mn"){a.children.push(...o.children);continue}else if(fu(o)&&a.type==="mn"){a.children.push(...o.children);continue}else if(o.type==="mn"&&fu(a))o.children=[...a.children,...o.children],s.pop();else if((o.type==="msup"||o.type==="msub")&&o.children.length>=1&&(a.type==="mn"||fu(a))){var u=o.children[0];u instanceof ir&&u.type==="mn"&&(u.children=[...a.children,...u.children],s.pop())}else if(a.type==="mi"&&a.children.length===1){var d=a.children[0];if(d instanceof Ur&&d.text==="̸"&&(o.type==="mo"||o.type==="mi"||o.type==="mn")){var h=o.children[0];h instanceof Ur&&h.text.length>0&&(h.text=h.text.slice(0,1)+"̸"+h.text.slice(1),s.pop())}}}s.push(o),a=o}return s},Kn=function(t,r,n){return _h(Jt(t,r,n))},qe=function(t,r){if(!t)return new K.MathNode("mrow");if(Mo[t.type]){var n=Mo[t.type](t,r);return n}else throw new Y("Got group of unknown type: '"+t.type+"'")};function C1(e,t,r,n,i){var s=Jt(e,r),a;s.length===1&&s[0]instanceof ir&&fe.contains(["mrow","mtable"],s[0].type)?a=s[0]:a=new K.MathNode("mrow",s);var l=new K.MathNode("annotation",[new K.TextNode(t)]);l.setAttribute("encoding","application/x-tex");var o=new K.MathNode("semantics",[a,l]),u=new K.MathNode("math",[o]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),n&&u.setAttribute("display","block");var d=i?"katex":"katex-mathml";return O.makeSpan([d],[u])}var ty=function(t){return new rn({style:t.displayMode?pe.DISPLAY:pe.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},ry=function(t,r){if(r.displayMode){var n=["katex-display"];r.leqno&&n.push("leqno"),r.fleqn&&n.push("fleqn"),t=O.makeSpan(n,[t])}return t},kS=function(t,r,n){var i=ty(n),s;if(n.output==="mathml")return C1(t,r,i,n.displayMode,!0);if(n.output==="html"){var a=Xc(t,i);s=O.makeSpan(["katex"],[a])}else{var l=C1(t,r,i,n.displayMode,!1),o=Xc(t,i);s=O.makeSpan(["katex"],[l,o])}return ry(s,n)},SS=function(t,r,n){var i=ty(n),s=Xc(t,i),a=O.makeSpan(["katex"],[s]);return ry(a,n)},_S={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},jS=function(t){var r=new K.MathNode("mo",[new K.TextNode(_S[t.replace(/^\\/,"")])]);return r.setAttribute("stretchy","true"),r},NS={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},CS=function(t){return t.type==="ordgroup"?t.body.length:1},ES=function(t,r){function n(){var l=4e5,o=t.label.slice(1);if(fe.contains(["widehat","widecheck","widetilde","utilde"],o)){var u=t,d=CS(u.base),h,m,f;if(d>5)o==="widehat"||o==="widecheck"?(h=420,l=2364,f=.42,m=o+"4"):(h=312,l=2340,f=.34,m="tilde4");else{var y=[1,1,2,2,3,3][d];o==="widehat"||o==="widecheck"?(l=[0,1062,2364,2364,2364][y],h=[0,239,300,360,420][y],f=[0,.24,.3,.3,.36,.42][y],m=o+y):(l=[0,600,1033,2339,2340][y],h=[0,260,286,306,312][y],f=[0,.26,.286,.3,.306,.34][y],m="tilde"+y)}var k=new Gn(m),N=new mn([k],{width:"100%",height:ee(f),viewBox:"0 0 "+l+" "+h,preserveAspectRatio:"none"});return{span:O.makeSvgSpan([],[N],r),minWidth:0,height:f}}else{var v=[],w=NS[o],[x,j,I]=w,_=I/1e3,z=x.length,R,q;if(z===1){var M=w[3];R=["hide-tail"],q=[M]}else if(z===2)R=["halfarrow-left","halfarrow-right"],q=["xMinYMin","xMaxYMin"];else if(z===3)R=["brace-left","brace-center","brace-right"],q=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+z+" children.");for(var U=0;U<z;U++){var L=new Gn(x[U]),te=new mn([L],{width:"400em",height:ee(_),viewBox:"0 0 "+l+" "+I,preserveAspectRatio:q[U]+" slice"}),B=O.makeSvgSpan([R[U]],[te],r);if(z===1)return{span:B,minWidth:j,height:_};B.style.height=ee(_),v.push(B)}return{span:O.makeSpan(["stretchy"],v,r),minWidth:j,height:_}}}var{span:i,minWidth:s,height:a}=n();return i.height=a,i.style.height=ee(a),s>0&&(i.style.minWidth=ee(s)),i},TS=function(t,r,n,i,s){var a,l=t.height+t.depth+n+i;if(/fbox|color|angl/.test(r)){if(a=O.makeSpan(["stretchy",r],[],s),r==="fbox"){var o=s.color&&s.getColor();o&&(a.style.borderColor=o)}}else{var u=[];/^[bx]cancel$/.test(r)&&u.push(new Kc({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(r)&&u.push(new Kc({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var d=new mn(u,{width:"100%",height:ee(l)});a=O.makeSvgSpan([],[d],s)}return a.height=l,a.style.height=ee(l),a},gn={encloseSpan:TS,mathMLnode:jS,svgSpan:ES};function Se(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function Nh(e){var t=c0(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function c0(e){return e&&(e.type==="atom"||eS.hasOwnProperty(e.type))?e:null}var Ch=(e,t)=>{var r,n,i;e&&e.type==="supsub"?(n=Se(e.base,"accent"),r=n.base,e.base=r,i=Jk(Ie(e,t)),e.base=n):(n=Se(e,"accent"),r=n.base);var s=Ie(r,t.havingCrampedStyle()),a=n.isShifty&&fe.isCharacterBox(r),l=0;if(a){var o=fe.getBaseElem(r),u=Ie(o,t.havingCrampedStyle());l=w1(u).skew}var d=n.label==="\\c",h=d?s.height+s.depth:Math.min(s.height,t.fontMetrics().xHeight),m;if(n.isStretchy)m=gn.svgSpan(n,t),m=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"elem",elem:m,wrapperClasses:["svg-align"],wrapperStyle:l>0?{width:"calc(100% - "+ee(2*l)+")",marginLeft:ee(2*l)}:void 0}]},t);else{var f,y;n.label==="\\vec"?(f=O.staticSvg("vec",t),y=O.svgData.vec[1]):(f=O.makeOrd({mode:n.mode,text:n.label},t,"textord"),f=w1(f),f.italic=0,y=f.width,d&&(h+=f.depth)),m=O.makeSpan(["accent-body"],[f]);var k=n.label==="\\textcircled";k&&(m.classes.push("accent-full"),h=s.height);var N=l;k||(N-=y/2),m.style.left=ee(N),n.label==="\\textcircled"&&(m.style.top=".2em"),m=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:-h},{type:"elem",elem:m}]},t)}var v=O.makeSpan(["mord","accent"],[m],t);return i?(i.children[0]=v,i.height=Math.max(v.height,i.height),i.classes[0]="mord",i):v},ny=(e,t)=>{var r=e.isStretchy?gn.mathMLnode(e.label):new K.MathNode("mo",[kr(e.label,e.mode)]),n=new K.MathNode("mover",[qe(e.base,t),r]);return n.setAttribute("accent","true"),n},AS=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));re({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var r=Po(t[0]),n=!AS.test(e.funcName),i=!n||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:n,isShifty:i,base:r}},htmlBuilder:Ch,mathmlBuilder:ny});re({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var r=t[0],n=e.parser.mode;return n==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),n="text"),{type:"accent",mode:n,label:e.funcName,isStretchy:!1,isShifty:!0,base:r}},htmlBuilder:Ch,mathmlBuilder:ny});re({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"accentUnder",mode:r.mode,label:n,base:i}},htmlBuilder:(e,t)=>{var r=Ie(e.base,t),n=gn.svgSpan(e,t),i=e.label==="\\utilde"?.12:0,s=O.makeVList({positionType:"top",positionData:r.height,children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:r}]},t);return O.makeSpan(["mord","accentunder"],[s],t)},mathmlBuilder:(e,t)=>{var r=gn.mathMLnode(e.label),n=new K.MathNode("munder",[qe(e.base,t),r]);return n.setAttribute("accentunder","true"),n}});var Tl=e=>{var t=new K.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};re({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n,funcName:i}=e;return{type:"xArrow",mode:n.mode,label:i,body:t[0],below:r[0]}},htmlBuilder(e,t){var r=t.style,n=t.havingStyle(r.sup()),i=O.wrapFragment(Ie(e.body,n,t),t),s=e.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(s+"-arrow-pad");var a;e.below&&(n=t.havingStyle(r.sub()),a=O.wrapFragment(Ie(e.below,n,t),t),a.classes.push(s+"-arrow-pad"));var l=gn.svgSpan(e,t),o=-t.fontMetrics().axisHeight+.5*l.height,u=-t.fontMetrics().axisHeight-.5*l.height-.111;(i.depth>.25||e.label==="\\xleftequilibrium")&&(u-=i.depth);var d;if(a){var h=-t.fontMetrics().axisHeight+a.height+.5*l.height+.111;d=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:l,shift:o},{type:"elem",elem:a,shift:h}]},t)}else d=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:l,shift:o}]},t);return d.children[0].children[0].children[1].classes.push("svg-align"),O.makeSpan(["mrel","x-arrow"],[d],t)},mathmlBuilder(e,t){var r=gn.mathMLnode(e.label);r.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var n;if(e.body){var i=Tl(qe(e.body,t));if(e.below){var s=Tl(qe(e.below,t));n=new K.MathNode("munderover",[r,s,i])}else n=new K.MathNode("mover",[r,i])}else if(e.below){var a=Tl(qe(e.below,t));n=new K.MathNode("munder",[r,a])}else n=Tl(),n=new K.MathNode("mover",[r,n]);return n}});var MS=O.makeSpan;function iy(e,t){var r=xt(e.body,t,!0);return MS([e.mclass],r,t)}function sy(e,t){var r,n=Jt(e.body,t);return e.mclass==="minner"?r=new K.MathNode("mpadded",n):e.mclass==="mord"?e.isCharacterBox?(r=n[0],r.type="mi"):r=new K.MathNode("mi",n):(e.isCharacterBox?(r=n[0],r.type="mo"):r=new K.MathNode("mo",n),e.mclass==="mbin"?(r.attributes.lspace="0.22em",r.attributes.rspace="0.22em"):e.mclass==="mpunct"?(r.attributes.lspace="0em",r.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(r.attributes.lspace="0em",r.attributes.rspace="0em"):e.mclass==="minner"&&(r.attributes.lspace="0.0556em",r.attributes.width="+0.1111em")),r}re({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"mclass",mode:r.mode,mclass:"m"+n.slice(5),body:ct(i),isCharacterBox:fe.isCharacterBox(i)}},htmlBuilder:iy,mathmlBuilder:sy});var d0=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};re({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:r}=e;return{type:"mclass",mode:r.mode,mclass:d0(t[0]),body:ct(t[1]),isCharacterBox:fe.isCharacterBox(t[1])}}});re({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:r,funcName:n}=e,i=t[1],s=t[0],a;n!=="\\stackrel"?a=d0(i):a="mrel";var l={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:n!=="\\stackrel",body:ct(i)},o={type:"supsub",mode:s.mode,base:l,sup:n==="\\underset"?null:s,sub:n==="\\underset"?s:null};return{type:"mclass",mode:r.mode,mclass:a,body:[o],isCharacterBox:fe.isCharacterBox(o)}},htmlBuilder:iy,mathmlBuilder:sy});re({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"pmb",mode:r.mode,mclass:d0(t[0]),body:ct(t[0])}},htmlBuilder(e,t){var r=xt(e.body,t,!0),n=O.makeSpan([e.mclass],r,t);return n.style.textShadow="0.02em 0.01em 0.04px",n},mathmlBuilder(e,t){var r=Jt(e.body,t),n=new K.MathNode("mstyle",r);return n.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),n}});var PS={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},E1=()=>({type:"styling",body:[],mode:"math",style:"display"}),T1=e=>e.type==="textord"&&e.text==="@",IS=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function zS(e,t,r){var n=PS[e];switch(n){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return r.callFunction(n,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var i=r.callFunction("\\\\cdleft",[t[0]],[]),s={type:"atom",text:n,mode:"math",family:"rel"},a=r.callFunction("\\Big",[s],[]),l=r.callFunction("\\\\cdright",[t[1]],[]),o={type:"ordgroup",mode:"math",body:[i,a,l]};return r.callFunction("\\\\cdparent",[o],[])}case"\\\\cdlongequal":return r.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return r.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function DS(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var r=e.fetch().text;if(r==="&"||r==="\\\\")e.consume();else if(r==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new Y("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var n=[],i=[n],s=0;s<t.length;s++){for(var a=t[s],l=E1(),o=0;o<a.length;o++)if(!T1(a[o]))l.body.push(a[o]);else{n.push(l),o+=1;var u=Nh(a[o]).text,d=new Array(2);if(d[0]={type:"ordgroup",mode:"math",body:[]},d[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var h=0;h<2;h++){for(var m=!0,f=o+1;f<a.length;f++){if(IS(a[f],u)){m=!1,o=f;break}if(T1(a[f]))throw new Y("Missing a "+u+" character to complete a CD arrow.",a[f]);d[h].body.push(a[f])}if(m)throw new Y("Missing a "+u+" character to complete a CD arrow.",a[o])}else throw new Y('Expected one of "<>AV=|." after @',a[o]);var y=zS(u,d,e),k={type:"styling",body:[y],mode:"math",style:"display"};n.push(k),l=E1()}s%2===0?n.push(l):n.shift(),n=[],i.push(n)}e.gullet.endGroup(),e.gullet.endGroup();var N=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:N,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}re({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"cdlabel",mode:r.mode,side:n.slice(4),label:t[0]}},htmlBuilder(e,t){var r=t.havingStyle(t.style.sup()),n=O.wrapFragment(Ie(e.label,r,t),t);return n.classes.push("cd-label-"+e.side),n.style.bottom=ee(.8-n.depth),n.height=0,n.depth=0,n},mathmlBuilder(e,t){var r=new K.MathNode("mrow",[qe(e.label,t)]);return r=new K.MathNode("mpadded",[r]),r.setAttribute("width","0"),e.side==="left"&&r.setAttribute("lspace","-1width"),r.setAttribute("voffset","0.7em"),r=new K.MathNode("mstyle",[r]),r.setAttribute("displaystyle","false"),r.setAttribute("scriptlevel","1"),r}});re({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:r}=e;return{type:"cdlabelparent",mode:r.mode,fragment:t[0]}},htmlBuilder(e,t){var r=O.wrapFragment(Ie(e.fragment,t),t);return r.classes.push("cd-vert-arrow"),r},mathmlBuilder(e,t){return new K.MathNode("mrow",[qe(e.fragment,t)])}});re({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:r}=e,n=Se(t[0],"ordgroup"),i=n.body,s="",a=0;a<i.length;a++){var l=Se(i[a],"textord");s+=l.text}var o=parseInt(s),u;if(isNaN(o))throw new Y("\\@char has non-numeric argument "+s);if(o<0||o>=1114111)throw new Y("\\@char with invalid code point "+s);return o<=65535?u=String.fromCharCode(o):(o-=65536,u=String.fromCharCode((o>>10)+55296,(o&1023)+56320)),{type:"textord",mode:r.mode,text:u}}});var ay=(e,t)=>{var r=xt(e.body,t.withColor(e.color),!1);return O.makeFragment(r)},ly=(e,t)=>{var r=Jt(e.body,t.withColor(e.color)),n=new K.MathNode("mstyle",r);return n.setAttribute("mathcolor",e.color),n};re({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:r}=e,n=Se(t[0],"color-token").color,i=t[1];return{type:"color",mode:r.mode,color:n,body:ct(i)}},htmlBuilder:ay,mathmlBuilder:ly});re({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:r,breakOnTokenText:n}=e,i=Se(t[0],"color-token").color;r.gullet.macros.set("\\current@color",i);var s=r.parseExpression(!0,n);return{type:"color",mode:r.mode,color:i,body:s}},htmlBuilder:ay,mathmlBuilder:ly});re({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,r){var{parser:n}=e,i=n.gullet.future().text==="["?n.parseSizeGroup(!0):null,s=!n.settings.displayMode||!n.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:n.mode,newLine:s,size:i&&Se(i,"size").value}},htmlBuilder(e,t){var r=O.makeSpan(["mspace"],[],t);return e.newLine&&(r.classes.push("newline"),e.size&&(r.style.marginTop=ee(rt(e.size,t)))),r},mathmlBuilder(e,t){var r=new K.MathNode("mspace");return e.newLine&&(r.setAttribute("linebreak","newline"),e.size&&r.setAttribute("height",ee(rt(e.size,t)))),r}});var Jc={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},oy=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new Y("Expected a control sequence",e);return t},OS=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},uy=(e,t,r,n)=>{var i=e.gullet.macros.get(r.text);i==null&&(r.noexpand=!0,i={tokens:[r],numArgs:0,unexpandable:!e.gullet.isExpandable(r.text)}),e.gullet.macros.set(t,i,n)};re({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:r}=e;t.consumeSpaces();var n=t.fetch();if(Jc[n.text])return(r==="\\global"||r==="\\\\globallong")&&(n.text=Jc[n.text]),Se(t.parseFunction(),"internal");throw new Y("Invalid token after macro prefix",n)}});re({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=t.gullet.popToken(),i=n.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new Y("Expected a control sequence",n);for(var s=0,a,l=[[]];t.gullet.future().text!=="{";)if(n=t.gullet.popToken(),n.text==="#"){if(t.gullet.future().text==="{"){a=t.gullet.future(),l[s].push("{");break}if(n=t.gullet.popToken(),!/^[1-9]$/.test(n.text))throw new Y('Invalid argument number "'+n.text+'"');if(parseInt(n.text)!==s+1)throw new Y('Argument number "'+n.text+'" out of order');s++,l.push([])}else{if(n.text==="EOF")throw new Y("Expected a macro definition");l[s].push(n.text)}var{tokens:o}=t.gullet.consumeArg();return a&&o.unshift(a),(r==="\\edef"||r==="\\xdef")&&(o=t.gullet.expandTokens(o),o.reverse()),t.gullet.macros.set(i,{tokens:o,numArgs:s,delimiters:l},r===Jc[r]),{type:"internal",mode:t.mode}}});re({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=oy(t.gullet.popToken());t.gullet.consumeSpaces();var i=OS(t);return uy(t,n,i,r==="\\\\globallet"),{type:"internal",mode:t.mode}}});re({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:r}=e,n=oy(t.gullet.popToken()),i=t.gullet.popToken(),s=t.gullet.popToken();return uy(t,n,s,r==="\\\\globalfuture"),t.gullet.pushToken(s),t.gullet.pushToken(i),{type:"internal",mode:t.mode}}});var Qs=function(t,r,n){var i=We.math[t]&&We.math[t].replace,s=bh(i||t,r,n);if(!s)throw new Error("Unsupported symbol "+t+" and font size "+r+".");return s},Eh=function(t,r,n,i){var s=n.havingBaseStyle(r),a=O.makeSpan(i.concat(s.sizingClasses(n)),[t],n),l=s.sizeMultiplier/n.sizeMultiplier;return a.height*=l,a.depth*=l,a.maxFontSize=s.sizeMultiplier,a},cy=function(t,r,n){var i=r.havingBaseStyle(n),s=(1-r.sizeMultiplier/i.sizeMultiplier)*r.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=ee(s),t.height-=s,t.depth+=s},LS=function(t,r,n,i,s,a){var l=O.makeSymbol(t,"Main-Regular",s,i),o=Eh(l,r,i,a);return n&&cy(o,i,r),o},RS=function(t,r,n,i){return O.makeSymbol(t,"Size"+r+"-Regular",n,i)},dy=function(t,r,n,i,s,a){var l=RS(t,r,s,i),o=Eh(O.makeSpan(["delimsizing","size"+r],[l],i),pe.TEXT,i,a);return n&&cy(o,i,pe.TEXT),o},mu=function(t,r,n){var i;r==="Size1-Regular"?i="delim-size1":i="delim-size4";var s=O.makeSpan(["delimsizinginner",i],[O.makeSpan([],[O.makeSymbol(t,r,n)])]);return{type:"elem",elem:s}},pu=function(t,r,n){var i=qr["Size4-Regular"][t.charCodeAt(0)]?qr["Size4-Regular"][t.charCodeAt(0)][4]:qr["Size1-Regular"][t.charCodeAt(0)][4],s=new Gn("inner",Uk(t,Math.round(1e3*r))),a=new mn([s],{width:ee(i),height:ee(r),style:"width:"+ee(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*r),preserveAspectRatio:"xMinYMin"}),l=O.makeSvgSpan([],[a],n);return l.height=r,l.style.height=ee(r),l.style.width=ee(i),{type:"elem",elem:l}},Zc=.008,Al={type:"kern",size:-1*Zc},FS=["|","\\lvert","\\rvert","\\vert"],BS=["\\|","\\lVert","\\rVert","\\Vert"],hy=function(t,r,n,i,s,a){var l,o,u,d,h="",m=0;l=u=d=t,o=null;var f="Size1-Regular";t==="\\uparrow"?u=d="⏐":t==="\\Uparrow"?u=d="‖":t==="\\downarrow"?l=u="⏐":t==="\\Downarrow"?l=u="‖":t==="\\updownarrow"?(l="\\uparrow",u="⏐",d="\\downarrow"):t==="\\Updownarrow"?(l="\\Uparrow",u="‖",d="\\Downarrow"):fe.contains(FS,t)?(u="∣",h="vert",m=333):fe.contains(BS,t)?(u="∥",h="doublevert",m=556):t==="["||t==="\\lbrack"?(l="⎡",u="⎢",d="⎣",f="Size4-Regular",h="lbrack",m=667):t==="]"||t==="\\rbrack"?(l="⎤",u="⎥",d="⎦",f="Size4-Regular",h="rbrack",m=667):t==="\\lfloor"||t==="⌊"?(u=l="⎢",d="⎣",f="Size4-Regular",h="lfloor",m=667):t==="\\lceil"||t==="⌈"?(l="⎡",u=d="⎢",f="Size4-Regular",h="lceil",m=667):t==="\\rfloor"||t==="⌋"?(u=l="⎥",d="⎦",f="Size4-Regular",h="rfloor",m=667):t==="\\rceil"||t==="⌉"?(l="⎤",u=d="⎥",f="Size4-Regular",h="rceil",m=667):t==="("||t==="\\lparen"?(l="⎛",u="⎜",d="⎝",f="Size4-Regular",h="lparen",m=875):t===")"||t==="\\rparen"?(l="⎞",u="⎟",d="⎠",f="Size4-Regular",h="rparen",m=875):t==="\\{"||t==="\\lbrace"?(l="⎧",o="⎨",d="⎩",u="⎪",f="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(l="⎫",o="⎬",d="⎭",u="⎪",f="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(l="⎧",d="⎩",u="⎪",f="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(l="⎫",d="⎭",u="⎪",f="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(l="⎧",d="⎭",u="⎪",f="Size4-Regular"):(t==="\\rmoustache"||t==="⎱")&&(l="⎫",d="⎩",u="⎪",f="Size4-Regular");var y=Qs(l,f,s),k=y.height+y.depth,N=Qs(u,f,s),v=N.height+N.depth,w=Qs(d,f,s),x=w.height+w.depth,j=0,I=1;if(o!==null){var _=Qs(o,f,s);j=_.height+_.depth,I=2}var z=k+x+j,R=Math.max(0,Math.ceil((r-z)/(I*v))),q=z+R*I*v,M=i.fontMetrics().axisHeight;n&&(M*=i.sizeMultiplier);var U=q/2-M,L=[];if(h.length>0){var te=q-k-x,B=Math.round(q*1e3),H=Hk(h,Math.round(te*1e3)),Z=new Gn(h,H),ce=(m/1e3).toFixed(3)+"em",$=(B/1e3).toFixed(3)+"em",G=new mn([Z],{width:ce,height:$,viewBox:"0 0 "+m+" "+B}),C=O.makeSvgSpan([],[G],i);C.height=B/1e3,C.style.width=ce,C.style.height=$,L.push({type:"elem",elem:C})}else{if(L.push(mu(d,f,s)),L.push(Al),o===null){var ge=q-k-x+2*Zc;L.push(pu(u,ge,i))}else{var ye=(q-k-x-j)/2+2*Zc;L.push(pu(u,ye,i)),L.push(Al),L.push(mu(o,f,s)),L.push(Al),L.push(pu(u,ye,i))}L.push(Al),L.push(mu(l,f,s))}var A=i.havingBaseStyle(pe.TEXT),ze=O.makeVList({positionType:"bottom",positionData:U,children:L},A);return Eh(O.makeSpan(["delimsizing","mult"],[ze],A),pe.TEXT,i,a)},gu=80,yu=.08,vu=function(t,r,n,i,s){var a=qk(t,i,n),l=new Gn(t,a),o=new mn([l],{width:"400em",height:ee(r),viewBox:"0 0 400000 "+n,preserveAspectRatio:"xMinYMin slice"});return O.makeSvgSpan(["hide-tail"],[o],s)},$S=function(t,r){var n=r.havingBaseSizing(),i=gy("\\surd",t*n.sizeMultiplier,py,n),s=n.sizeMultiplier,a=Math.max(0,r.minRuleThickness-r.fontMetrics().sqrtRuleThickness),l,o=0,u=0,d=0,h;return i.type==="small"?(d=1e3+1e3*a+gu,t<1?s=1:t<1.4&&(s=.7),o=(1+a+yu)/s,u=(1+a)/s,l=vu("sqrtMain",o,d,a,r),l.style.minWidth="0.853em",h=.833/s):i.type==="large"?(d=(1e3+gu)*ha[i.size],u=(ha[i.size]+a)/s,o=(ha[i.size]+a+yu)/s,l=vu("sqrtSize"+i.size,o,d,a,r),l.style.minWidth="1.02em",h=1/s):(o=t+a+yu,u=t+a,d=Math.floor(1e3*t+a)+gu,l=vu("sqrtTall",o,d,a,r),l.style.minWidth="0.742em",h=1.056),l.height=u,l.style.height=ee(o),{span:l,advanceWidth:h,ruleWidth:(r.fontMetrics().sqrtRuleThickness+a)*s}},fy=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],qS=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],my=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],ha=[0,1.2,1.8,2.4,3],US=function(t,r,n,i,s){if(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),fe.contains(fy,t)||fe.contains(my,t))return dy(t,r,!1,n,i,s);if(fe.contains(qS,t))return hy(t,ha[r],!1,n,i,s);throw new Y("Illegal delimiter: '"+t+"'")},HS=[{type:"small",style:pe.SCRIPTSCRIPT},{type:"small",style:pe.SCRIPT},{type:"small",style:pe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],VS=[{type:"small",style:pe.SCRIPTSCRIPT},{type:"small",style:pe.SCRIPT},{type:"small",style:pe.TEXT},{type:"stack"}],py=[{type:"small",style:pe.SCRIPTSCRIPT},{type:"small",style:pe.SCRIPT},{type:"small",style:pe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],WS=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},gy=function(t,r,n,i){for(var s=Math.min(2,3-i.style.size),a=s;a<n.length&&n[a].type!=="stack";a++){var l=Qs(t,WS(n[a]),"math"),o=l.height+l.depth;if(n[a].type==="small"){var u=i.havingBaseStyle(n[a].style);o*=u.sizeMultiplier}if(o>r)return n[a]}return n[n.length-1]},yy=function(t,r,n,i,s,a){t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle");var l;fe.contains(my,t)?l=HS:fe.contains(fy,t)?l=py:l=VS;var o=gy(t,r,l,i);return o.type==="small"?LS(t,o.style,n,i,s,a):o.type==="large"?dy(t,o.size,n,i,s,a):hy(t,r,n,i,s,a)},GS=function(t,r,n,i,s,a){var l=i.fontMetrics().axisHeight*i.sizeMultiplier,o=901,u=5/i.fontMetrics().ptPerEm,d=Math.max(r-l,n+l),h=Math.max(d/500*o,2*d-u);return yy(t,h,!0,i,s,a)},un={sqrtImage:$S,sizedDelim:US,sizeToMaxHeight:ha,customSizedDelim:yy,leftRightDelim:GS},A1={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},KS=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function h0(e,t){var r=c0(e);if(r&&fe.contains(KS,r.text))return r;throw r?new Y("Invalid delimiter '"+r.text+"' after '"+t.funcName+"'",e):new Y("Invalid delimiter type '"+e.type+"'",e)}re({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var r=h0(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:A1[e.funcName].size,mclass:A1[e.funcName].mclass,delim:r.text}},htmlBuilder:(e,t)=>e.delim==="."?O.makeSpan([e.mclass]):un.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(kr(e.delim,e.mode));var r=new K.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?r.setAttribute("fence","true"):r.setAttribute("fence","false"),r.setAttribute("stretchy","true");var n=ee(un.sizeToMaxHeight[e.size]);return r.setAttribute("minsize",n),r.setAttribute("maxsize",n),r}});function M1(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}re({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=e.parser.gullet.macros.get("\\current@color");if(r&&typeof r!="string")throw new Y("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:h0(t[0],e).text,color:r}}});re({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=h0(t[0],e),n=e.parser;++n.leftrightDepth;var i=n.parseExpression(!1);--n.leftrightDepth,n.expect("\\right",!1);var s=Se(n.parseFunction(),"leftright-right");return{type:"leftright",mode:n.mode,body:i,left:r.text,right:s.delim,rightColor:s.color}},htmlBuilder:(e,t)=>{M1(e);for(var r=xt(e.body,t,!0,["mopen","mclose"]),n=0,i=0,s=!1,a=0;a<r.length;a++)r[a].isMiddle?s=!0:(n=Math.max(r[a].height,n),i=Math.max(r[a].depth,i));n*=t.sizeMultiplier,i*=t.sizeMultiplier;var l;if(e.left==="."?l=za(t,["mopen"]):l=un.leftRightDelim(e.left,n,i,t,e.mode,["mopen"]),r.unshift(l),s)for(var o=1;o<r.length;o++){var u=r[o],d=u.isMiddle;d&&(r[o]=un.leftRightDelim(d.delim,n,i,d.options,e.mode,[]))}var h;if(e.right===".")h=za(t,["mclose"]);else{var m=e.rightColor?t.withColor(e.rightColor):t;h=un.leftRightDelim(e.right,n,i,m,e.mode,["mclose"])}return r.push(h),O.makeSpan(["minner"],r,t)},mathmlBuilder:(e,t)=>{M1(e);var r=Jt(e.body,t);if(e.left!=="."){var n=new K.MathNode("mo",[kr(e.left,e.mode)]);n.setAttribute("fence","true"),r.unshift(n)}if(e.right!=="."){var i=new K.MathNode("mo",[kr(e.right,e.mode)]);i.setAttribute("fence","true"),e.rightColor&&i.setAttribute("mathcolor",e.rightColor),r.push(i)}return _h(r)}});re({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var r=h0(t[0],e);if(!e.parser.leftrightDepth)throw new Y("\\middle without preceding \\left",r);return{type:"middle",mode:e.parser.mode,delim:r.text}},htmlBuilder:(e,t)=>{var r;if(e.delim===".")r=za(t,[]);else{r=un.sizedDelim(e.delim,1,t,e.mode,[]);var n={delim:e.delim,options:t};r.isMiddle=n}return r},mathmlBuilder:(e,t)=>{var r=e.delim==="\\vert"||e.delim==="|"?kr("|","text"):kr(e.delim,e.mode),n=new K.MathNode("mo",[r]);return n.setAttribute("fence","true"),n.setAttribute("lspace","0.05em"),n.setAttribute("rspace","0.05em"),n}});var Th=(e,t)=>{var r=O.wrapFragment(Ie(e.body,t),t),n=e.label.slice(1),i=t.sizeMultiplier,s,a=0,l=fe.isCharacterBox(e.body);if(n==="sout")s=O.makeSpan(["stretchy","sout"]),s.height=t.fontMetrics().defaultRuleThickness/i,a=-.5*t.fontMetrics().xHeight;else if(n==="phase"){var o=rt({number:.6,unit:"pt"},t),u=rt({number:.35,unit:"ex"},t),d=t.havingBaseSizing();i=i/d.sizeMultiplier;var h=r.height+r.depth+o+u;r.style.paddingLeft=ee(h/2+o);var m=Math.floor(1e3*h*i),f=Bk(m),y=new mn([new Gn("phase",f)],{width:"400em",height:ee(m/1e3),viewBox:"0 0 400000 "+m,preserveAspectRatio:"xMinYMin slice"});s=O.makeSvgSpan(["hide-tail"],[y],t),s.style.height=ee(h),a=r.depth+o+u}else{/cancel/.test(n)?l||r.classes.push("cancel-pad"):n==="angl"?r.classes.push("anglpad"):r.classes.push("boxpad");var k=0,N=0,v=0;/box/.test(n)?(v=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),k=t.fontMetrics().fboxsep+(n==="colorbox"?0:v),N=k):n==="angl"?(v=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),k=4*v,N=Math.max(0,.25-r.depth)):(k=l?.2:0,N=k),s=gn.encloseSpan(r,n,k,N,t),/fbox|boxed|fcolorbox/.test(n)?(s.style.borderStyle="solid",s.style.borderWidth=ee(v)):n==="angl"&&v!==.049&&(s.style.borderTopWidth=ee(v),s.style.borderRightWidth=ee(v)),a=r.depth+N,e.backgroundColor&&(s.style.backgroundColor=e.backgroundColor,e.borderColor&&(s.style.borderColor=e.borderColor))}var w;if(e.backgroundColor)w=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:s,shift:a},{type:"elem",elem:r,shift:0}]},t);else{var x=/cancel|phase/.test(n)?["svg-align"]:[];w=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:0},{type:"elem",elem:s,shift:a,wrapperClasses:x}]},t)}return/cancel/.test(n)&&(w.height=r.height,w.depth=r.depth),/cancel/.test(n)&&!l?O.makeSpan(["mord","cancel-lap"],[w],t):O.makeSpan(["mord"],[w],t)},Ah=(e,t)=>{var r=0,n=new K.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[qe(e.body,t)]);switch(e.label){case"\\cancel":n.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":n.setAttribute("notation","downdiagonalstrike");break;case"\\phase":n.setAttribute("notation","phasorangle");break;case"\\sout":n.setAttribute("notation","horizontalstrike");break;case"\\fbox":n.setAttribute("notation","box");break;case"\\angl":n.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(r=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,n.setAttribute("width","+"+2*r+"pt"),n.setAttribute("height","+"+2*r+"pt"),n.setAttribute("lspace",r+"pt"),n.setAttribute("voffset",r+"pt"),e.label==="\\fcolorbox"){var i=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);n.setAttribute("style","border: "+i+"em solid "+String(e.borderColor))}break;case"\\xcancel":n.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&n.setAttribute("mathbackground",e.backgroundColor),n};re({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,s=Se(t[0],"color-token").color,a=t[1];return{type:"enclose",mode:n.mode,label:i,backgroundColor:s,body:a}},htmlBuilder:Th,mathmlBuilder:Ah});re({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,r){var{parser:n,funcName:i}=e,s=Se(t[0],"color-token").color,a=Se(t[1],"color-token").color,l=t[2];return{type:"enclose",mode:n.mode,label:i,backgroundColor:a,borderColor:s,body:l}},htmlBuilder:Th,mathmlBuilder:Ah});re({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\fbox",body:t[0]}}});re({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"enclose",mode:r.mode,label:n,body:i}},htmlBuilder:Th,mathmlBuilder:Ah});re({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"enclose",mode:r.mode,label:"\\angl",body:t[0]}}});var vy={};function Wr(e){for(var{type:t,names:r,props:n,handler:i,htmlBuilder:s,mathmlBuilder:a}=e,l={type:t,numArgs:n.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},o=0;o<r.length;++o)vy[r[o]]=l;s&&(Ao[t]=s),a&&(Mo[t]=a)}var xy={};function S(e,t){xy[e]=t}function P1(e){var t=[];e.consumeSpaces();var r=e.fetch().text;for(r==="\\relax"&&(e.consume(),e.consumeSpaces(),r=e.fetch().text);r==="\\hline"||r==="\\hdashline";)e.consume(),t.push(r==="\\hdashline"),e.consumeSpaces(),r=e.fetch().text;return t}var f0=e=>{var t=e.parser.settings;if(!t.displayMode)throw new Y("{"+e.envName+"} can be used only in display mode.")};function Mh(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function ei(e,t,r){var{hskipBeforeAndAfter:n,addJot:i,cols:s,arraystretch:a,colSeparationType:l,autoTag:o,singleRow:u,emptySingleRow:d,maxNumCols:h,leqno:m}=t;if(e.gullet.beginGroup(),u||e.gullet.macros.set("\\cr","\\\\\\relax"),!a){var f=e.gullet.expandMacroAsText("\\arraystretch");if(f==null)a=1;else if(a=parseFloat(f),!a||a<0)throw new Y("Invalid \\arraystretch: "+f)}e.gullet.beginGroup();var y=[],k=[y],N=[],v=[],w=o!=null?[]:void 0;function x(){o&&e.gullet.macros.set("\\@eqnsw","1",!0)}function j(){w&&(e.gullet.macros.get("\\df@tag")?(w.push(e.subparse([new vr("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):w.push(!!o&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(x(),v.push(P1(e));;){var I=e.parseExpression(!1,u?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),I={type:"ordgroup",mode:e.mode,body:I},r&&(I={type:"styling",mode:e.mode,style:r,body:[I]}),y.push(I);var _=e.fetch().text;if(_==="&"){if(h&&y.length===h){if(u||l)throw new Y("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(_==="\\end"){j(),y.length===1&&I.type==="styling"&&I.body[0].body.length===0&&(k.length>1||!d)&&k.pop(),v.length<k.length+1&&v.push([]);break}else if(_==="\\\\"){e.consume();var z=void 0;e.gullet.future().text!==" "&&(z=e.parseSizeGroup(!0)),N.push(z?z.value:null),j(),v.push(P1(e)),y=[],k.push(y),x()}else throw new Y("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:i,arraystretch:a,body:k,cols:s,rowGaps:N,hskipBeforeAndAfter:n,hLinesBeforeRow:v,colSeparationType:l,tags:w,leqno:m}}function Ph(e){return e.slice(0,1)==="d"?"display":"text"}var Gr=function(t,r){var n,i,s=t.body.length,a=t.hLinesBeforeRow,l=0,o=new Array(s),u=[],d=Math.max(r.fontMetrics().arrayRuleWidth,r.minRuleThickness),h=1/r.fontMetrics().ptPerEm,m=5*h;if(t.colSeparationType&&t.colSeparationType==="small"){var f=r.havingStyle(pe.SCRIPT).sizeMultiplier;m=.2778*(f/r.sizeMultiplier)}var y=t.colSeparationType==="CD"?rt({number:3,unit:"ex"},r):12*h,k=3*h,N=t.arraystretch*y,v=.7*N,w=.3*N,x=0;function j(oe){for(var ne=0;ne<oe.length;++ne)ne>0&&(x+=.25),u.push({pos:x,isDashed:oe[ne]})}for(j(a[0]),n=0;n<t.body.length;++n){var I=t.body[n],_=v,z=w;l<I.length&&(l=I.length);var R=new Array(I.length);for(i=0;i<I.length;++i){var q=Ie(I[i],r);z<q.depth&&(z=q.depth),_<q.height&&(_=q.height),R[i]=q}var M=t.rowGaps[n],U=0;M&&(U=rt(M,r),U>0&&(U+=w,z<U&&(z=U),U=0)),t.addJot&&(z+=k),R.height=_,R.depth=z,x+=_,R.pos=x,x+=z+U,o[n]=R,j(a[n+1])}var L=x/2+r.fontMetrics().axisHeight,te=t.cols||[],B=[],H,Z,ce=[];if(t.tags&&t.tags.some(oe=>oe))for(n=0;n<s;++n){var $=o[n],G=$.pos-L,C=t.tags[n],ge=void 0;C===!0?ge=O.makeSpan(["eqn-num"],[],r):C===!1?ge=O.makeSpan([],[],r):ge=O.makeSpan([],xt(C,r,!0),r),ge.depth=$.depth,ge.height=$.height,ce.push({type:"elem",elem:ge,shift:G})}for(i=0,Z=0;i<l||Z<te.length;++i,++Z){for(var ye=te[Z]||{},A=!0;ye.type==="separator";){if(A||(H=O.makeSpan(["arraycolsep"],[]),H.style.width=ee(r.fontMetrics().doubleRuleSep),B.push(H)),ye.separator==="|"||ye.separator===":"){var ze=ye.separator==="|"?"solid":"dashed",st=O.makeSpan(["vertical-separator"],[],r);st.style.height=ee(x),st.style.borderRightWidth=ee(d),st.style.borderRightStyle=ze,st.style.margin="0 "+ee(-d/2);var Me=x-L;Me&&(st.style.verticalAlign=ee(-Me)),B.push(st)}else throw new Y("Invalid separator type: "+ye.separator);Z++,ye=te[Z]||{},A=!1}if(!(i>=l)){var Je=void 0;(i>0||t.hskipBeforeAndAfter)&&(Je=fe.deflt(ye.pregap,m),Je!==0&&(H=O.makeSpan(["arraycolsep"],[]),H.style.width=ee(Je),B.push(H)));var mt=[];for(n=0;n<s;++n){var Pt=o[n],It=Pt[i];if(It){var Sr=Pt.pos-L;It.depth=Pt.depth,It.height=Pt.height,mt.push({type:"elem",elem:It,shift:Sr})}}mt=O.makeVList({positionType:"individualShift",children:mt},r),mt=O.makeSpan(["col-align-"+(ye.align||"c")],[mt]),B.push(mt),(i<l-1||t.hskipBeforeAndAfter)&&(Je=fe.deflt(ye.postgap,m),Je!==0&&(H=O.makeSpan(["arraycolsep"],[]),H.style.width=ee(Je),B.push(H)))}}if(o=O.makeSpan(["mtable"],B),u.length>0){for(var J=O.makeLineSpan("hline",r,d),we=O.makeLineSpan("hdashline",r,d),Fe=[{type:"elem",elem:o,shift:0}];u.length>0;){var De=u.pop(),Re=De.pos-L;De.isDashed?Fe.push({type:"elem",elem:we,shift:Re}):Fe.push({type:"elem",elem:J,shift:Re})}o=O.makeVList({positionType:"individualShift",children:Fe},r)}if(ce.length===0)return O.makeSpan(["mord"],[o],r);var Ze=O.makeVList({positionType:"individualShift",children:ce},r);return Ze=O.makeSpan(["tag"],[Ze],r),O.makeFragment([o,Ze])},YS={c:"center ",l:"left ",r:"right "},Kr=function(t,r){for(var n=[],i=new K.MathNode("mtd",[],["mtr-glue"]),s=new K.MathNode("mtd",[],["mml-eqn-num"]),a=0;a<t.body.length;a++){for(var l=t.body[a],o=[],u=0;u<l.length;u++)o.push(new K.MathNode("mtd",[qe(l[u],r)]));t.tags&&t.tags[a]&&(o.unshift(i),o.push(i),t.leqno?o.unshift(s):o.push(s)),n.push(new K.MathNode("mtr",o))}var d=new K.MathNode("mtable",n),h=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);d.setAttribute("rowspacing",ee(h));var m="",f="";if(t.cols&&t.cols.length>0){var y=t.cols,k="",N=!1,v=0,w=y.length;y[0].type==="separator"&&(m+="top ",v=1),y[y.length-1].type==="separator"&&(m+="bottom ",w-=1);for(var x=v;x<w;x++)y[x].type==="align"?(f+=YS[y[x].align],N&&(k+="none "),N=!0):y[x].type==="separator"&&N&&(k+=y[x].separator==="|"?"solid ":"dashed ",N=!1);d.setAttribute("columnalign",f.trim()),/[sd]/.test(k)&&d.setAttribute("columnlines",k.trim())}if(t.colSeparationType==="align"){for(var j=t.cols||[],I="",_=1;_<j.length;_++)I+=_%2?"0em ":"1em ";d.setAttribute("columnspacing",I.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?d.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?d.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?d.setAttribute("columnspacing","0.5em"):d.setAttribute("columnspacing","1em");var z="",R=t.hLinesBeforeRow;m+=R[0].length>0?"left ":"",m+=R[R.length-1].length>0?"right ":"";for(var q=1;q<R.length-1;q++)z+=R[q].length===0?"none ":R[q][0]?"dashed ":"solid ";return/[sd]/.test(z)&&d.setAttribute("rowlines",z.trim()),m!==""&&(d=new K.MathNode("menclose",[d]),d.setAttribute("notation",m.trim())),t.arraystretch&&t.arraystretch<1&&(d=new K.MathNode("mstyle",[d]),d.setAttribute("scriptlevel","1")),d},wy=function(t,r){t.envName.indexOf("ed")===-1&&f0(t);var n=[],i=t.envName.indexOf("at")>-1?"alignat":"align",s=t.envName==="split",a=ei(t.parser,{cols:n,addJot:!0,autoTag:s?void 0:Mh(t.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:s?2:void 0,leqno:t.parser.settings.leqno},"display"),l,o=0,u={type:"ordgroup",mode:t.mode,body:[]};if(r[0]&&r[0].type==="ordgroup"){for(var d="",h=0;h<r[0].body.length;h++){var m=Se(r[0].body[h],"textord");d+=m.text}l=Number(d),o=l*2}var f=!o;a.body.forEach(function(v){for(var w=1;w<v.length;w+=2){var x=Se(v[w],"styling"),j=Se(x.body[0],"ordgroup");j.body.unshift(u)}if(f)o<v.length&&(o=v.length);else{var I=v.length/2;if(l<I)throw new Y("Too many math in a row: "+("expected "+l+", but got "+I),v[0])}});for(var y=0;y<o;++y){var k="r",N=0;y%2===1?k="l":y>0&&f&&(N=1),n[y]={type:"align",align:k,pregap:N,postgap:0}}return a.colSeparationType=f?"align":"alignat",a};Wr({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var r=c0(t[0]),n=r?[t[0]]:Se(t[0],"ordgroup").body,i=n.map(function(a){var l=Nh(a),o=l.text;if("lcr".indexOf(o)!==-1)return{type:"align",align:o};if(o==="|")return{type:"separator",separator:"|"};if(o===":")return{type:"separator",separator:":"};throw new Y("Unknown column alignment: "+o,a)}),s={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return ei(e.parser,s,Ph(e.envName))},htmlBuilder:Gr,mathmlBuilder:Kr});Wr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],r="c",n={hskipBeforeAndAfter:!1,cols:[{type:"align",align:r}]};if(e.envName.charAt(e.envName.length-1)==="*"){var i=e.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),r=i.fetch().text,"lcr".indexOf(r)===-1)throw new Y("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),n.cols=[{type:"align",align:r}]}}var s=ei(e.parser,n,Ph(e.envName)),a=Math.max(0,...s.body.map(l=>l.length));return s.cols=new Array(a).fill({type:"align",align:r}),t?{type:"leftright",mode:e.mode,body:[s],left:t[0],right:t[1],rightColor:void 0}:s},htmlBuilder:Gr,mathmlBuilder:Kr});Wr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},r=ei(e.parser,t,"script");return r.colSeparationType="small",r},htmlBuilder:Gr,mathmlBuilder:Kr});Wr({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var r=c0(t[0]),n=r?[t[0]]:Se(t[0],"ordgroup").body,i=n.map(function(a){var l=Nh(a),o=l.text;if("lc".indexOf(o)!==-1)return{type:"align",align:o};throw new Y("Unknown column alignment: "+o,a)});if(i.length>1)throw new Y("{subarray} can contain only one column");var s={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(s=ei(e.parser,s,"script"),s.body.length>0&&s.body[0].length>1)throw new Y("{subarray} can contain only one column");return s},htmlBuilder:Gr,mathmlBuilder:Kr});Wr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},r=ei(e.parser,t,Ph(e.envName));return{type:"leftright",mode:e.mode,body:[r],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Gr,mathmlBuilder:Kr});Wr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:wy,htmlBuilder:Gr,mathmlBuilder:Kr});Wr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){fe.contains(["gather","gather*"],e.envName)&&f0(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Mh(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return ei(e.parser,t,"display")},htmlBuilder:Gr,mathmlBuilder:Kr});Wr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:wy,htmlBuilder:Gr,mathmlBuilder:Kr});Wr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){f0(e);var t={autoTag:Mh(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return ei(e.parser,t,"display")},htmlBuilder:Gr,mathmlBuilder:Kr});Wr({type:"array",names:["CD"],props:{numArgs:0},handler(e){return f0(e),DS(e.parser)},htmlBuilder:Gr,mathmlBuilder:Kr});S("\\nonumber","\\gdef\\@eqnsw{0}");S("\\notag","\\nonumber");re({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new Y(e.funcName+" valid only within array environment")}});var I1=vy;re({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];if(i.type!=="ordgroup")throw new Y("Invalid environment name",i);for(var s="",a=0;a<i.body.length;++a)s+=Se(i.body[a],"textord").text;if(n==="\\begin"){if(!I1.hasOwnProperty(s))throw new Y("No such environment: "+s,i);var l=I1[s],{args:o,optArgs:u}=r.parseArguments("\\begin{"+s+"}",l),d={mode:r.mode,envName:s,parser:r},h=l.handler(d,o,u);r.expect("\\end",!1);var m=r.nextToken,f=Se(r.parseFunction(),"environment");if(f.name!==s)throw new Y("Mismatch: \\begin{"+s+"} matched by \\end{"+f.name+"}",m);return h}return{type:"environment",mode:r.mode,name:s,nameGroup:i}}});var by=(e,t)=>{var r=e.font,n=t.withFont(r);return Ie(e.body,n)},ky=(e,t)=>{var r=e.font,n=t.withFont(r);return qe(e.body,n)},z1={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};re({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=Po(t[0]),s=n;return s in z1&&(s=z1[s]),{type:"font",mode:r.mode,font:s.slice(1),body:i}},htmlBuilder:by,mathmlBuilder:ky});re({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:r}=e,n=t[0],i=fe.isCharacterBox(n);return{type:"mclass",mode:r.mode,mclass:d0(n),body:[{type:"font",mode:r.mode,font:"boldsymbol",body:n}],isCharacterBox:i}}});re({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,breakOnTokenText:i}=e,{mode:s}=r,a=r.parseExpression(!0,i),l="math"+n.slice(1);return{type:"font",mode:s,font:l,body:{type:"ordgroup",mode:r.mode,body:a}}},htmlBuilder:by,mathmlBuilder:ky});var Sy=(e,t)=>{var r=t;return e==="display"?r=r.id>=pe.SCRIPT.id?r.text():pe.DISPLAY:e==="text"&&r.size===pe.DISPLAY.size?r=pe.TEXT:e==="script"?r=pe.SCRIPT:e==="scriptscript"&&(r=pe.SCRIPTSCRIPT),r},Ih=(e,t)=>{var r=Sy(e.size,t.style),n=r.fracNum(),i=r.fracDen(),s;s=t.havingStyle(n);var a=Ie(e.numer,s,t);if(e.continued){var l=8.5/t.fontMetrics().ptPerEm,o=3.5/t.fontMetrics().ptPerEm;a.height=a.height<l?l:a.height,a.depth=a.depth<o?o:a.depth}s=t.havingStyle(i);var u=Ie(e.denom,s,t),d,h,m;e.hasBarLine?(e.barSize?(h=rt(e.barSize,t),d=O.makeLineSpan("frac-line",t,h)):d=O.makeLineSpan("frac-line",t),h=d.height,m=d.height):(d=null,h=0,m=t.fontMetrics().defaultRuleThickness);var f,y,k;r.size===pe.DISPLAY.size||e.size==="display"?(f=t.fontMetrics().num1,h>0?y=3*m:y=7*m,k=t.fontMetrics().denom1):(h>0?(f=t.fontMetrics().num2,y=m):(f=t.fontMetrics().num3,y=3*m),k=t.fontMetrics().denom2);var N;if(d){var w=t.fontMetrics().axisHeight;f-a.depth-(w+.5*h)<y&&(f+=y-(f-a.depth-(w+.5*h))),w-.5*h-(u.height-k)<y&&(k+=y-(w-.5*h-(u.height-k)));var x=-(w-.5*h);N=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:k},{type:"elem",elem:d,shift:x},{type:"elem",elem:a,shift:-f}]},t)}else{var v=f-a.depth-(u.height-k);v<y&&(f+=.5*(y-v),k+=.5*(y-v)),N=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:k},{type:"elem",elem:a,shift:-f}]},t)}s=t.havingStyle(r),N.height*=s.sizeMultiplier/t.sizeMultiplier,N.depth*=s.sizeMultiplier/t.sizeMultiplier;var j;r.size===pe.DISPLAY.size?j=t.fontMetrics().delim1:r.size===pe.SCRIPTSCRIPT.size?j=t.havingStyle(pe.SCRIPT).fontMetrics().delim2:j=t.fontMetrics().delim2;var I,_;return e.leftDelim==null?I=za(t,["mopen"]):I=un.customSizedDelim(e.leftDelim,j,!0,t.havingStyle(r),e.mode,["mopen"]),e.continued?_=O.makeSpan([]):e.rightDelim==null?_=za(t,["mclose"]):_=un.customSizedDelim(e.rightDelim,j,!0,t.havingStyle(r),e.mode,["mclose"]),O.makeSpan(["mord"].concat(s.sizingClasses(t)),[I,O.makeSpan(["mfrac"],[N]),_],t)},zh=(e,t)=>{var r=new K.MathNode("mfrac",[qe(e.numer,t),qe(e.denom,t)]);if(!e.hasBarLine)r.setAttribute("linethickness","0px");else if(e.barSize){var n=rt(e.barSize,t);r.setAttribute("linethickness",ee(n))}var i=Sy(e.size,t.style);if(i.size!==t.style.size){r=new K.MathNode("mstyle",[r]);var s=i.size===pe.DISPLAY.size?"true":"false";r.setAttribute("displaystyle",s),r.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var a=[];if(e.leftDelim!=null){var l=new K.MathNode("mo",[new K.TextNode(e.leftDelim.replace("\\",""))]);l.setAttribute("fence","true"),a.push(l)}if(a.push(r),e.rightDelim!=null){var o=new K.MathNode("mo",[new K.TextNode(e.rightDelim.replace("\\",""))]);o.setAttribute("fence","true"),a.push(o)}return _h(a)}return r};re({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0],s=t[1],a,l=null,o=null,u="auto";switch(n){case"\\dfrac":case"\\frac":case"\\tfrac":a=!0;break;case"\\\\atopfrac":a=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":a=!1,l="(",o=")";break;case"\\\\bracefrac":a=!1,l="\\{",o="\\}";break;case"\\\\brackfrac":a=!1,l="[",o="]";break;default:throw new Error("Unrecognized genfrac command")}switch(n){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:r.mode,continued:!1,numer:i,denom:s,hasBarLine:a,leftDelim:l,rightDelim:o,size:u,barSize:null}},htmlBuilder:Ih,mathmlBuilder:zh});re({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0],s=t[1];return{type:"genfrac",mode:r.mode,continued:!0,numer:i,denom:s,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});re({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:r,token:n}=e,i;switch(r){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:i,token:n}}});var D1=["display","text","script","scriptscript"],O1=function(t){var r=null;return t.length>0&&(r=t,r=r==="."?null:r),r};re({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:r}=e,n=t[4],i=t[5],s=Po(t[0]),a=s.type==="atom"&&s.family==="open"?O1(s.text):null,l=Po(t[1]),o=l.type==="atom"&&l.family==="close"?O1(l.text):null,u=Se(t[2],"size"),d,h=null;u.isBlank?d=!0:(h=u.value,d=h.number>0);var m="auto",f=t[3];if(f.type==="ordgroup"){if(f.body.length>0){var y=Se(f.body[0],"textord");m=D1[Number(y.text)]}}else f=Se(f,"textord"),m=D1[Number(f.text)];return{type:"genfrac",mode:r.mode,numer:n,denom:i,continued:!1,hasBarLine:d,barSize:h,leftDelim:a,rightDelim:o,size:m}},htmlBuilder:Ih,mathmlBuilder:zh});re({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:r,funcName:n,token:i}=e;return{type:"infix",mode:r.mode,replaceWith:"\\\\abovefrac",size:Se(t[0],"size").value,token:i}}});re({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0],s=jk(Se(t[1],"infix").size),a=t[2],l=s.number>0;return{type:"genfrac",mode:r.mode,numer:i,denom:a,continued:!1,hasBarLine:l,barSize:s,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Ih,mathmlBuilder:zh});var _y=(e,t)=>{var r=t.style,n,i;e.type==="supsub"?(n=e.sup?Ie(e.sup,t.havingStyle(r.sup()),t):Ie(e.sub,t.havingStyle(r.sub()),t),i=Se(e.base,"horizBrace")):i=Se(e,"horizBrace");var s=Ie(i.base,t.havingBaseStyle(pe.DISPLAY)),a=gn.svgSpan(i,t),l;if(i.isOver?(l=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},t),l.children[0].children[0].children[1].classes.push("svg-align")):(l=O.makeVList({positionType:"bottom",positionData:s.depth+.1+a.height,children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},t),l.children[0].children[0].children[0].classes.push("svg-align")),n){var o=O.makeSpan(["mord",i.isOver?"mover":"munder"],[l],t);i.isOver?l=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.2},{type:"elem",elem:n}]},t):l=O.makeVList({positionType:"bottom",positionData:o.depth+.2+n.height+n.depth,children:[{type:"elem",elem:n},{type:"kern",size:.2},{type:"elem",elem:o}]},t)}return O.makeSpan(["mord",i.isOver?"mover":"munder"],[l],t)},QS=(e,t)=>{var r=gn.mathMLnode(e.label);return new K.MathNode(e.isOver?"mover":"munder",[qe(e.base,t),r])};re({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:r,funcName:n}=e;return{type:"horizBrace",mode:r.mode,label:n,isOver:/^\\over/.test(n),base:t[0]}},htmlBuilder:_y,mathmlBuilder:QS});re({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[1],i=Se(t[0],"url").url;return r.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:r.mode,href:i,body:ct(n)}:r.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var r=xt(e.body,t,!1);return O.makeAnchor(e.href,[],r,t)},mathmlBuilder:(e,t)=>{var r=Kn(e.body,t);return r instanceof ir||(r=new ir("mrow",[r])),r.setAttribute("href",e.href),r}});re({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=Se(t[0],"url").url;if(!r.settings.isTrusted({command:"\\url",url:n}))return r.formatUnsupportedCmd("\\url");for(var i=[],s=0;s<n.length;s++){var a=n[s];a==="~"&&(a="\\textasciitilde"),i.push({type:"textord",mode:"text",text:a})}var l={type:"text",mode:r.mode,font:"\\texttt",body:i};return{type:"href",mode:r.mode,href:n,body:ct(l)}}});re({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:r}=e;return{type:"hbox",mode:r.mode,body:ct(t[0])}},htmlBuilder(e,t){var r=xt(e.body,t,!1);return O.makeFragment(r)},mathmlBuilder(e,t){return new K.MathNode("mrow",Jt(e.body,t))}});re({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n,token:i}=e,s=Se(t[0],"raw").string,a=t[1];r.settings.strict&&r.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var l,o={};switch(n){case"\\htmlClass":o.class=s,l={command:"\\htmlClass",class:s};break;case"\\htmlId":o.id=s,l={command:"\\htmlId",id:s};break;case"\\htmlStyle":o.style=s,l={command:"\\htmlStyle",style:s};break;case"\\htmlData":{for(var u=s.split(","),d=0;d<u.length;d++){var h=u[d].split("=");if(h.length!==2)throw new Y("Error parsing key-value for \\htmlData");o["data-"+h[0].trim()]=h[1].trim()}l={command:"\\htmlData",attributes:o};break}default:throw new Error("Unrecognized html command")}return r.settings.isTrusted(l)?{type:"html",mode:r.mode,attributes:o,body:ct(a)}:r.formatUnsupportedCmd(n)},htmlBuilder:(e,t)=>{var r=xt(e.body,t,!1),n=["enclosing"];e.attributes.class&&n.push(...e.attributes.class.trim().split(/\s+/));var i=O.makeSpan(n,r,t);for(var s in e.attributes)s!=="class"&&e.attributes.hasOwnProperty(s)&&i.setAttribute(s,e.attributes[s]);return i},mathmlBuilder:(e,t)=>Kn(e.body,t)});re({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"htmlmathml",mode:r.mode,html:ct(t[0]),mathml:ct(t[1])}},htmlBuilder:(e,t)=>{var r=xt(e.html,t,!1);return O.makeFragment(r)},mathmlBuilder:(e,t)=>Kn(e.mathml,t)});var xu=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!r)throw new Y("Invalid size: '"+t+"' in \\includegraphics");var n={number:+(r[1]+r[2]),unit:r[3]};if(!U2(n))throw new Y("Invalid unit: '"+n.unit+"' in \\includegraphics.");return n};re({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,r)=>{var{parser:n}=e,i={number:0,unit:"em"},s={number:.9,unit:"em"},a={number:0,unit:"em"},l="";if(r[0])for(var o=Se(r[0],"raw").string,u=o.split(","),d=0;d<u.length;d++){var h=u[d].split("=");if(h.length===2){var m=h[1].trim();switch(h[0].trim()){case"alt":l=m;break;case"width":i=xu(m);break;case"height":s=xu(m);break;case"totalheight":a=xu(m);break;default:throw new Y("Invalid key: '"+h[0]+"' in \\includegraphics.")}}}var f=Se(t[0],"url").url;return l===""&&(l=f,l=l.replace(/^.*[\\/]/,""),l=l.substring(0,l.lastIndexOf("."))),n.settings.isTrusted({command:"\\includegraphics",url:f})?{type:"includegraphics",mode:n.mode,alt:l,width:i,height:s,totalheight:a,src:f}:n.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var r=rt(e.height,t),n=0;e.totalheight.number>0&&(n=rt(e.totalheight,t)-r);var i=0;e.width.number>0&&(i=rt(e.width,t));var s={height:ee(r+n)};i>0&&(s.width=ee(i)),n>0&&(s.verticalAlign=ee(-n));var a=new Qk(e.src,e.alt,s);return a.height=r,a.depth=n,a},mathmlBuilder:(e,t)=>{var r=new K.MathNode("mglyph",[]);r.setAttribute("alt",e.alt);var n=rt(e.height,t),i=0;if(e.totalheight.number>0&&(i=rt(e.totalheight,t)-n,r.setAttribute("valign",ee(-i))),r.setAttribute("height",ee(n+i)),e.width.number>0){var s=rt(e.width,t);r.setAttribute("width",ee(s))}return r.setAttribute("src",e.src),r}});re({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=Se(t[0],"size");if(r.settings.strict){var s=n[1]==="m",a=i.value.unit==="mu";s?(a||r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" supports only mu units, "+("not "+i.value.unit+" units")),r.mode!=="math"&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" works only in math mode")):a&&r.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+n+" doesn't support mu units")}return{type:"kern",mode:r.mode,dimension:i.value}},htmlBuilder(e,t){return O.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var r=rt(e.dimension,t);return new K.SpaceNode(r)}});re({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"lap",mode:r.mode,alignment:n.slice(5),body:i}},htmlBuilder:(e,t)=>{var r;e.alignment==="clap"?(r=O.makeSpan([],[Ie(e.body,t)]),r=O.makeSpan(["inner"],[r],t)):r=O.makeSpan(["inner"],[Ie(e.body,t)]);var n=O.makeSpan(["fix"],[]),i=O.makeSpan([e.alignment],[r,n],t),s=O.makeSpan(["strut"]);return s.style.height=ee(i.height+i.depth),i.depth&&(s.style.verticalAlign=ee(-i.depth)),i.children.unshift(s),i=O.makeSpan(["thinbox"],[i],t),O.makeSpan(["mord","vbox"],[i],t)},mathmlBuilder:(e,t)=>{var r=new K.MathNode("mpadded",[qe(e.body,t)]);if(e.alignment!=="rlap"){var n=e.alignment==="llap"?"-1":"-0.5";r.setAttribute("lspace",n+"width")}return r.setAttribute("width","0px"),r}});re({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:r,parser:n}=e,i=n.mode;n.switchMode("math");var s=r==="\\("?"\\)":"$",a=n.parseExpression(!1,s);return n.expect(s),n.switchMode(i),{type:"styling",mode:n.mode,style:"text",body:a}}});re({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new Y("Mismatched "+e.funcName)}});var L1=(e,t)=>{switch(t.style.size){case pe.DISPLAY.size:return e.display;case pe.TEXT.size:return e.text;case pe.SCRIPT.size:return e.script;case pe.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};re({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:r}=e;return{type:"mathchoice",mode:r.mode,display:ct(t[0]),text:ct(t[1]),script:ct(t[2]),scriptscript:ct(t[3])}},htmlBuilder:(e,t)=>{var r=L1(e,t),n=xt(r,t,!1);return O.makeFragment(n)},mathmlBuilder:(e,t)=>{var r=L1(e,t);return Kn(r,t)}});var jy=(e,t,r,n,i,s,a)=>{e=O.makeSpan([],[e]);var l=r&&fe.isCharacterBox(r),o,u;if(t){var d=Ie(t,n.havingStyle(i.sup()),n);u={elem:d,kern:Math.max(n.fontMetrics().bigOpSpacing1,n.fontMetrics().bigOpSpacing3-d.depth)}}if(r){var h=Ie(r,n.havingStyle(i.sub()),n);o={elem:h,kern:Math.max(n.fontMetrics().bigOpSpacing2,n.fontMetrics().bigOpSpacing4-h.height)}}var m;if(u&&o){var f=n.fontMetrics().bigOpSpacing5+o.elem.height+o.elem.depth+o.kern+e.depth+a;m=O.makeVList({positionType:"bottom",positionData:f,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:o.elem,marginLeft:ee(-s)},{type:"kern",size:o.kern},{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ee(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else if(o){var y=e.height-a;m=O.makeVList({positionType:"top",positionData:y,children:[{type:"kern",size:n.fontMetrics().bigOpSpacing5},{type:"elem",elem:o.elem,marginLeft:ee(-s)},{type:"kern",size:o.kern},{type:"elem",elem:e}]},n)}else if(u){var k=e.depth+a;m=O.makeVList({positionType:"bottom",positionData:k,children:[{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ee(s)},{type:"kern",size:n.fontMetrics().bigOpSpacing5}]},n)}else return e;var N=[m];if(o&&s!==0&&!l){var v=O.makeSpan(["mspace"],[],n);v.style.marginRight=ee(s),N.unshift(v)}return O.makeSpan(["mop","op-limits"],N,n)},Ny=["\\smallint"],Ps=(e,t)=>{var r,n,i=!1,s;e.type==="supsub"?(r=e.sup,n=e.sub,s=Se(e.base,"op"),i=!0):s=Se(e,"op");var a=t.style,l=!1;a.size===pe.DISPLAY.size&&s.symbol&&!fe.contains(Ny,s.name)&&(l=!0);var o;if(s.symbol){var u=l?"Size2-Regular":"Size1-Regular",d="";if((s.name==="\\oiint"||s.name==="\\oiiint")&&(d=s.name.slice(1),s.name=d==="oiint"?"\\iint":"\\iiint"),o=O.makeSymbol(s.name,u,"math",t,["mop","op-symbol",l?"large-op":"small-op"]),d.length>0){var h=o.italic,m=O.staticSvg(d+"Size"+(l?"2":"1"),t);o=O.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:0},{type:"elem",elem:m,shift:l?.08:0}]},t),s.name="\\"+d,o.classes.unshift("mop"),o.italic=h}}else if(s.body){var f=xt(s.body,t,!0);f.length===1&&f[0]instanceof br?(o=f[0],o.classes[0]="mop"):o=O.makeSpan(["mop"],f,t)}else{for(var y=[],k=1;k<s.name.length;k++)y.push(O.mathsym(s.name[k],s.mode,t));o=O.makeSpan(["mop"],y,t)}var N=0,v=0;return(o instanceof br||s.name==="\\oiint"||s.name==="\\oiiint")&&!s.suppressBaseShift&&(N=(o.height-o.depth)/2-t.fontMetrics().axisHeight,v=o.italic),i?jy(o,r,n,t,a,v,N):(N&&(o.style.position="relative",o.style.top=ee(N)),o)},Ja=(e,t)=>{var r;if(e.symbol)r=new ir("mo",[kr(e.name,e.mode)]),fe.contains(Ny,e.name)&&r.setAttribute("largeop","false");else if(e.body)r=new ir("mo",Jt(e.body,t));else{r=new ir("mi",[new Ur(e.name.slice(1))]);var n=new ir("mo",[kr("⁡","text")]);e.parentIsSupSub?r=new ir("mrow",[r,n]):r=ey([r,n])}return r},XS={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};re({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=n;return i.length===1&&(i=XS[i]),{type:"op",mode:r.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Ps,mathmlBuilder:Ja});re({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"op",mode:r.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ct(n)}},htmlBuilder:Ps,mathmlBuilder:Ja});var JS={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};re({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Ps,mathmlBuilder:Ja});re({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:r}},htmlBuilder:Ps,mathmlBuilder:Ja});re({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:r}=e,n=r;return n.length===1&&(n=JS[n]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:n}},htmlBuilder:Ps,mathmlBuilder:Ja});var Cy=(e,t)=>{var r,n,i=!1,s;e.type==="supsub"?(r=e.sup,n=e.sub,s=Se(e.base,"operatorname"),i=!0):s=Se(e,"operatorname");var a;if(s.body.length>0){for(var l=s.body.map(h=>{var m=h.text;return typeof m=="string"?{type:"textord",mode:h.mode,text:m}:h}),o=xt(l,t.withFont("mathrm"),!0),u=0;u<o.length;u++){var d=o[u];d instanceof br&&(d.text=d.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}a=O.makeSpan(["mop"],o,t)}else a=O.makeSpan(["mop"],[],t);return i?jy(a,r,n,t,t.style,0,0):a},ZS=(e,t)=>{for(var r=Jt(e.body,t.withFont("mathrm")),n=!0,i=0;i<r.length;i++){var s=r[i];if(!(s instanceof K.SpaceNode))if(s instanceof K.MathNode)switch(s.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var a=s.children[0];s.children.length===1&&a instanceof K.TextNode?a.text=a.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):n=!1;break}default:n=!1}else n=!1}if(n){var l=r.map(d=>d.toText()).join("");r=[new K.TextNode(l)]}var o=new K.MathNode("mi",r);o.setAttribute("mathvariant","normal");var u=new K.MathNode("mo",[kr("⁡","text")]);return e.parentIsSupSub?new K.MathNode("mrow",[o,u]):K.newDocumentFragment([o,u])};re({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:r,funcName:n}=e,i=t[0];return{type:"operatorname",mode:r.mode,body:ct(i),alwaysHandleSupSub:n==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Cy,mathmlBuilder:ZS});S("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Ti({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?O.makeFragment(xt(e.body,t,!1)):O.makeSpan(["mord"],xt(e.body,t,!0),t)},mathmlBuilder(e,t){return Kn(e.body,t,!0)}});re({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:r}=e,n=t[0];return{type:"overline",mode:r.mode,body:n}},htmlBuilder(e,t){var r=Ie(e.body,t.havingCrampedStyle()),n=O.makeLineSpan("overline-line",t),i=t.fontMetrics().defaultRuleThickness,s=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n},{type:"kern",size:i}]},t);return O.makeSpan(["mord","overline"],[s],t)},mathmlBuilder(e,t){var r=new K.MathNode("mo",[new K.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new K.MathNode("mover",[qe(e.body,t),r]);return n.setAttribute("accent","true"),n}});re({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"phantom",mode:r.mode,body:ct(n)}},htmlBuilder:(e,t)=>{var r=xt(e.body,t.withPhantom(),!1);return O.makeFragment(r)},mathmlBuilder:(e,t)=>{var r=Jt(e.body,t);return new K.MathNode("mphantom",r)}});re({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"hphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=O.makeSpan([],[Ie(e.body,t.withPhantom())]);if(r.height=0,r.depth=0,r.children)for(var n=0;n<r.children.length;n++)r.children[n].height=0,r.children[n].depth=0;return r=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t),O.makeSpan(["mord"],[r],t)},mathmlBuilder:(e,t)=>{var r=Jt(ct(e.body),t),n=new K.MathNode("mphantom",r),i=new K.MathNode("mpadded",[n]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});re({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:r}=e,n=t[0];return{type:"vphantom",mode:r.mode,body:n}},htmlBuilder:(e,t)=>{var r=O.makeSpan(["inner"],[Ie(e.body,t.withPhantom())]),n=O.makeSpan(["fix"],[]);return O.makeSpan(["mord","rlap"],[r,n],t)},mathmlBuilder:(e,t)=>{var r=Jt(ct(e.body),t),n=new K.MathNode("mphantom",r),i=new K.MathNode("mpadded",[n]);return i.setAttribute("width","0px"),i}});re({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:r}=e,n=Se(t[0],"size").value,i=t[1];return{type:"raisebox",mode:r.mode,dy:n,body:i}},htmlBuilder(e,t){var r=Ie(e.body,t),n=rt(e.dy,t);return O.makeVList({positionType:"shift",positionData:-n,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){var r=new K.MathNode("mpadded",[qe(e.body,t)]),n=e.dy.number+e.dy.unit;return r.setAttribute("voffset",n),r}});re({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});re({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,r){var{parser:n}=e,i=r[0],s=Se(t[0],"size"),a=Se(t[1],"size");return{type:"rule",mode:n.mode,shift:i&&Se(i,"size").value,width:s.value,height:a.value}},htmlBuilder(e,t){var r=O.makeSpan(["mord","rule"],[],t),n=rt(e.width,t),i=rt(e.height,t),s=e.shift?rt(e.shift,t):0;return r.style.borderRightWidth=ee(n),r.style.borderTopWidth=ee(i),r.style.bottom=ee(s),r.width=n,r.height=i+s,r.depth=-s,r.maxFontSize=i*1.125*t.sizeMultiplier,r},mathmlBuilder(e,t){var r=rt(e.width,t),n=rt(e.height,t),i=e.shift?rt(e.shift,t):0,s=t.color&&t.getColor()||"black",a=new K.MathNode("mspace");a.setAttribute("mathbackground",s),a.setAttribute("width",ee(r)),a.setAttribute("height",ee(n));var l=new K.MathNode("mpadded",[a]);return i>=0?l.setAttribute("height",ee(i)):(l.setAttribute("height",ee(i)),l.setAttribute("depth",ee(-i))),l.setAttribute("voffset",ee(i)),l}});function Ey(e,t,r){for(var n=xt(e,t,!1),i=t.sizeMultiplier/r.sizeMultiplier,s=0;s<n.length;s++){var a=n[s].classes.indexOf("sizing");a<0?Array.prototype.push.apply(n[s].classes,t.sizingClasses(r)):n[s].classes[a+1]==="reset-size"+t.size&&(n[s].classes[a+1]="reset-size"+r.size),n[s].height*=i,n[s].depth*=i}return O.makeFragment(n)}var R1=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],e_=(e,t)=>{var r=t.havingSize(e.size);return Ey(e.body,r,t)};re({type:"sizing",names:R1,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:r,funcName:n,parser:i}=e,s=i.parseExpression(!1,r);return{type:"sizing",mode:i.mode,size:R1.indexOf(n)+1,body:s}},htmlBuilder:e_,mathmlBuilder:(e,t)=>{var r=t.havingSize(e.size),n=Jt(e.body,r),i=new K.MathNode("mstyle",n);return i.setAttribute("mathsize",ee(r.sizeMultiplier)),i}});re({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,r)=>{var{parser:n}=e,i=!1,s=!1,a=r[0]&&Se(r[0],"ordgroup");if(a)for(var l="",o=0;o<a.body.length;++o){var u=a.body[o];if(l=u.text,l==="t")i=!0;else if(l==="b")s=!0;else{i=!1,s=!1;break}}else i=!0,s=!0;var d=t[0];return{type:"smash",mode:n.mode,body:d,smashHeight:i,smashDepth:s}},htmlBuilder:(e,t)=>{var r=O.makeSpan([],[Ie(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return r;if(e.smashHeight&&(r.height=0,r.children))for(var n=0;n<r.children.length;n++)r.children[n].height=0;if(e.smashDepth&&(r.depth=0,r.children))for(var i=0;i<r.children.length;i++)r.children[i].depth=0;var s=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r}]},t);return O.makeSpan(["mord"],[s],t)},mathmlBuilder:(e,t)=>{var r=new K.MathNode("mpadded",[qe(e.body,t)]);return e.smashHeight&&r.setAttribute("height","0px"),e.smashDepth&&r.setAttribute("depth","0px"),r}});re({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,r){var{parser:n}=e,i=r[0],s=t[0];return{type:"sqrt",mode:n.mode,body:s,index:i}},htmlBuilder(e,t){var r=Ie(e.body,t.havingCrampedStyle());r.height===0&&(r.height=t.fontMetrics().xHeight),r=O.wrapFragment(r,t);var n=t.fontMetrics(),i=n.defaultRuleThickness,s=i;t.style.id<pe.TEXT.id&&(s=t.fontMetrics().xHeight);var a=i+s/4,l=r.height+r.depth+a+i,{span:o,ruleWidth:u,advanceWidth:d}=un.sqrtImage(l,t),h=o.height-u;h>r.height+r.depth+a&&(a=(a+h-r.height-r.depth)/2);var m=o.height-r.height-a-u;r.style.paddingLeft=ee(d);var f=O.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:-(r.height+m)},{type:"elem",elem:o},{type:"kern",size:u}]},t);if(e.index){var y=t.havingStyle(pe.SCRIPTSCRIPT),k=Ie(e.index,y,t),N=.6*(f.height-f.depth),v=O.makeVList({positionType:"shift",positionData:-N,children:[{type:"elem",elem:k}]},t),w=O.makeSpan(["root"],[v]);return O.makeSpan(["mord","sqrt"],[w,f],t)}else return O.makeSpan(["mord","sqrt"],[f],t)},mathmlBuilder(e,t){var{body:r,index:n}=e;return n?new K.MathNode("mroot",[qe(r,t),qe(n,t)]):new K.MathNode("msqrt",[qe(r,t)])}});var F1={display:pe.DISPLAY,text:pe.TEXT,script:pe.SCRIPT,scriptscript:pe.SCRIPTSCRIPT};re({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:r,funcName:n,parser:i}=e,s=i.parseExpression(!0,r),a=n.slice(1,n.length-5);return{type:"styling",mode:i.mode,style:a,body:s}},htmlBuilder(e,t){var r=F1[e.style],n=t.havingStyle(r).withFont("");return Ey(e.body,n,t)},mathmlBuilder(e,t){var r=F1[e.style],n=t.havingStyle(r),i=Jt(e.body,n),s=new K.MathNode("mstyle",i),a={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},l=a[e.style];return s.setAttribute("scriptlevel",l[0]),s.setAttribute("displaystyle",l[1]),s}});var t_=function(t,r){var n=t.base;if(n)if(n.type==="op"){var i=n.limits&&(r.style.size===pe.DISPLAY.size||n.alwaysHandleSupSub);return i?Ps:null}else if(n.type==="operatorname"){var s=n.alwaysHandleSupSub&&(r.style.size===pe.DISPLAY.size||n.limits);return s?Cy:null}else{if(n.type==="accent")return fe.isCharacterBox(n.base)?Ch:null;if(n.type==="horizBrace"){var a=!t.sub;return a===n.isOver?_y:null}else return null}else return null};Ti({type:"supsub",htmlBuilder(e,t){var r=t_(e,t);if(r)return r(e,t);var{base:n,sup:i,sub:s}=e,a=Ie(n,t),l,o,u=t.fontMetrics(),d=0,h=0,m=n&&fe.isCharacterBox(n);if(i){var f=t.havingStyle(t.style.sup());l=Ie(i,f,t),m||(d=a.height-f.fontMetrics().supDrop*f.sizeMultiplier/t.sizeMultiplier)}if(s){var y=t.havingStyle(t.style.sub());o=Ie(s,y,t),m||(h=a.depth+y.fontMetrics().subDrop*y.sizeMultiplier/t.sizeMultiplier)}var k;t.style===pe.DISPLAY?k=u.sup1:t.style.cramped?k=u.sup3:k=u.sup2;var N=t.sizeMultiplier,v=ee(.5/u.ptPerEm/N),w=null;if(o){var x=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(a instanceof br||x)&&(w=ee(-a.italic))}var j;if(l&&o){d=Math.max(d,k,l.depth+.25*u.xHeight),h=Math.max(h,u.sub2);var I=u.defaultRuleThickness,_=4*I;if(d-l.depth-(o.height-h)<_){h=_-(d-l.depth)+o.height;var z=.8*u.xHeight-(d-l.depth);z>0&&(d+=z,h-=z)}var R=[{type:"elem",elem:o,shift:h,marginRight:v,marginLeft:w},{type:"elem",elem:l,shift:-d,marginRight:v}];j=O.makeVList({positionType:"individualShift",children:R},t)}else if(o){h=Math.max(h,u.sub1,o.height-.8*u.xHeight);var q=[{type:"elem",elem:o,marginLeft:w,marginRight:v}];j=O.makeVList({positionType:"shift",positionData:h,children:q},t)}else if(l)d=Math.max(d,k,l.depth+.25*u.xHeight),j=O.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:l,marginRight:v}]},t);else throw new Error("supsub must have either sup or sub.");var M=Qc(a,"right")||"mord";return O.makeSpan([M],[a,O.makeSpan(["msupsub"],[j])],t)},mathmlBuilder(e,t){var r=!1,n,i;e.base&&e.base.type==="horizBrace"&&(i=!!e.sup,i===e.base.isOver&&(r=!0,n=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var s=[qe(e.base,t)];e.sub&&s.push(qe(e.sub,t)),e.sup&&s.push(qe(e.sup,t));var a;if(r)a=n?"mover":"munder";else if(e.sub)if(e.sup){var u=e.base;u&&u.type==="op"&&u.limits&&t.style===pe.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===pe.DISPLAY||u.limits)?a="munderover":a="msubsup"}else{var o=e.base;o&&o.type==="op"&&o.limits&&(t.style===pe.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||t.style===pe.DISPLAY)?a="munder":a="msub"}else{var l=e.base;l&&l.type==="op"&&l.limits&&(t.style===pe.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===pe.DISPLAY)?a="mover":a="msup"}return new K.MathNode(a,s)}});Ti({type:"atom",htmlBuilder(e,t){return O.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var r=new K.MathNode("mo",[kr(e.text,e.mode)]);if(e.family==="bin"){var n=jh(e,t);n==="bold-italic"&&r.setAttribute("mathvariant",n)}else e.family==="punct"?r.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&r.setAttribute("stretchy","false");return r}});var Ty={mi:"italic",mn:"normal",mtext:"normal"};Ti({type:"mathord",htmlBuilder(e,t){return O.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var r=new K.MathNode("mi",[kr(e.text,e.mode,t)]),n=jh(e,t)||"italic";return n!==Ty[r.type]&&r.setAttribute("mathvariant",n),r}});Ti({type:"textord",htmlBuilder(e,t){return O.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var r=kr(e.text,e.mode,t),n=jh(e,t)||"normal",i;return e.mode==="text"?i=new K.MathNode("mtext",[r]):/[0-9]/.test(e.text)?i=new K.MathNode("mn",[r]):e.text==="\\prime"?i=new K.MathNode("mo",[r]):i=new K.MathNode("mi",[r]),n!==Ty[i.type]&&i.setAttribute("mathvariant",n),i}});var wu={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},bu={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Ti({type:"spacing",htmlBuilder(e,t){if(bu.hasOwnProperty(e.text)){var r=bu[e.text].className||"";if(e.mode==="text"){var n=O.makeOrd(e,t,"textord");return n.classes.push(r),n}else return O.makeSpan(["mspace",r],[O.mathsym(e.text,e.mode,t)],t)}else{if(wu.hasOwnProperty(e.text))return O.makeSpan(["mspace",wu[e.text]],[],t);throw new Y('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var r;if(bu.hasOwnProperty(e.text))r=new K.MathNode("mtext",[new K.TextNode(" ")]);else{if(wu.hasOwnProperty(e.text))return new K.MathNode("mspace");throw new Y('Unknown type of space "'+e.text+'"')}return r}});var B1=()=>{var e=new K.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};Ti({type:"tag",mathmlBuilder(e,t){var r=new K.MathNode("mtable",[new K.MathNode("mtr",[B1(),new K.MathNode("mtd",[Kn(e.body,t)]),B1(),new K.MathNode("mtd",[Kn(e.tag,t)])])]);return r.setAttribute("width","100%"),r}});var $1={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},q1={"\\textbf":"textbf","\\textmd":"textmd"},r_={"\\textit":"textit","\\textup":"textup"},U1=(e,t)=>{var r=e.font;if(r){if($1[r])return t.withTextFontFamily($1[r]);if(q1[r])return t.withTextFontWeight(q1[r]);if(r==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(r_[r])};re({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:r,funcName:n}=e,i=t[0];return{type:"text",mode:r.mode,body:ct(i),font:n}},htmlBuilder(e,t){var r=U1(e,t),n=xt(e.body,r,!0);return O.makeSpan(["mord","text"],n,r)},mathmlBuilder(e,t){var r=U1(e,t);return Kn(e.body,r)}});re({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:r}=e;return{type:"underline",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=Ie(e.body,t),n=O.makeLineSpan("underline-line",t),i=t.fontMetrics().defaultRuleThickness,s=O.makeVList({positionType:"top",positionData:r.height,children:[{type:"kern",size:i},{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r}]},t);return O.makeSpan(["mord","underline"],[s],t)},mathmlBuilder(e,t){var r=new K.MathNode("mo",[new K.TextNode("‾")]);r.setAttribute("stretchy","true");var n=new K.MathNode("munder",[qe(e.body,t),r]);return n.setAttribute("accentunder","true"),n}});re({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:r}=e;return{type:"vcenter",mode:r.mode,body:t[0]}},htmlBuilder(e,t){var r=Ie(e.body,t),n=t.fontMetrics().axisHeight,i=.5*(r.height-n-(r.depth+n));return O.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:r}]},t)},mathmlBuilder(e,t){return new K.MathNode("mpadded",[qe(e.body,t)],["vcenter"])}});re({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,r){throw new Y("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var r=H1(e),n=[],i=t.havingStyle(t.style.text()),s=0;s<r.length;s++){var a=r[s];a==="~"&&(a="\\textasciitilde"),n.push(O.makeSymbol(a,"Typewriter-Regular",e.mode,i,["mord","texttt"]))}return O.makeSpan(["mord","text"].concat(i.sizingClasses(t)),O.tryCombineChars(n),i)},mathmlBuilder(e,t){var r=new K.TextNode(H1(e)),n=new K.MathNode("mtext",[r]);return n.setAttribute("mathvariant","monospace"),n}});var H1=e=>e.body.replace(/ /g,e.star?"␣":" "),zn=J2,Ay=`[ \r
	]`,n_="\\\\[a-zA-Z@]+",i_="\\\\[^\uD800-\uDFFF]",s_="("+n_+")"+Ay+"*",a_=`\\\\(
|[ \r	]+
?)[ \r	]*`,ed="[̀-ͯ]",l_=new RegExp(ed+"+$"),o_="("+Ay+"+)|"+(a_+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(ed+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(ed+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+s_)+("|"+i_+")");class V1{constructor(t,r){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=r,this.tokenRegex=new RegExp(o_,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,r){this.catcodes[t]=r}lex(){var t=this.input,r=this.tokenRegex.lastIndex;if(r===t.length)return new vr("EOF",new nr(this,r,r));var n=this.tokenRegex.exec(t);if(n===null||n.index!==r)throw new Y("Unexpected character: '"+t[r]+"'",new vr(t[r],new nr(this,r,r+1)));var i=n[6]||n[3]||(n[2]?"\\ ":" ");if(this.catcodes[i]===14){var s=t.indexOf(`
`,this.tokenRegex.lastIndex);return s===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=s+1,this.lex()}return new vr(i,new nr(this,r,this.tokenRegex.lastIndex))}}class u_{constructor(t,r){t===void 0&&(t={}),r===void 0&&(r={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=r,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new Y("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var r in t)t.hasOwnProperty(r)&&(t[r]==null?delete this.current[r]:this.current[r]=t[r])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,r,n){if(n===void 0&&(n=!1),n){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=r)}else{var s=this.undefStack[this.undefStack.length-1];s&&!s.hasOwnProperty(t)&&(s[t]=this.current[t])}r==null?delete this.current[t]:this.current[t]=r}}var c_=xy;S("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});S("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});S("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});S("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});S("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var r=e.future();return t[0].length===1&&t[0][0].text===r.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});S("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");S("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var W1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};S("\\char",function(e){var t=e.popToken(),r,n="";if(t.text==="'")r=8,t=e.popToken();else if(t.text==='"')r=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")n=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new Y("\\char` missing argument");n=t.text.charCodeAt(0)}else r=10;if(r){if(n=W1[t.text],n==null||n>=r)throw new Y("Invalid base-"+r+" digit "+t.text);for(var i;(i=W1[e.future().text])!=null&&i<r;)n*=r,n+=i,e.popToken()}return"\\@char{"+n+"}"});var Dh=(e,t,r,n)=>{var i=e.consumeArg().tokens;if(i.length!==1)throw new Y("\\newcommand's first argument must be a macro name");var s=i[0].text,a=e.isDefined(s);if(a&&!t)throw new Y("\\newcommand{"+s+"} attempting to redefine "+(s+"; use \\renewcommand"));if(!a&&!r)throw new Y("\\renewcommand{"+s+"} when command "+s+" does not yet exist; use \\newcommand");var l=0;if(i=e.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var o="",u=e.expandNextToken();u.text!=="]"&&u.text!=="EOF";)o+=u.text,u=e.expandNextToken();if(!o.match(/^\s*[0-9]+\s*$/))throw new Y("Invalid number of arguments: "+o);l=parseInt(o),i=e.consumeArg().tokens}return a&&n||e.macros.set(s,{tokens:i,numArgs:l}),""};S("\\newcommand",e=>Dh(e,!1,!0,!1));S("\\renewcommand",e=>Dh(e,!0,!1,!1));S("\\providecommand",e=>Dh(e,!0,!0,!0));S("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(r=>r.text).join("")),""});S("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(r=>r.text).join("")),""});S("\\show",e=>{var t=e.popToken(),r=t.text;return console.log(t,e.macros.get(r),zn[r],We.math[r],We.text[r]),""});S("\\bgroup","{");S("\\egroup","}");S("~","\\nobreakspace");S("\\lq","`");S("\\rq","'");S("\\aa","\\r a");S("\\AA","\\r A");S("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");S("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");S("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");S("ℬ","\\mathscr{B}");S("ℰ","\\mathscr{E}");S("ℱ","\\mathscr{F}");S("ℋ","\\mathscr{H}");S("ℐ","\\mathscr{I}");S("ℒ","\\mathscr{L}");S("ℳ","\\mathscr{M}");S("ℛ","\\mathscr{R}");S("ℭ","\\mathfrak{C}");S("ℌ","\\mathfrak{H}");S("ℨ","\\mathfrak{Z}");S("\\Bbbk","\\Bbb{k}");S("·","\\cdotp");S("\\llap","\\mathllap{\\textrm{#1}}");S("\\rlap","\\mathrlap{\\textrm{#1}}");S("\\clap","\\mathclap{\\textrm{#1}}");S("\\mathstrut","\\vphantom{(}");S("\\underbar","\\underline{\\text{#1}}");S("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');S("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");S("\\ne","\\neq");S("≠","\\neq");S("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");S("∉","\\notin");S("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");S("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");S("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");S("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");S("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");S("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");S("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");S("⟂","\\perp");S("‼","\\mathclose{!\\mkern-0.8mu!}");S("∌","\\notni");S("⌜","\\ulcorner");S("⌝","\\urcorner");S("⌞","\\llcorner");S("⌟","\\lrcorner");S("©","\\copyright");S("®","\\textregistered");S("️","\\textregistered");S("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');S("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');S("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');S("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');S("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");S("⋮","\\vdots");S("\\varGamma","\\mathit{\\Gamma}");S("\\varDelta","\\mathit{\\Delta}");S("\\varTheta","\\mathit{\\Theta}");S("\\varLambda","\\mathit{\\Lambda}");S("\\varXi","\\mathit{\\Xi}");S("\\varPi","\\mathit{\\Pi}");S("\\varSigma","\\mathit{\\Sigma}");S("\\varUpsilon","\\mathit{\\Upsilon}");S("\\varPhi","\\mathit{\\Phi}");S("\\varPsi","\\mathit{\\Psi}");S("\\varOmega","\\mathit{\\Omega}");S("\\substack","\\begin{subarray}{c}#1\\end{subarray}");S("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");S("\\boxed","\\fbox{$\\displaystyle{#1}$}");S("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");S("\\implies","\\DOTSB\\;\\Longrightarrow\\;");S("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");S("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");S("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var G1={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};S("\\dots",function(e){var t="\\dotso",r=e.expandAfterFuture().text;return r in G1?t=G1[r]:(r.slice(0,4)==="\\not"||r in We.math&&fe.contains(["bin","rel"],We.math[r].group))&&(t="\\dotsb"),t});var Oh={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};S("\\dotso",function(e){var t=e.future().text;return t in Oh?"\\ldots\\,":"\\ldots"});S("\\dotsc",function(e){var t=e.future().text;return t in Oh&&t!==","?"\\ldots\\,":"\\ldots"});S("\\cdots",function(e){var t=e.future().text;return t in Oh?"\\@cdots\\,":"\\@cdots"});S("\\dotsb","\\cdots");S("\\dotsm","\\cdots");S("\\dotsi","\\!\\cdots");S("\\dotsx","\\ldots\\,");S("\\DOTSI","\\relax");S("\\DOTSB","\\relax");S("\\DOTSX","\\relax");S("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");S("\\,","\\tmspace+{3mu}{.1667em}");S("\\thinspace","\\,");S("\\>","\\mskip{4mu}");S("\\:","\\tmspace+{4mu}{.2222em}");S("\\medspace","\\:");S("\\;","\\tmspace+{5mu}{.2777em}");S("\\thickspace","\\;");S("\\!","\\tmspace-{3mu}{.1667em}");S("\\negthinspace","\\!");S("\\negmedspace","\\tmspace-{4mu}{.2222em}");S("\\negthickspace","\\tmspace-{5mu}{.277em}");S("\\enspace","\\kern.5em ");S("\\enskip","\\hskip.5em\\relax");S("\\quad","\\hskip1em\\relax");S("\\qquad","\\hskip2em\\relax");S("\\tag","\\@ifstar\\tag@literal\\tag@paren");S("\\tag@paren","\\tag@literal{({#1})}");S("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new Y("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});S("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");S("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");S("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");S("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");S("\\newline","\\\\\\relax");S("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var My=ee(qr["Main-Regular"][84][1]-.7*qr["Main-Regular"][65][1]);S("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+My+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");S("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+My+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");S("\\hspace","\\@ifstar\\@hspacer\\@hspace");S("\\@hspace","\\hskip #1\\relax");S("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");S("\\ordinarycolon",":");S("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");S("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');S("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');S("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');S("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');S("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');S("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');S("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');S("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');S("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');S("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');S("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');S("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');S("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');S("∷","\\dblcolon");S("∹","\\eqcolon");S("≔","\\coloneqq");S("≕","\\eqqcolon");S("⩴","\\Coloneqq");S("\\ratio","\\vcentcolon");S("\\coloncolon","\\dblcolon");S("\\colonequals","\\coloneqq");S("\\coloncolonequals","\\Coloneqq");S("\\equalscolon","\\eqqcolon");S("\\equalscoloncolon","\\Eqqcolon");S("\\colonminus","\\coloneq");S("\\coloncolonminus","\\Coloneq");S("\\minuscolon","\\eqcolon");S("\\minuscoloncolon","\\Eqcolon");S("\\coloncolonapprox","\\Colonapprox");S("\\coloncolonsim","\\Colonsim");S("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");S("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");S("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");S("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");S("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");S("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");S("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");S("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");S("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");S("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");S("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");S("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");S("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");S("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");S("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");S("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");S("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");S("\\nleqq","\\html@mathml{\\@nleqq}{≰}");S("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");S("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");S("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");S("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");S("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");S("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");S("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");S("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");S("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");S("\\imath","\\html@mathml{\\@imath}{ı}");S("\\jmath","\\html@mathml{\\@jmath}{ȷ}");S("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");S("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");S("⟦","\\llbracket");S("⟧","\\rrbracket");S("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");S("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");S("⦃","\\lBrace");S("⦄","\\rBrace");S("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");S("⦵","\\minuso");S("\\darr","\\downarrow");S("\\dArr","\\Downarrow");S("\\Darr","\\Downarrow");S("\\lang","\\langle");S("\\rang","\\rangle");S("\\uarr","\\uparrow");S("\\uArr","\\Uparrow");S("\\Uarr","\\Uparrow");S("\\N","\\mathbb{N}");S("\\R","\\mathbb{R}");S("\\Z","\\mathbb{Z}");S("\\alef","\\aleph");S("\\alefsym","\\aleph");S("\\Alpha","\\mathrm{A}");S("\\Beta","\\mathrm{B}");S("\\bull","\\bullet");S("\\Chi","\\mathrm{X}");S("\\clubs","\\clubsuit");S("\\cnums","\\mathbb{C}");S("\\Complex","\\mathbb{C}");S("\\Dagger","\\ddagger");S("\\diamonds","\\diamondsuit");S("\\empty","\\emptyset");S("\\Epsilon","\\mathrm{E}");S("\\Eta","\\mathrm{H}");S("\\exist","\\exists");S("\\harr","\\leftrightarrow");S("\\hArr","\\Leftrightarrow");S("\\Harr","\\Leftrightarrow");S("\\hearts","\\heartsuit");S("\\image","\\Im");S("\\infin","\\infty");S("\\Iota","\\mathrm{I}");S("\\isin","\\in");S("\\Kappa","\\mathrm{K}");S("\\larr","\\leftarrow");S("\\lArr","\\Leftarrow");S("\\Larr","\\Leftarrow");S("\\lrarr","\\leftrightarrow");S("\\lrArr","\\Leftrightarrow");S("\\Lrarr","\\Leftrightarrow");S("\\Mu","\\mathrm{M}");S("\\natnums","\\mathbb{N}");S("\\Nu","\\mathrm{N}");S("\\Omicron","\\mathrm{O}");S("\\plusmn","\\pm");S("\\rarr","\\rightarrow");S("\\rArr","\\Rightarrow");S("\\Rarr","\\Rightarrow");S("\\real","\\Re");S("\\reals","\\mathbb{R}");S("\\Reals","\\mathbb{R}");S("\\Rho","\\mathrm{P}");S("\\sdot","\\cdot");S("\\sect","\\S");S("\\spades","\\spadesuit");S("\\sub","\\subset");S("\\sube","\\subseteq");S("\\supe","\\supseteq");S("\\Tau","\\mathrm{T}");S("\\thetasym","\\vartheta");S("\\weierp","\\wp");S("\\Zeta","\\mathrm{Z}");S("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");S("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");S("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");S("\\bra","\\mathinner{\\langle{#1}|}");S("\\ket","\\mathinner{|{#1}\\rangle}");S("\\braket","\\mathinner{\\langle{#1}\\rangle}");S("\\Bra","\\left\\langle#1\\right|");S("\\Ket","\\left|#1\\right\\rangle");var Py=e=>t=>{var r=t.consumeArg().tokens,n=t.consumeArg().tokens,i=t.consumeArg().tokens,s=t.consumeArg().tokens,a=t.macros.get("|"),l=t.macros.get("\\|");t.macros.beginGroup();var o=h=>m=>{e&&(m.macros.set("|",a),i.length&&m.macros.set("\\|",l));var f=h;if(!h&&i.length){var y=m.future();y.text==="|"&&(m.popToken(),f=!0)}return{tokens:f?i:n,numArgs:0}};t.macros.set("|",o(!1)),i.length&&t.macros.set("\\|",o(!0));var u=t.consumeArg().tokens,d=t.expandTokens([...s,...u,...r]);return t.macros.endGroup(),{tokens:d.reverse(),numArgs:0}};S("\\bra@ket",Py(!1));S("\\bra@set",Py(!0));S("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");S("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");S("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");S("\\angln","{\\angl n}");S("\\blue","\\textcolor{##6495ed}{#1}");S("\\orange","\\textcolor{##ffa500}{#1}");S("\\pink","\\textcolor{##ff00af}{#1}");S("\\red","\\textcolor{##df0030}{#1}");S("\\green","\\textcolor{##28ae7b}{#1}");S("\\gray","\\textcolor{gray}{#1}");S("\\purple","\\textcolor{##9d38bd}{#1}");S("\\blueA","\\textcolor{##ccfaff}{#1}");S("\\blueB","\\textcolor{##80f6ff}{#1}");S("\\blueC","\\textcolor{##63d9ea}{#1}");S("\\blueD","\\textcolor{##11accd}{#1}");S("\\blueE","\\textcolor{##0c7f99}{#1}");S("\\tealA","\\textcolor{##94fff5}{#1}");S("\\tealB","\\textcolor{##26edd5}{#1}");S("\\tealC","\\textcolor{##01d1c1}{#1}");S("\\tealD","\\textcolor{##01a995}{#1}");S("\\tealE","\\textcolor{##208170}{#1}");S("\\greenA","\\textcolor{##b6ffb0}{#1}");S("\\greenB","\\textcolor{##8af281}{#1}");S("\\greenC","\\textcolor{##74cf70}{#1}");S("\\greenD","\\textcolor{##1fab54}{#1}");S("\\greenE","\\textcolor{##0d923f}{#1}");S("\\goldA","\\textcolor{##ffd0a9}{#1}");S("\\goldB","\\textcolor{##ffbb71}{#1}");S("\\goldC","\\textcolor{##ff9c39}{#1}");S("\\goldD","\\textcolor{##e07d10}{#1}");S("\\goldE","\\textcolor{##a75a05}{#1}");S("\\redA","\\textcolor{##fca9a9}{#1}");S("\\redB","\\textcolor{##ff8482}{#1}");S("\\redC","\\textcolor{##f9685d}{#1}");S("\\redD","\\textcolor{##e84d39}{#1}");S("\\redE","\\textcolor{##bc2612}{#1}");S("\\maroonA","\\textcolor{##ffbde0}{#1}");S("\\maroonB","\\textcolor{##ff92c6}{#1}");S("\\maroonC","\\textcolor{##ed5fa6}{#1}");S("\\maroonD","\\textcolor{##ca337c}{#1}");S("\\maroonE","\\textcolor{##9e034e}{#1}");S("\\purpleA","\\textcolor{##ddd7ff}{#1}");S("\\purpleB","\\textcolor{##c6b9fc}{#1}");S("\\purpleC","\\textcolor{##aa87ff}{#1}");S("\\purpleD","\\textcolor{##7854ab}{#1}");S("\\purpleE","\\textcolor{##543b78}{#1}");S("\\mintA","\\textcolor{##f5f9e8}{#1}");S("\\mintB","\\textcolor{##edf2df}{#1}");S("\\mintC","\\textcolor{##e0e5cc}{#1}");S("\\grayA","\\textcolor{##f6f7f7}{#1}");S("\\grayB","\\textcolor{##f0f1f2}{#1}");S("\\grayC","\\textcolor{##e3e5e6}{#1}");S("\\grayD","\\textcolor{##d6d8da}{#1}");S("\\grayE","\\textcolor{##babec2}{#1}");S("\\grayF","\\textcolor{##888d93}{#1}");S("\\grayG","\\textcolor{##626569}{#1}");S("\\grayH","\\textcolor{##3b3e40}{#1}");S("\\grayI","\\textcolor{##21242c}{#1}");S("\\kaBlue","\\textcolor{##314453}{#1}");S("\\kaGreen","\\textcolor{##71B307}{#1}");var Iy={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class d_{constructor(t,r,n){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=r,this.expansionCount=0,this.feed(t),this.macros=new u_(c_,r.macros),this.mode=n,this.stack=[]}feed(t){this.lexer=new V1(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var r,n,i;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;r=this.popToken(),{tokens:i,end:n}=this.consumeArg(["]"])}else({tokens:i,start:r,end:n}=this.consumeArg());return this.pushToken(new vr("EOF",n.loc)),this.pushTokens(i),r.range(n,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var r=[],n=t&&t.length>0;n||this.consumeSpaces();var i=this.future(),s,a=0,l=0;do{if(s=this.popToken(),r.push(s),s.text==="{")++a;else if(s.text==="}"){if(--a,a===-1)throw new Y("Extra }",s)}else if(s.text==="EOF")throw new Y("Unexpected end of input in a macro argument, expected '"+(t&&n?t[l]:"}")+"'",s);if(t&&n)if((a===0||a===1&&t[l]==="{")&&s.text===t[l]){if(++l,l===t.length){r.splice(-l,l);break}}else l=0}while(a!==0||n);return i.text==="{"&&r[r.length-1].text==="}"&&(r.pop(),r.shift()),r.reverse(),{tokens:r,start:i,end:s}}consumeArgs(t,r){if(r){if(r.length!==t+1)throw new Y("The length of delimiters doesn't match the number of args!");for(var n=r[0],i=0;i<n.length;i++){var s=this.popToken();if(n[i]!==s.text)throw new Y("Use of the macro doesn't match its definition",s)}}for(var a=[],l=0;l<t;l++)a.push(this.consumeArg(r&&r[l+1]).tokens);return a}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new Y("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var r=this.popToken(),n=r.text,i=r.noexpand?null:this._getExpansion(n);if(i==null||t&&i.unexpandable){if(t&&i==null&&n[0]==="\\"&&!this.isDefined(n))throw new Y("Undefined control sequence: "+n);return this.pushToken(r),!1}this.countExpansion(1);var s=i.tokens,a=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){s=s.slice();for(var l=s.length-1;l>=0;--l){var o=s[l];if(o.text==="#"){if(l===0)throw new Y("Incomplete placeholder at end of macro body",o);if(o=s[--l],o.text==="#")s.splice(l+1,1);else if(/^[1-9]$/.test(o.text))s.splice(l,2,...a[+o.text-1]);else throw new Y("Not a valid argument number",o)}}}return this.pushTokens(s),s.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new vr(t)]):void 0}expandTokens(t){var r=[],n=this.stack.length;for(this.pushTokens(t);this.stack.length>n;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),r.push(i)}return this.countExpansion(r.length),r}expandMacroAsText(t){var r=this.expandMacro(t);return r&&r.map(n=>n.text).join("")}_getExpansion(t){var r=this.macros.get(t);if(r==null)return r;if(t.length===1){var n=this.lexer.catcodes[t];if(n!=null&&n!==13)return}var i=typeof r=="function"?r(this):r;if(typeof i=="string"){var s=0;if(i.indexOf("#")!==-1)for(var a=i.replace(/##/g,"");a.indexOf("#"+(s+1))!==-1;)++s;for(var l=new V1(i,this.settings),o=[],u=l.lex();u.text!=="EOF";)o.push(u),u=l.lex();o.reverse();var d={tokens:o,numArgs:s};return d}return i}isDefined(t){return this.macros.has(t)||zn.hasOwnProperty(t)||We.math.hasOwnProperty(t)||We.text.hasOwnProperty(t)||Iy.hasOwnProperty(t)}isExpandable(t){var r=this.macros.get(t);return r!=null?typeof r=="string"||typeof r=="function"||!r.unexpandable:zn.hasOwnProperty(t)&&!zn[t].primitive}}var K1=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Ml=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),ku={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},Y1={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class m0{constructor(t,r){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new d_(t,r,this.mode),this.settings=r,this.leftrightDepth=0}expect(t,r){if(r===void 0&&(r=!0),this.fetch().text!==t)throw new Y("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());r&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var r=this.nextToken;this.consume(),this.gullet.pushToken(new vr("}")),this.gullet.pushTokens(t);var n=this.parseExpression(!1);return this.expect("}"),this.nextToken=r,n}parseExpression(t,r){for(var n=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(m0.endOfExpression.indexOf(i.text)!==-1||r&&i.text===r||t&&zn[i.text]&&zn[i.text].infix)break;var s=this.parseAtom(r);if(s){if(s.type==="internal")continue}else break;n.push(s)}return this.mode==="text"&&this.formLigatures(n),this.handleInfixNodes(n)}handleInfixNodes(t){for(var r=-1,n,i=0;i<t.length;i++)if(t[i].type==="infix"){if(r!==-1)throw new Y("only one infix operator per group",t[i].token);r=i,n=t[i].replaceWith}if(r!==-1&&n){var s,a,l=t.slice(0,r),o=t.slice(r+1);l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l},o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o};var u;return n==="\\\\abovefrac"?u=this.callFunction(n,[s,t[r],a],[]):u=this.callFunction(n,[s,a],[]),[u]}else return t}handleSupSubscript(t){var r=this.fetch(),n=r.text;this.consume(),this.consumeSpaces();var i;do{var s;i=this.parseGroup(t)}while(((s=i)==null?void 0:s.type)==="internal");if(!i)throw new Y("Expected group after '"+n+"'",r);return i}formatUnsupportedCmd(t){for(var r=[],n=0;n<t.length;n++)r.push({type:"textord",mode:"text",text:t[n]});var i={type:"text",mode:this.mode,body:r},s={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return s}parseAtom(t){var r=this.parseGroup("atom",t);if((r==null?void 0:r.type)==="internal"||this.mode==="text")return r;for(var n,i;;){this.consumeSpaces();var s=this.fetch();if(s.text==="\\limits"||s.text==="\\nolimits"){if(r&&r.type==="op"){var a=s.text==="\\limits";r.limits=a,r.alwaysHandleSupSub=!0}else if(r&&r.type==="operatorname")r.alwaysHandleSupSub&&(r.limits=s.text==="\\limits");else throw new Y("Limit controls must follow a math operator",s);this.consume()}else if(s.text==="^"){if(n)throw new Y("Double superscript",s);n=this.handleSupSubscript("superscript")}else if(s.text==="_"){if(i)throw new Y("Double subscript",s);i=this.handleSupSubscript("subscript")}else if(s.text==="'"){if(n)throw new Y("Double superscript",s);var l={type:"textord",mode:this.mode,text:"\\prime"},o=[l];for(this.consume();this.fetch().text==="'";)o.push(l),this.consume();this.fetch().text==="^"&&o.push(this.handleSupSubscript("superscript")),n={type:"ordgroup",mode:this.mode,body:o}}else if(Ml[s.text]){var u=K1.test(s.text),d=[];for(d.push(new vr(Ml[s.text])),this.consume();;){var h=this.fetch().text;if(!Ml[h]||K1.test(h)!==u)break;d.unshift(new vr(Ml[h])),this.consume()}var m=this.subparse(d);u?i={type:"ordgroup",mode:"math",body:m}:n={type:"ordgroup",mode:"math",body:m}}else break}return n||i?{type:"supsub",mode:this.mode,base:r,sup:n,sub:i}:r}parseFunction(t,r){var n=this.fetch(),i=n.text,s=zn[i];if(!s)return null;if(this.consume(),r&&r!=="atom"&&!s.allowedInArgument)throw new Y("Got function '"+i+"' with no arguments"+(r?" as "+r:""),n);if(this.mode==="text"&&!s.allowedInText)throw new Y("Can't use function '"+i+"' in text mode",n);if(this.mode==="math"&&s.allowedInMath===!1)throw new Y("Can't use function '"+i+"' in math mode",n);var{args:a,optArgs:l}=this.parseArguments(i,s);return this.callFunction(i,a,l,n,t)}callFunction(t,r,n,i,s){var a={funcName:t,parser:this,token:i,breakOnTokenText:s},l=zn[t];if(l&&l.handler)return l.handler(a,r,n);throw new Y("No function handler for "+t)}parseArguments(t,r){var n=r.numArgs+r.numOptionalArgs;if(n===0)return{args:[],optArgs:[]};for(var i=[],s=[],a=0;a<n;a++){var l=r.argTypes&&r.argTypes[a],o=a<r.numOptionalArgs;(r.primitive&&l==null||r.type==="sqrt"&&a===1&&s[0]==null)&&(l="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",l,o);if(o)s.push(u);else if(u!=null)i.push(u);else throw new Y("Null argument, please report this as a bug")}return{args:i,optArgs:s}}parseGroupOfType(t,r,n){switch(r){case"color":return this.parseColorGroup(n);case"size":return this.parseSizeGroup(n);case"url":return this.parseUrlGroup(n);case"math":case"text":return this.parseArgumentGroup(n,r);case"hbox":{var i=this.parseArgumentGroup(n,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var s=this.parseStringGroup("raw",n);return s!=null?{type:"raw",mode:"text",string:s.text}:null}case"primitive":{if(n)throw new Y("A primitive argument cannot be optional");var a=this.parseGroup(t);if(a==null)throw new Y("Expected group as "+t,this.fetch());return a}case"original":case null:case void 0:return this.parseArgumentGroup(n);default:throw new Y("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,r){var n=this.gullet.scanArgument(r);if(n==null)return null;for(var i="",s;(s=this.fetch()).text!=="EOF";)i+=s.text,this.consume();return this.consume(),n.text=i,n}parseRegexGroup(t,r){for(var n=this.fetch(),i=n,s="",a;(a=this.fetch()).text!=="EOF"&&t.test(s+a.text);)i=a,s+=i.text,this.consume();if(s==="")throw new Y("Invalid "+r+": '"+n.text+"'",n);return n.range(i,s)}parseColorGroup(t){var r=this.parseStringGroup("color",t);if(r==null)return null;var n=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(r.text);if(!n)throw new Y("Invalid color: '"+r.text+"'",r);var i=n[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(t){var r,n=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?r=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):r=this.parseStringGroup("size",t),!r)return null;!t&&r.text.length===0&&(r.text="0pt",n=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(r.text);if(!i)throw new Y("Invalid size: '"+r.text+"'",r);var s={number:+(i[1]+i[2]),unit:i[3]};if(!U2(s))throw new Y("Invalid unit: '"+s.unit+"'",r);return{type:"size",mode:this.mode,value:s,isBlank:n}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var r=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),r==null)return null;var n=r.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:n}}parseArgumentGroup(t,r){var n=this.gullet.scanArgument(t);if(n==null)return null;var i=this.mode;r&&this.switchMode(r),this.gullet.beginGroup();var s=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var a={type:"ordgroup",mode:this.mode,loc:n.loc,body:s};return r&&this.switchMode(i),a}parseGroup(t,r){var n=this.fetch(),i=n.text,s;if(i==="{"||i==="\\begingroup"){this.consume();var a=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var l=this.parseExpression(!1,a),o=this.fetch();this.expect(a),this.gullet.endGroup(),s={type:"ordgroup",mode:this.mode,loc:nr.range(n,o),body:l,semisimple:i==="\\begingroup"||void 0}}else if(s=this.parseFunction(r,t)||this.parseSymbol(),s==null&&i[0]==="\\"&&!Iy.hasOwnProperty(i)){if(this.settings.throwOnError)throw new Y("Undefined control sequence: "+i,n);s=this.formatUnsupportedCmd(i),this.consume()}return s}formLigatures(t){for(var r=t.length-1,n=0;n<r;++n){var i=t[n],s=i.text;s==="-"&&t[n+1].text==="-"&&(n+1<r&&t[n+2].text==="-"?(t.splice(n,3,{type:"textord",mode:"text",loc:nr.range(i,t[n+2]),text:"---"}),r-=2):(t.splice(n,2,{type:"textord",mode:"text",loc:nr.range(i,t[n+1]),text:"--"}),r-=1)),(s==="'"||s==="`")&&t[n+1].text===s&&(t.splice(n,2,{type:"textord",mode:"text",loc:nr.range(i,t[n+1]),text:s+s}),r-=1)}}parseSymbol(){var t=this.fetch(),r=t.text;if(/^\\verb[^a-zA-Z]/.test(r)){this.consume();var n=r.slice(5),i=n.charAt(0)==="*";if(i&&(n=n.slice(1)),n.length<2||n.charAt(0)!==n.slice(-1))throw new Y(`\\verb assertion failed --
                    please report what input caused this bug`);return n=n.slice(1,-1),{type:"verb",mode:"text",body:n,star:i}}Y1.hasOwnProperty(r[0])&&!We[this.mode][r[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+r[0]+'" used in math mode',t),r=Y1[r[0]]+r.slice(1));var s=l_.exec(r);s&&(r=r.substring(0,s.index),r==="i"?r="ı":r==="j"&&(r="ȷ"));var a;if(We[this.mode][r]){this.settings.strict&&this.mode==="math"&&Yc.indexOf(r)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+r[0]+'" used in math mode',t);var l=We[this.mode][r].group,o=nr.range(t),u;if(Zk.hasOwnProperty(l)){var d=l;u={type:"atom",mode:this.mode,family:d,loc:o,text:r}}else u={type:l,mode:this.mode,loc:o,text:r};a=u}else if(r.charCodeAt(0)>=128)this.settings.strict&&(q2(r.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+r[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+r[0]+'"'+(" ("+r.charCodeAt(0)+")"),t)),a={type:"textord",mode:"text",loc:nr.range(t),text:r};else return null;if(this.consume(),s)for(var h=0;h<s[0].length;h++){var m=s[0][h];if(!ku[m])throw new Y("Unknown accent ' "+m+"'",t);var f=ku[m][this.mode]||ku[m].text;if(!f)throw new Y("Accent "+m+" unsupported in "+this.mode+" mode",t);a={type:"accent",mode:this.mode,loc:nr.range(t),label:f,isStretchy:!1,isShifty:!0,base:a}}return a}}m0.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Lh=function(t,r){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var n=new m0(t,r);delete n.gullet.macros.current["\\df@tag"];var i=n.parse();if(delete n.gullet.macros.current["\\current@color"],delete n.gullet.macros.current["\\color"],n.gullet.macros.get("\\df@tag")){if(!r.displayMode)throw new Y("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:n.subparse([new vr("\\df@tag")])}]}return i},zy=function(t,r,n){r.textContent="";var i=Rh(t,n).toNode();r.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),zy=function(){throw new Y("KaTeX doesn't work in quirks mode.")});var h_=function(t,r){var n=Rh(t,r).toMarkup();return n},f_=function(t,r){var n=new xh(r);return Lh(t,n)},Dy=function(t,r,n){if(n.throwOnError||!(t instanceof Y))throw t;var i=O.makeSpan(["katex-error"],[new br(r)]);return i.setAttribute("title",t.toString()),i.setAttribute("style","color:"+n.errorColor),i},Rh=function(t,r){var n=new xh(r);try{var i=Lh(t,n);return kS(i,t,n)}catch(s){return Dy(s,t,n)}},m_=function(t,r){var n=new xh(r);try{var i=Lh(t,n);return SS(i,t,n)}catch(s){return Dy(s,t,n)}},p_="0.16.22",g_={Span:Xa,Anchor:kh,SymbolNode:br,SvgNode:mn,PathNode:Gn,LineNode:Kc},Q1={version:p_,render:zy,renderToString:h_,ParseError:Y,SETTINGS_SCHEMA:Kl,__parse:f_,__renderToDomTree:Rh,__renderToHTMLTree:m_,__setFontMetrics:Vk,__defineSymbol:p,__defineFunction:re,__defineMacro:S,__domTree:g_};const y_={};function v_(e){const t=this,r=e||y_,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(gk(r)),s.push(ok()),a.push(uk(r))}const X1=/[#.]/g;function x_(e,t){const r=e||"",n={};let i=0,s,a;for(;i<r.length;){X1.lastIndex=i;const l=X1.exec(r),o=r.slice(i,l?l.index:r.length);o&&(s?s==="#"?n.id=o:Array.isArray(n.className)?n.className.push(o):n.className=[o]:a=o,i+=o.length),l&&(s=l[0],i++)}return{type:"element",tagName:a||t||"div",properties:n,children:[]}}function Oy(e,t,r){const n=r?S_(r):void 0;function i(s,a,...l){let o;if(s==null){o={type:"root",children:[]};const u=a;l.unshift(u)}else{o=x_(s,t);const u=o.tagName.toLowerCase(),d=n?n.get(u):void 0;if(o.tagName=d||u,w_(a))l.unshift(a);else for(const[h,m]of Object.entries(a))b_(e,o.properties,h,m)}for(const u of l)td(o.children,u);return o.type==="element"&&o.tagName==="template"&&(o.content={type:"root",children:o.children},o.children=[]),o}return i}function w_(e){if(e===null||typeof e!="object"||Array.isArray(e))return!0;if(typeof e.type!="string")return!1;const t=e,r=Object.keys(e);for(const n of r){const i=t[n];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const s=i;for(const a of s)if(typeof a!="number"&&typeof a!="string")return!0}}return!!("children"in e&&Array.isArray(e.children))}function b_(e,t,r,n){const i=u2(e,r);let s;if(n!=null){if(typeof n=="number"){if(Number.isNaN(n))return;s=n}else typeof n=="boolean"?s=n:typeof n=="string"?i.spaceSeparated?s=Am(n):i.commaSeparated?s=jm(n):i.commaOrSpaceSeparated?s=Am(jm(n).join(" ")):s=J1(i,i.property,n):Array.isArray(n)?s=[...n]:s=i.property==="style"?k_(n):String(n);if(Array.isArray(s)){const a=[];for(const l of s)a.push(J1(i,i.property,l));s=a}i.property==="className"&&Array.isArray(t.className)&&(s=t.className.concat(s)),t[i.property]=s}}function td(e,t){if(t!=null)if(typeof t=="number"||typeof t=="string")e.push({type:"text",value:String(t)});else if(Array.isArray(t))for(const r of t)td(e,r);else if(typeof t=="object"&&"type"in t)t.type==="root"?td(e,t.children):e.push(t);else throw new Error("Expected node, nodes, or string, got `"+t+"`")}function J1(e,t,r){if(typeof r=="string"){if(e.number&&r&&!Number.isNaN(Number(r)))return Number(r);if((e.boolean||e.overloadedBoolean)&&(r===""||Ma(r)===Ma(t)))return!0}return r}function k_(e){const t=[];for(const[r,n]of Object.entries(e))t.push([r,n].join(": "));return t.join("; ")}function S_(e){const t=new Map;for(const r of e)t.set(r.toLowerCase(),r);return t}const __=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],j_=Oy(c2,"div"),N_=Oy(r0,"g",__),Su={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function C_(e,t){return Ly(e,{})||{type:"root",children:[]}}function Ly(e,t){const r=E_(e,t);return r&&t.afterTransform&&t.afterTransform(e,r),r}function E_(e,t){switch(e.nodeType){case 1:return P_(e,t);case 3:return A_(e);case 8:return M_(e);case 9:return Z1(e,t);case 10:return T_();case 11:return Z1(e,t);default:return}}function Z1(e,t){return{type:"root",children:Ry(e,t)}}function T_(){return{type:"doctype"}}function A_(e){return{type:"text",value:e.nodeValue||""}}function M_(e){return{type:"comment",value:e.nodeValue||""}}function P_(e,t){const r=e.namespaceURI,n=r===Su.svg?N_:j_,i=r===Su.html?e.tagName.toLowerCase():e.tagName,s=r===Su.html&&i==="template"?e.content:e,a=e.getAttributeNames(),l={};let o=-1;for(;++o<a.length;)l[a[o]]=e.getAttribute(a[o])||"";return n(i,l,Ry(s,t))}function Ry(e,t){const r=e.childNodes,n=[];let i=-1;for(;++i<r.length;){const s=Ly(r[i],t);s!==void 0&&n.push(s)}return n}new DOMParser;function I_(e,t){const r=z_(e);return C_(r)}function z_(e){const t=document.createElement("template");return t.innerHTML=e,t.content}const ep=function(e,t,r){const n=Ka(r);if(!e||!e.type||!e.children)throw new Error("Expected parent node");if(typeof t=="number"){if(t<0||t===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(t=e.children.indexOf(t),t<0)throw new Error("Expected child node or index");for(;++t<e.children.length;)if(n(e.children[t],t,e))return e.children[t]},Ai=function(e){if(e==null)return L_;if(typeof e=="string")return O_(e);if(typeof e=="object")return D_(e);if(typeof e=="function")return Fh(e);throw new Error("Expected function, string, or array as `test`")};function D_(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=Ai(e[r]);return Fh(n);function n(...i){let s=-1;for(;++s<t.length;)if(t[s].apply(this,i))return!0;return!1}}function O_(e){return Fh(t);function t(r){return r.tagName===e}}function Fh(e){return t;function t(r,n,i){return!!(R_(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function L_(e){return!!(e&&typeof e=="object"&&"type"in e&&e.type==="element"&&"tagName"in e&&typeof e.tagName=="string")}function R_(e){return e!==null&&typeof e=="object"&&"type"in e&&"tagName"in e}const tp=/\n/g,rp=/[\t ]+/g,rd=Ai("br"),np=Ai(W_),F_=Ai("p"),ip=Ai("tr"),B_=Ai(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",V_,G_]),Fy=Ai(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function $_(e,t){const r=t||{},n="children"in e?e.children:[],i=Fy(e),s=qy(e,{whitespace:r.whitespace||"normal",breakBefore:!1,breakAfter:!1}),a=[];(e.type==="text"||e.type==="comment")&&a.push(...$y(e,{whitespace:s,breakBefore:!0,breakAfter:!0}));let l=-1;for(;++l<n.length;)a.push(...By(n[l],e,{whitespace:s,breakBefore:l?void 0:i,breakAfter:l<n.length-1?rd(n[l+1]):i}));const o=[];let u;for(l=-1;++l<a.length;){const d=a[l];typeof d=="number"?u!==void 0&&d>u&&(u=d):d&&(u!==void 0&&u>-1&&o.push(`
`.repeat(u)||" "),u=-1,o.push(d))}return o.join("")}function By(e,t,r){return e.type==="element"?q_(e,t,r):e.type==="text"?r.whitespace==="normal"?$y(e,r):U_(e):[]}function q_(e,t,r){const n=qy(e,r),i=e.children||[];let s=-1,a=[];if(B_(e))return a;let l,o;for(rd(e)||ip(e)&&ep(t,e,ip)?o=`
`:F_(e)?(l=2,o=2):Fy(e)&&(l=1,o=1);++s<i.length;)a=a.concat(By(i[s],e,{whitespace:n,breakBefore:s?void 0:l,breakAfter:s<i.length-1?rd(i[s+1]):o}));return np(e)&&ep(t,e,np)&&a.push("	"),l&&a.unshift(l),o&&a.push(o),a}function $y(e,t){const r=String(e.value),n=[],i=[];let s=0;for(;s<=r.length;){tp.lastIndex=s;const o=tp.exec(r),u=o&&"index"in o?o.index:r.length;n.push(H_(r.slice(s,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),s===0?t.breakBefore:!0,u===r.length?t.breakAfter:!0)),s=u+1}let a=-1,l;for(;++a<n.length;)n[a].charCodeAt(n[a].length-1)===8203||a<n.length-1&&n[a+1].charCodeAt(0)===8203?(i.push(n[a]),l=void 0):n[a]?(typeof l=="number"&&i.push(l),i.push(n[a]),l=0):(a===0||a===n.length-1)&&i.push(0);return i}function U_(e){return[String(e.value)]}function H_(e,t,r){const n=[];let i=0,s;for(;i<e.length;){rp.lastIndex=i;const a=rp.exec(e);s=a?a.index:e.length,!i&&!s&&a&&!t&&n.push(""),i!==s&&n.push(e.slice(i,s)),i=a?s+a[0].length:s}return i!==s&&!r&&n.push(""),n.join(" ")}function qy(e,t){if(e.type==="element"){const r=e.properties||{};switch(e.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return r.wrap?"pre-wrap":"pre";case"td":case"th":return r.noWrap?"nowrap":t.whitespace;case"textarea":return"pre-wrap"}}return t.whitespace}function V_(e){return!!(e.properties||{}).hidden}function W_(e){return e.tagName==="td"||e.tagName==="th"}function G_(e){return e.tagName==="dialog"&&!(e.properties||{}).open}const K_={},Y_=[];function Q_(e){const t=e||K_;return function(r,n){gh(r,"element",function(i,s){const a=Array.isArray(i.properties.className)?i.properties.className:Y_,l=a.includes("language-math"),o=a.includes("math-display"),u=a.includes("math-inline");let d=o;if(!l&&!o&&!u)return;let h=s[s.length-1],m=i;if(i.tagName==="code"&&l&&h&&h.type==="element"&&h.tagName==="pre"&&(m=h,h=s[s.length-2],d=!0),!h)return;const f=$_(m,{whitespace:"pre"});let y;try{y=Q1.renderToString(f,{...t,displayMode:d,throwOnError:!0})}catch(N){const v=N,w=v.name.toLowerCase();n.message("Could not render math with KaTeX",{ancestors:[...s,i],cause:v,place:i.position,ruleId:w,source:"rehype-katex"});try{y=Q1.renderToString(f,{...t,displayMode:d,strict:"ignore",throwOnError:!1})}catch{y=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(t.errorColor||"#cc0000"),title:String(N)},children:[{type:"text",value:f}]}]}}typeof y=="string"&&(y=I_(y).children);const k=h.children.indexOf(m);return h.children.splice(k,1,...y),L2})}}function sp(e,t){const r=String(e);if(typeof t!="string")throw new TypeError("Expected character");let n=0,i=r.indexOf(t);for(;i!==-1;)n++,i=r.indexOf(t,i+t.length);return n}function X_(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function J_(e,t,r){const i=Ka((r||{}).ignore||[]),s=Z_(t);let a=-1;for(;++a<s.length;)gh(e,"text",l);function l(u,d){let h=-1,m;for(;++h<d.length;){const f=d[h],y=m?m.children:void 0;if(i(f,y?y.indexOf(f):void 0,m))return;m=f}if(m)return o(u,d)}function o(u,d){const h=d[d.length-1],m=s[a][0],f=s[a][1];let y=0;const N=h.children.indexOf(u);let v=!1,w=[];m.lastIndex=0;let x=m.exec(u.value);for(;x;){const j=x.index,I={index:x.index,input:x.input,stack:[...d,u]};let _=f(...x,I);if(typeof _=="string"&&(_=_.length>0?{type:"text",value:_}:void 0),_===!1?m.lastIndex=j+1:(y!==j&&w.push({type:"text",value:u.value.slice(y,j)}),Array.isArray(_)?w.push(..._):_&&w.push(_),y=j+x[0].length,v=!0),!m.global)break;x=m.exec(u.value)}return v?(y<u.value.length&&w.push({type:"text",value:u.value.slice(y)}),h.children.splice(N,1,...w)):w=[u],N+w.length}}function Z_(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const r=!e[0]||Array.isArray(e[0])?e:[e];let n=-1;for(;++n<r.length;){const i=r[n];t.push([ej(i[0]),tj(i[1])])}return t}function ej(e){return typeof e=="string"?new RegExp(X_(e),"g"):e}function tj(e){return typeof e=="function"?e:function(){return e}}const _u="phrasing",ju=["autolink","link","image","label"];function rj(){return{transforms:[uj],enter:{literalAutolink:ij,literalAutolinkEmail:Nu,literalAutolinkHttp:Nu,literalAutolinkWww:Nu},exit:{literalAutolink:oj,literalAutolinkEmail:lj,literalAutolinkHttp:sj,literalAutolinkWww:aj}}}function nj(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:_u,notInConstruct:ju},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:_u,notInConstruct:ju},{character:":",before:"[ps]",after:"\\/",inConstruct:_u,notInConstruct:ju}]}}function ij(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function Nu(e){this.config.enter.autolinkProtocol.call(this,e)}function sj(e){this.config.exit.autolinkProtocol.call(this,e)}function aj(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function lj(e){this.config.exit.autolinkEmail.call(this,e)}function oj(e){this.exit(e)}function uj(e){J_(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,cj],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),dj]],{ignore:["link","linkReference"]})}function cj(e,t,r,n,i){let s="";if(!Uy(i)||(/^w/i.test(t)&&(r=t+r,t="",s="http://"),!hj(r)))return!1;const a=fj(r+n);if(!a[0])return!1;const l={type:"link",title:null,url:s+t+a[0],children:[{type:"text",value:t+a[0]}]};return a[1]?[l,{type:"text",value:a[1]}]:l}function dj(e,t,r,n){return!Uy(n,!0)||/[-\d_]$/.test(r)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+r,children:[{type:"text",value:t+"@"+r}]}}function hj(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function fj(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let r=t[0],n=r.indexOf(")");const i=sp(e,"(");let s=sp(e,")");for(;n!==-1&&i>s;)e+=r.slice(0,n+1),r=r.slice(n+1),n=r.indexOf(")"),s++;return[e,r]}function Uy(e,t){const r=e.input.charCodeAt(e.index-1);return(e.index===0||_i(r)||i0(r))&&(!t||r!==47)}Hy.peek=kj;function mj(){this.buffer()}function pj(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function gj(){this.buffer()}function yj(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function vj(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=zr(this.sliceSerialize(e)).toLowerCase(),r.label=t}function xj(e){this.exit(e)}function wj(e){const t=this.resume(),r=this.stack[this.stack.length-1];r.type,r.identifier=zr(this.sliceSerialize(e)).toLowerCase(),r.label=t}function bj(e){this.exit(e)}function kj(){return"["}function Hy(e,t,r,n){const i=r.createTracker(n);let s=i.move("[^");const a=r.enter("footnoteReference"),l=r.enter("reference");return s+=i.move(r.safe(r.associationId(e),{after:"]",before:s})),l(),a(),s+=i.move("]"),s}function Sj(){return{enter:{gfmFootnoteCallString:mj,gfmFootnoteCall:pj,gfmFootnoteDefinitionLabelString:gj,gfmFootnoteDefinition:yj},exit:{gfmFootnoteCallString:vj,gfmFootnoteCall:xj,gfmFootnoteDefinitionLabelString:wj,gfmFootnoteDefinition:bj}}}function _j(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:r,footnoteReference:Hy},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function r(n,i,s,a){const l=s.createTracker(a);let o=l.move("[^");const u=s.enter("footnoteDefinition"),d=s.enter("label");return o+=l.move(s.safe(s.associationId(n),{before:o,after:"]"})),d(),o+=l.move("]:"),n.children&&n.children.length>0&&(l.shift(4),o+=l.move((t?`
`:" ")+s.indentLines(s.containerFlow(n,l.current()),t?Vy:jj))),u(),o}}function jj(e,t,r){return t===0?e:Vy(e,t,r)}function Vy(e,t,r){return(r?"":"    ")+e}const Nj=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];Wy.peek=Mj;function Cj(){return{canContainEols:["delete"],enter:{strikethrough:Tj},exit:{strikethrough:Aj}}}function Ej(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:Nj}],handlers:{delete:Wy}}}function Tj(e){this.enter({type:"delete",children:[]},e)}function Aj(e){this.exit(e)}function Wy(e,t,r,n){const i=r.createTracker(n),s=r.enter("strikethrough");let a=i.move("~~");return a+=r.containerPhrasing(e,{...i.current(),before:a,after:"~"}),a+=i.move("~~"),s(),a}function Mj(){return"~"}function Pj(e){return e.length}function Ij(e,t){const r=t||{},n=(r.align||[]).concat(),i=r.stringLength||Pj,s=[],a=[],l=[],o=[];let u=0,d=-1;for(;++d<e.length;){const k=[],N=[];let v=-1;for(e[d].length>u&&(u=e[d].length);++v<e[d].length;){const w=zj(e[d][v]);if(r.alignDelimiters!==!1){const x=i(w);N[v]=x,(o[v]===void 0||x>o[v])&&(o[v]=x)}k.push(w)}a[d]=k,l[d]=N}let h=-1;if(typeof n=="object"&&"length"in n)for(;++h<u;)s[h]=ap(n[h]);else{const k=ap(n);for(;++h<u;)s[h]=k}h=-1;const m=[],f=[];for(;++h<u;){const k=s[h];let N="",v="";k===99?(N=":",v=":"):k===108?N=":":k===114&&(v=":");let w=r.alignDelimiters===!1?1:Math.max(1,o[h]-N.length-v.length);const x=N+"-".repeat(w)+v;r.alignDelimiters!==!1&&(w=N.length+w+v.length,w>o[h]&&(o[h]=w),f[h]=w),m[h]=x}a.splice(1,0,m),l.splice(1,0,f),d=-1;const y=[];for(;++d<a.length;){const k=a[d],N=l[d];h=-1;const v=[];for(;++h<u;){const w=k[h]||"";let x="",j="";if(r.alignDelimiters!==!1){const I=o[h]-(N[h]||0),_=s[h];_===114?x=" ".repeat(I):_===99?I%2?(x=" ".repeat(I/2+.5),j=" ".repeat(I/2-.5)):(x=" ".repeat(I/2),j=x):j=" ".repeat(I)}r.delimiterStart!==!1&&!h&&v.push("|"),r.padding!==!1&&!(r.alignDelimiters===!1&&w==="")&&(r.delimiterStart!==!1||h)&&v.push(" "),r.alignDelimiters!==!1&&v.push(x),v.push(w),r.alignDelimiters!==!1&&v.push(j),r.padding!==!1&&v.push(" "),(r.delimiterEnd!==!1||h!==u-1)&&v.push("|")}y.push(r.delimiterEnd===!1?v.join("").replace(/ +$/,""):v.join(""))}return y.join(`
`)}function zj(e){return e==null?"":String(e)}function ap(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function Dj(e,t,r,n){const i=r.enter("blockquote"),s=r.createTracker(n);s.move("> "),s.shift(2);const a=r.indentLines(r.containerFlow(e,s.current()),Oj);return i(),a}function Oj(e,t,r){return">"+(r?"":" ")+e}function Lj(e,t){return lp(e,t.inConstruct,!0)&&!lp(e,t.notInConstruct,!1)}function lp(e,t,r){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return r;let n=-1;for(;++n<t.length;)if(e.includes(t[n]))return!0;return!1}function op(e,t,r,n){let i=-1;for(;++i<r.unsafe.length;)if(r.unsafe[i].character===`
`&&Lj(r.stack,r.unsafe[i]))return/[ \t]/.test(n.before)?"":" ";return`\\
`}function Rj(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function Fj(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function Bj(e,t,r,n){const i=Fj(r),s=e.value||"",a=i==="`"?"GraveAccent":"Tilde";if(Rj(e,r)){const h=r.enter("codeIndented"),m=r.indentLines(s,$j);return h(),m}const l=r.createTracker(n),o=i.repeat(Math.max(B2(s,i)+1,3)),u=r.enter("codeFenced");let d=l.move(o);if(e.lang){const h=r.enter(`codeFencedLang${a}`);d+=l.move(r.safe(e.lang,{before:d,after:" ",encode:["`"],...l.current()})),h()}if(e.lang&&e.meta){const h=r.enter(`codeFencedMeta${a}`);d+=l.move(" "),d+=l.move(r.safe(e.meta,{before:d,after:`
`,encode:["`"],...l.current()})),h()}return d+=l.move(`
`),s&&(d+=l.move(s+`
`)),d+=l.move(o),u(),d}function $j(e,t,r){return(r?"":"    ")+e}function Bh(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function qj(e,t,r,n){const i=Bh(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("definition");let l=r.enter("label");const o=r.createTracker(n);let u=o.move("[");return u+=o.move(r.safe(r.associationId(e),{before:u,after:"]",...o.current()})),u+=o.move("]: "),l(),!e.url||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(r.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=r.enter("destinationRaw"),u+=o.move(r.safe(e.url,{before:u,after:e.title?" ":`
`,...o.current()}))),l(),e.title&&(l=r.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(r.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),a(),u}function Uj(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function Da(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Io(e,t,r){const n=bs(e),i=bs(t);return n===void 0?i===void 0?r==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:n===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Gy.peek=Hj;function Gy(e,t,r,n){const i=Uj(r),s=r.enter("emphasis"),a=r.createTracker(n),l=a.move(i);let o=a.move(r.containerPhrasing(e,{after:i,before:l,...a.current()}));const u=o.charCodeAt(0),d=Io(n.before.charCodeAt(n.before.length-1),u,i);d.inside&&(o=Da(u)+o.slice(1));const h=o.charCodeAt(o.length-1),m=Io(n.after.charCodeAt(0),h,i);m.inside&&(o=o.slice(0,-1)+Da(h));const f=a.move(i);return s(),r.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},l+o+f}function Hj(e,t,r){return r.options.emphasis||"*"}function Vj(e,t){let r=!1;return yh(e,function(n){if("value"in n&&/\r?\n|\r/.test(n.value)||n.type==="break")return r=!0,qc}),!!((!e.depth||e.depth<3)&&uh(e)&&(t.options.setext||r))}function Wj(e,t,r,n){const i=Math.max(Math.min(6,e.depth||1),1),s=r.createTracker(n);if(Vj(e,r)){const d=r.enter("headingSetext"),h=r.enter("phrasing"),m=r.containerPhrasing(e,{...s.current(),before:`
`,after:`
`});return h(),d(),m+`
`+(i===1?"=":"-").repeat(m.length-(Math.max(m.lastIndexOf("\r"),m.lastIndexOf(`
`))+1))}const a="#".repeat(i),l=r.enter("headingAtx"),o=r.enter("phrasing");s.move(a+" ");let u=r.containerPhrasing(e,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(u)&&(u=Da(u.charCodeAt(0))+u.slice(1)),u=u?a+" "+u:a,r.options.closeAtx&&(u+=" "+a),o(),l(),u}Ky.peek=Gj;function Ky(e){return e.value||""}function Gj(){return"<"}Yy.peek=Kj;function Yy(e,t,r,n){const i=Bh(r),s=i==='"'?"Quote":"Apostrophe",a=r.enter("image");let l=r.enter("label");const o=r.createTracker(n);let u=o.move("![");return u+=o.move(r.safe(e.alt,{before:u,after:"]",...o.current()})),u+=o.move("]("),l(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(l=r.enter("destinationLiteral"),u+=o.move("<"),u+=o.move(r.safe(e.url,{before:u,after:">",...o.current()})),u+=o.move(">")):(l=r.enter("destinationRaw"),u+=o.move(r.safe(e.url,{before:u,after:e.title?" ":")",...o.current()}))),l(),e.title&&(l=r.enter(`title${s}`),u+=o.move(" "+i),u+=o.move(r.safe(e.title,{before:u,after:i,...o.current()})),u+=o.move(i),l()),u+=o.move(")"),a(),u}function Kj(){return"!"}Qy.peek=Yj;function Qy(e,t,r,n){const i=e.referenceType,s=r.enter("imageReference");let a=r.enter("label");const l=r.createTracker(n);let o=l.move("![");const u=r.safe(e.alt,{before:o,after:"]",...l.current()});o+=l.move(u+"]["),a();const d=r.stack;r.stack=[],a=r.enter("reference");const h=r.safe(r.associationId(e),{before:o,after:"]",...l.current()});return a(),r.stack=d,s(),i==="full"||!u||u!==h?o+=l.move(h+"]"):i==="shortcut"?o=o.slice(0,-1):o+=l.move("]"),o}function Yj(){return"!"}Xy.peek=Qj;function Xy(e,t,r){let n=e.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(n);)i+="`";for(/[^ \r\n]/.test(n)&&(/^[ \r\n]/.test(n)&&/[ \r\n]$/.test(n)||/^`|`$/.test(n))&&(n=" "+n+" ");++s<r.unsafe.length;){const a=r.unsafe[s],l=r.compilePattern(a);let o;if(a.atBreak)for(;o=l.exec(n);){let u=o.index;n.charCodeAt(u)===10&&n.charCodeAt(u-1)===13&&u--,n=n.slice(0,u)+" "+n.slice(o.index+1)}}return i+n+i}function Qj(){return"`"}function Jy(e,t){const r=uh(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(r===e.url||"mailto:"+r===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}Zy.peek=Xj;function Zy(e,t,r,n){const i=Bh(r),s=i==='"'?"Quote":"Apostrophe",a=r.createTracker(n);let l,o;if(Jy(e,r)){const d=r.stack;r.stack=[],l=r.enter("autolink");let h=a.move("<");return h+=a.move(r.containerPhrasing(e,{before:h,after:">",...a.current()})),h+=a.move(">"),l(),r.stack=d,h}l=r.enter("link"),o=r.enter("label");let u=a.move("[");return u+=a.move(r.containerPhrasing(e,{before:u,after:"](",...a.current()})),u+=a.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=r.enter("destinationLiteral"),u+=a.move("<"),u+=a.move(r.safe(e.url,{before:u,after:">",...a.current()})),u+=a.move(">")):(o=r.enter("destinationRaw"),u+=a.move(r.safe(e.url,{before:u,after:e.title?" ":")",...a.current()}))),o(),e.title&&(o=r.enter(`title${s}`),u+=a.move(" "+i),u+=a.move(r.safe(e.title,{before:u,after:i,...a.current()})),u+=a.move(i),o()),u+=a.move(")"),l(),u}function Xj(e,t,r){return Jy(e,r)?"<":"["}ev.peek=Jj;function ev(e,t,r,n){const i=e.referenceType,s=r.enter("linkReference");let a=r.enter("label");const l=r.createTracker(n);let o=l.move("[");const u=r.containerPhrasing(e,{before:o,after:"]",...l.current()});o+=l.move(u+"]["),a();const d=r.stack;r.stack=[],a=r.enter("reference");const h=r.safe(r.associationId(e),{before:o,after:"]",...l.current()});return a(),r.stack=d,s(),i==="full"||!u||u!==h?o+=l.move(h+"]"):i==="shortcut"?o=o.slice(0,-1):o+=l.move("]"),o}function Jj(){return"["}function $h(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Zj(e){const t=$h(e),r=e.options.bulletOther;if(!r)return t==="*"?"-":"*";if(r!=="*"&&r!=="+"&&r!=="-")throw new Error("Cannot serialize items with `"+r+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(r===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+r+"`) to be different");return r}function eN(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function tv(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function tN(e,t,r,n){const i=r.enter("list"),s=r.bulletCurrent;let a=e.ordered?eN(r):$h(r);const l=e.ordered?a==="."?")":".":Zj(r);let o=t&&r.bulletLastUsed?a===r.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((a==="*"||a==="-")&&d&&(!d.children||!d.children[0])&&r.stack[r.stack.length-1]==="list"&&r.stack[r.stack.length-2]==="listItem"&&r.stack[r.stack.length-3]==="list"&&r.stack[r.stack.length-4]==="listItem"&&r.indexStack[r.indexStack.length-1]===0&&r.indexStack[r.indexStack.length-2]===0&&r.indexStack[r.indexStack.length-3]===0&&(o=!0),tv(r)===a&&d){let h=-1;for(;++h<e.children.length;){const m=e.children[h];if(m&&m.type==="listItem"&&m.children&&m.children[0]&&m.children[0].type==="thematicBreak"){o=!0;break}}}}o&&(a=l),r.bulletCurrent=a;const u=r.containerFlow(e,n);return r.bulletLastUsed=a,r.bulletCurrent=s,i(),u}function rN(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function nN(e,t,r,n){const i=rN(r);let s=r.bulletCurrent||$h(r);t&&t.type==="list"&&t.ordered&&(s=(typeof t.start=="number"&&t.start>-1?t.start:1)+(r.options.incrementListMarker===!1?0:t.children.indexOf(e))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(a=Math.ceil(a/4)*4);const l=r.createTracker(n);l.move(s+" ".repeat(a-s.length)),l.shift(a);const o=r.enter("listItem"),u=r.indentLines(r.containerFlow(e,l.current()),d);return o(),u;function d(h,m,f){return m?(f?"":" ".repeat(a))+h:(f?s:s+" ".repeat(a-s.length))+h}}function iN(e,t,r,n){const i=r.enter("paragraph"),s=r.enter("phrasing"),a=r.containerPhrasing(e,n);return s(),i(),a}const sN=Ka(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function aN(e,t,r,n){return(e.children.some(function(a){return sN(a)})?r.containerPhrasing:r.containerFlow).call(r,e,n)}function lN(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}rv.peek=oN;function rv(e,t,r,n){const i=lN(r),s=r.enter("strong"),a=r.createTracker(n),l=a.move(i+i);let o=a.move(r.containerPhrasing(e,{after:i,before:l,...a.current()}));const u=o.charCodeAt(0),d=Io(n.before.charCodeAt(n.before.length-1),u,i);d.inside&&(o=Da(u)+o.slice(1));const h=o.charCodeAt(o.length-1),m=Io(n.after.charCodeAt(0),h,i);m.inside&&(o=o.slice(0,-1)+Da(h));const f=a.move(i+i);return s(),r.attentionEncodeSurroundingInfo={after:m.outside,before:d.outside},l+o+f}function oN(e,t,r){return r.options.strong||"*"}function uN(e,t,r,n){return r.safe(e.value,n)}function cN(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function dN(e,t,r){const n=(tv(r)+(r.options.ruleSpaces?" ":"")).repeat(cN(r));return r.options.ruleSpaces?n.slice(0,-1):n}const nv={blockquote:Dj,break:op,code:Bj,definition:qj,emphasis:Gy,hardBreak:op,heading:Wj,html:Ky,image:Yy,imageReference:Qy,inlineCode:Xy,link:Zy,linkReference:ev,list:tN,listItem:nN,paragraph:iN,root:aN,strong:rv,text:uN,thematicBreak:dN};function hN(){return{enter:{table:fN,tableData:up,tableHeader:up,tableRow:pN},exit:{codeText:gN,table:mN,tableData:Cu,tableHeader:Cu,tableRow:Cu}}}function fN(e){const t=e._align;this.enter({type:"table",align:t.map(function(r){return r==="none"?null:r}),children:[]},e),this.data.inTable=!0}function mN(e){this.exit(e),this.data.inTable=void 0}function pN(e){this.enter({type:"tableRow",children:[]},e)}function Cu(e){this.exit(e)}function up(e){this.enter({type:"tableCell",children:[]},e)}function gN(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,yN));const r=this.stack[this.stack.length-1];r.type,r.value=t,this.exit(e)}function yN(e,t){return t==="|"?t:e}function vN(e){const t=e||{},r=t.tableCellPadding,n=t.tablePipeAlign,i=t.stringLength,s=r?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:m,table:a,tableCell:o,tableRow:l}};function a(f,y,k,N){return u(d(f,k,N),f.align)}function l(f,y,k,N){const v=h(f,k,N),w=u([v]);return w.slice(0,w.indexOf(`
`))}function o(f,y,k,N){const v=k.enter("tableCell"),w=k.enter("phrasing"),x=k.containerPhrasing(f,{...N,before:s,after:s});return w(),v(),x}function u(f,y){return Ij(f,{align:y,alignDelimiters:n,padding:r,stringLength:i})}function d(f,y,k){const N=f.children;let v=-1;const w=[],x=y.enter("table");for(;++v<N.length;)w[v]=h(N[v],y,k);return x(),w}function h(f,y,k){const N=f.children;let v=-1;const w=[],x=y.enter("tableRow");for(;++v<N.length;)w[v]=o(N[v],f,y,k);return x(),w}function m(f,y,k){let N=nv.inlineCode(f,y,k);return k.stack.includes("tableCell")&&(N=N.replace(/\|/g,"\\$&")),N}}function xN(){return{exit:{taskListCheckValueChecked:cp,taskListCheckValueUnchecked:cp,paragraph:bN}}}function wN(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:kN}}}function cp(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function bN(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const r=this.stack[this.stack.length-1];r.type;const n=r.children[0];if(n&&n.type==="text"){const i=t.children;let s=-1,a;for(;++s<i.length;){const l=i[s];if(l.type==="paragraph"){a=l;break}}a===r&&(n.value=n.value.slice(1),n.value.length===0?r.children.shift():r.position&&n.position&&typeof n.position.start.offset=="number"&&(n.position.start.column++,n.position.start.offset++,r.position.start=Object.assign({},n.position.start)))}}this.exit(e)}function kN(e,t,r,n){const i=e.children[0],s=typeof e.checked=="boolean"&&i&&i.type==="paragraph",a="["+(e.checked?"x":" ")+"] ",l=r.createTracker(n);s&&l.move(a);let o=nv.listItem(e,t,r,{...n,...l.current()});return s&&(o=o.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),o;function u(d){return d+a}}function SN(){return[rj(),Sj(),Cj(),hN(),xN()]}function _N(e){return{extensions:[nj(),_j(e),Ej(),vN(e),wN()]}}const jN={tokenize:MN,partial:!0},iv={tokenize:PN,partial:!0},sv={tokenize:IN,partial:!0},av={tokenize:zN,partial:!0},NN={tokenize:DN,partial:!0},lv={name:"wwwAutolink",tokenize:TN,previous:uv},ov={name:"protocolAutolink",tokenize:AN,previous:cv},wn={name:"emailAutolink",tokenize:EN,previous:dv},Yr={};function CN(){return{text:Yr}}let ai=48;for(;ai<123;)Yr[ai]=wn,ai++,ai===58?ai=65:ai===91&&(ai=97);Yr[43]=wn;Yr[45]=wn;Yr[46]=wn;Yr[95]=wn;Yr[72]=[wn,ov];Yr[104]=[wn,ov];Yr[87]=[wn,lv];Yr[119]=[wn,lv];function EN(e,t,r){const n=this;let i,s;return a;function a(h){return!nd(h)||!dv.call(n,n.previous)||qh(n.events)?r(h):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),l(h))}function l(h){return nd(h)?(e.consume(h),l):h===64?(e.consume(h),o):r(h)}function o(h){return h===46?e.check(NN,d,u)(h):h===45||h===95||Et(h)?(s=!0,e.consume(h),o):d(h)}function u(h){return e.consume(h),i=!0,o}function d(h){return s&&i&&Lt(n.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(h)):r(h)}}function TN(e,t,r){const n=this;return i;function i(a){return a!==87&&a!==119||!uv.call(n,n.previous)||qh(n.events)?r(a):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(jN,e.attempt(iv,e.attempt(sv,s),r),r)(a))}function s(a){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(a)}}function AN(e,t,r){const n=this;let i="",s=!1;return a;function a(h){return(h===72||h===104)&&cv.call(n,n.previous)&&!qh(n.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(h),e.consume(h),l):r(h)}function l(h){if(Lt(h)&&i.length<5)return i+=String.fromCodePoint(h),e.consume(h),l;if(h===58){const m=i.toLowerCase();if(m==="http"||m==="https")return e.consume(h),o}return r(h)}function o(h){return h===47?(e.consume(h),s?u:(s=!0,o)):r(h)}function u(h){return h===null||jo(h)||$e(h)||_i(h)||i0(h)?r(h):e.attempt(iv,e.attempt(sv,d),r)(h)}function d(h){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(h)}}function MN(e,t,r){let n=0;return i;function i(a){return(a===87||a===119)&&n<3?(n++,e.consume(a),i):a===46&&n===3?(e.consume(a),s):r(a)}function s(a){return a===null?r(a):t(a)}}function PN(e,t,r){let n,i,s;return a;function a(u){return u===46||u===95?e.check(av,o,l)(u):u===null||$e(u)||_i(u)||u!==45&&i0(u)?o(u):(s=!0,e.consume(u),a)}function l(u){return u===95?n=!0:(i=n,n=void 0),e.consume(u),a}function o(u){return i||n||!s?r(u):t(u)}}function IN(e,t){let r=0,n=0;return i;function i(a){return a===40?(r++,e.consume(a),i):a===41&&n<r?s(a):a===33||a===34||a===38||a===39||a===41||a===42||a===44||a===46||a===58||a===59||a===60||a===63||a===93||a===95||a===126?e.check(av,t,s)(a):a===null||$e(a)||_i(a)?t(a):(e.consume(a),i)}function s(a){return a===41&&n++,e.consume(a),i}}function zN(e,t,r){return n;function n(l){return l===33||l===34||l===39||l===41||l===42||l===44||l===46||l===58||l===59||l===63||l===95||l===126?(e.consume(l),n):l===38?(e.consume(l),s):l===93?(e.consume(l),i):l===60||l===null||$e(l)||_i(l)?t(l):r(l)}function i(l){return l===null||l===40||l===91||$e(l)||_i(l)?t(l):n(l)}function s(l){return Lt(l)?a(l):r(l)}function a(l){return l===59?(e.consume(l),n):Lt(l)?(e.consume(l),a):r(l)}}function DN(e,t,r){return n;function n(s){return e.consume(s),i}function i(s){return Et(s)?r(s):t(s)}}function uv(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||$e(e)}function cv(e){return!Lt(e)}function dv(e){return!(e===47||nd(e))}function nd(e){return e===43||e===45||e===46||e===95||Et(e)}function qh(e){let t=e.length,r=!1;for(;t--;){const n=e[t][1];if((n.type==="labelLink"||n.type==="labelImage")&&!n._balanced){r=!0;break}if(n._gfmAutolinkLiteralWalkedInto){r=!1;break}}return e.length>0&&!r&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),r}const ON={tokenize:HN,partial:!0};function LN(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:$N,continuation:{tokenize:qN},exit:UN}},text:{91:{name:"gfmFootnoteCall",tokenize:BN},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:RN,resolveTo:FN}}}}function RN(e,t,r){const n=this;let i=n.events.length;const s=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let a;for(;i--;){const o=n.events[i][1];if(o.type==="labelImage"){a=o;break}if(o.type==="gfmFootnoteCall"||o.type==="labelLink"||o.type==="label"||o.type==="image"||o.type==="link")break}return l;function l(o){if(!a||!a._balanced)return r(o);const u=zr(n.sliceSerialize({start:a.end,end:n.now()}));return u.codePointAt(0)!==94||!s.includes(u.slice(1))?r(o):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(o),e.exit("gfmFootnoteCallLabelMarker"),t(o))}}function FN(e,t){let r=e.length;for(;r--;)if(e[r][1].type==="labelImage"&&e[r][0]==="enter"){e[r][1];break}e[r+1][1].type="data",e[r+3][1].type="gfmFootnoteCallLabelMarker";const n={type:"gfmFootnoteCall",start:Object.assign({},e[r+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[r+3][1].end),end:Object.assign({},e[r+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const s={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},a={type:"chunkString",contentType:"string",start:Object.assign({},s.start),end:Object.assign({},s.end)},l=[e[r+1],e[r+2],["enter",n,t],e[r+3],e[r+4],["enter",i,t],["exit",i,t],["enter",s,t],["enter",a,t],["exit",a,t],["exit",s,t],e[e.length-2],e[e.length-1],["exit",n,t]];return e.splice(r,e.length-r+1,...l),e}function BN(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s=0,a;return l;function l(h){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),o}function o(h){return h!==94?r(h):(e.enter("gfmFootnoteCallMarker"),e.consume(h),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(h){if(s>999||h===93&&!a||h===null||h===91||$e(h))return r(h);if(h===93){e.exit("chunkString");const m=e.exit("gfmFootnoteCallString");return i.includes(zr(n.sliceSerialize(m)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(h),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):r(h)}return $e(h)||(a=!0),s++,e.consume(h),h===92?d:u}function d(h){return h===91||h===92||h===93?(e.consume(h),s++,u):u(h)}}function $N(e,t,r){const n=this,i=n.parser.gfmFootnotes||(n.parser.gfmFootnotes=[]);let s,a=0,l;return o;function o(y){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(y){return y===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):r(y)}function d(y){if(a>999||y===93&&!l||y===null||y===91||$e(y))return r(y);if(y===93){e.exit("chunkString");const k=e.exit("gfmFootnoteDefinitionLabelString");return s=zr(n.sliceSerialize(k)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(y),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),m}return $e(y)||(l=!0),a++,e.consume(y),y===92?h:d}function h(y){return y===91||y===92||y===93?(e.consume(y),a++,d):d(y)}function m(y){return y===58?(e.enter("definitionMarker"),e.consume(y),e.exit("definitionMarker"),i.includes(s)||i.push(s),Ne(e,f,"gfmFootnoteDefinitionWhitespace")):r(y)}function f(y){return t(y)}}function qN(e,t,r){return e.check(Ga,t,e.attempt(ON,t,r))}function UN(e){e.exit("gfmFootnoteDefinition")}function HN(e,t,r){const n=this;return Ne(e,i,"gfmFootnoteDefinitionIndent",5);function i(s){const a=n.events[n.events.length-1];return a&&a[1].type==="gfmFootnoteDefinitionIndent"&&a[2].sliceSerialize(a[1],!0).length===4?t(s):r(s)}}function VN(e){let r=(e||{}).singleTilde;const n={name:"strikethrough",tokenize:s,resolveAll:i};return r==null&&(r=!0),{text:{126:n},insideSpan:{null:[n]},attentionMarkers:{null:[126]}};function i(a,l){let o=-1;for(;++o<a.length;)if(a[o][0]==="enter"&&a[o][1].type==="strikethroughSequenceTemporary"&&a[o][1]._close){let u=o;for(;u--;)if(a[u][0]==="exit"&&a[u][1].type==="strikethroughSequenceTemporary"&&a[u][1]._open&&a[o][1].end.offset-a[o][1].start.offset===a[u][1].end.offset-a[u][1].start.offset){a[o][1].type="strikethroughSequence",a[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},a[u][1].start),end:Object.assign({},a[o][1].end)},h={type:"strikethroughText",start:Object.assign({},a[u][1].end),end:Object.assign({},a[o][1].start)},m=[["enter",d,l],["enter",a[u][1],l],["exit",a[u][1],l],["enter",h,l]],f=l.parser.constructs.insideSpan.null;f&&lr(m,m.length,0,s0(f,a.slice(u+1,o),l)),lr(m,m.length,0,[["exit",h,l],["enter",a[o][1],l],["exit",a[o][1],l],["exit",d,l]]),lr(a,u-1,o-u+3,m),o=u+m.length-2;break}}for(o=-1;++o<a.length;)a[o][1].type==="strikethroughSequenceTemporary"&&(a[o][1].type="data");return a}function s(a,l,o){const u=this.previous,d=this.events;let h=0;return m;function m(y){return u===126&&d[d.length-1][1].type!=="characterEscape"?o(y):(a.enter("strikethroughSequenceTemporary"),f(y))}function f(y){const k=bs(u);if(y===126)return h>1?o(y):(a.consume(y),h++,f);if(h<2&&!r)return o(y);const N=a.exit("strikethroughSequenceTemporary"),v=bs(y);return N._open=!v||v===2&&!!k,N._close=!k||k===2&&!!v,l(y)}}}class WN{constructor(){this.map=[]}add(t,r,n){GN(this,t,r,n)}consume(t){if(this.map.sort(function(s,a){return s[0]-a[0]}),this.map.length===0)return;let r=this.map.length;const n=[];for(;r>0;)r-=1,n.push(t.slice(this.map[r][0]+this.map[r][1]),this.map[r][2]),t.length=this.map[r][0];n.push(t.slice()),t.length=0;let i=n.pop();for(;i;){for(const s of i)t.push(s);i=n.pop()}this.map.length=0}}function GN(e,t,r,n){let i=0;if(!(r===0&&n.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=r,e.map[i][2].push(...n);return}i+=1}e.map.push([t,r,n])}}function KN(e,t){let r=!1;const n=[];for(;t<e.length;){const i=e[t];if(r){if(i[0]==="enter")i[1].type==="tableContent"&&n.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const s=n.length-1;n[s]=n[s]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(r=!0);t+=1}return n}function YN(){return{flow:{null:{name:"table",tokenize:QN,resolveAll:XN}}}}function QN(e,t,r){const n=this;let i=0,s=0,a;return l;function l(M){let U=n.events.length-1;for(;U>-1;){const B=n.events[U][1].type;if(B==="lineEnding"||B==="linePrefix")U--;else break}const L=U>-1?n.events[U][1].type:null,te=L==="tableHead"||L==="tableRow"?_:o;return te===_&&n.parser.lazy[n.now().line]?r(M):te(M)}function o(M){return e.enter("tableHead"),e.enter("tableRow"),u(M)}function u(M){return M===124||(a=!0,s+=1),d(M)}function d(M){return M===null?r(M):ue(M)?s>1?(s=0,n.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(M),e.exit("lineEnding"),f):r(M):Ee(M)?Ne(e,d,"whitespace")(M):(s+=1,a&&(a=!1,i+=1),M===124?(e.enter("tableCellDivider"),e.consume(M),e.exit("tableCellDivider"),a=!0,d):(e.enter("data"),h(M)))}function h(M){return M===null||M===124||$e(M)?(e.exit("data"),d(M)):(e.consume(M),M===92?m:h)}function m(M){return M===92||M===124?(e.consume(M),h):h(M)}function f(M){return n.interrupt=!1,n.parser.lazy[n.now().line]?r(M):(e.enter("tableDelimiterRow"),a=!1,Ee(M)?Ne(e,y,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(M):y(M))}function y(M){return M===45||M===58?N(M):M===124?(a=!0,e.enter("tableCellDivider"),e.consume(M),e.exit("tableCellDivider"),k):I(M)}function k(M){return Ee(M)?Ne(e,N,"whitespace")(M):N(M)}function N(M){return M===58?(s+=1,a=!0,e.enter("tableDelimiterMarker"),e.consume(M),e.exit("tableDelimiterMarker"),v):M===45?(s+=1,v(M)):M===null||ue(M)?j(M):I(M)}function v(M){return M===45?(e.enter("tableDelimiterFiller"),w(M)):I(M)}function w(M){return M===45?(e.consume(M),w):M===58?(a=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(M),e.exit("tableDelimiterMarker"),x):(e.exit("tableDelimiterFiller"),x(M))}function x(M){return Ee(M)?Ne(e,j,"whitespace")(M):j(M)}function j(M){return M===124?y(M):M===null||ue(M)?!a||i!==s?I(M):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(M)):I(M)}function I(M){return r(M)}function _(M){return e.enter("tableRow"),z(M)}function z(M){return M===124?(e.enter("tableCellDivider"),e.consume(M),e.exit("tableCellDivider"),z):M===null||ue(M)?(e.exit("tableRow"),t(M)):Ee(M)?Ne(e,z,"whitespace")(M):(e.enter("data"),R(M))}function R(M){return M===null||M===124||$e(M)?(e.exit("data"),z(M)):(e.consume(M),M===92?q:R)}function q(M){return M===92||M===124?(e.consume(M),R):R(M)}}function XN(e,t){let r=-1,n=!0,i=0,s=[0,0,0,0],a=[0,0,0,0],l=!1,o=0,u,d,h;const m=new WN;for(;++r<e.length;){const f=e[r],y=f[1];f[0]==="enter"?y.type==="tableHead"?(l=!1,o!==0&&(dp(m,t,o,u,d),d=void 0,o=0),u={type:"table",start:Object.assign({},y.start),end:Object.assign({},y.end)},m.add(r,0,[["enter",u,t]])):y.type==="tableRow"||y.type==="tableDelimiterRow"?(n=!0,h=void 0,s=[0,0,0,0],a=[0,r+1,0,0],l&&(l=!1,d={type:"tableBody",start:Object.assign({},y.start),end:Object.assign({},y.end)},m.add(r,0,[["enter",d,t]])),i=y.type==="tableDelimiterRow"?2:d?3:1):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")?(n=!1,a[2]===0&&(s[1]!==0&&(a[0]=a[1],h=Pl(m,t,s,i,void 0,h),s=[0,0,0,0]),a[2]=r)):y.type==="tableCellDivider"&&(n?n=!1:(s[1]!==0&&(a[0]=a[1],h=Pl(m,t,s,i,void 0,h)),s=a,a=[s[1],r,0,0])):y.type==="tableHead"?(l=!0,o=r):y.type==="tableRow"||y.type==="tableDelimiterRow"?(o=r,s[1]!==0?(a[0]=a[1],h=Pl(m,t,s,i,r,h)):a[1]!==0&&(h=Pl(m,t,a,i,r,h)),i=0):i&&(y.type==="data"||y.type==="tableDelimiterMarker"||y.type==="tableDelimiterFiller")&&(a[3]=r)}for(o!==0&&dp(m,t,o,u,d),m.consume(t.events),r=-1;++r<t.events.length;){const f=t.events[r];f[0]==="enter"&&f[1].type==="table"&&(f[1]._align=KN(t.events,r))}return e}function Pl(e,t,r,n,i,s){const a=n===1?"tableHeader":n===2?"tableDelimiter":"tableData",l="tableContent";r[0]!==0&&(s.end=Object.assign({},Vi(t.events,r[0])),e.add(r[0],0,[["exit",s,t]]));const o=Vi(t.events,r[1]);if(s={type:a,start:Object.assign({},o),end:Object.assign({},o)},e.add(r[1],0,[["enter",s,t]]),r[2]!==0){const u=Vi(t.events,r[2]),d=Vi(t.events,r[3]),h={type:l,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(r[2],0,[["enter",h,t]]),n!==2){const m=t.events[r[2]],f=t.events[r[3]];if(m[1].end=Object.assign({},f[1].end),m[1].type="chunkText",m[1].contentType="text",r[3]>r[2]+1){const y=r[2]+1,k=r[3]-r[2]-1;e.add(y,k,[])}}e.add(r[3]+1,0,[["exit",h,t]])}return i!==void 0&&(s.end=Object.assign({},Vi(t.events,i)),e.add(i,0,[["exit",s,t]]),s=void 0),s}function dp(e,t,r,n,i){const s=[],a=Vi(t.events,r);i&&(i.end=Object.assign({},a),s.push(["exit",i,t])),n.end=Object.assign({},a),s.push(["exit",n,t]),e.add(r+1,0,s)}function Vi(e,t){const r=e[t],n=r[0]==="enter"?"start":"end";return r[1][n]}const JN={name:"tasklistCheck",tokenize:eC};function ZN(){return{text:{91:JN}}}function eC(e,t,r){const n=this;return i;function i(o){return n.previous!==null||!n._gfmTasklistFirstContentOfListItem?r(o):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(o),e.exit("taskListCheckMarker"),s)}function s(o){return $e(o)?(e.enter("taskListCheckValueUnchecked"),e.consume(o),e.exit("taskListCheckValueUnchecked"),a):o===88||o===120?(e.enter("taskListCheckValueChecked"),e.consume(o),e.exit("taskListCheckValueChecked"),a):r(o)}function a(o){return o===93?(e.enter("taskListCheckMarker"),e.consume(o),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),l):r(o)}function l(o){return ue(o)?t(o):Ee(o)?e.check({tokenize:tC},t,r)(o):r(o)}}function tC(e,t,r){return Ne(e,n,"whitespace");function n(i){return i===null?r(i):t(i)}}function rC(e){return v2([CN(),LN(),VN(e),YN(),ZN()])}const nC={};function iC(e){const t=this,r=e||nC,n=t.data(),i=n.micromarkExtensions||(n.micromarkExtensions=[]),s=n.fromMarkdownExtensions||(n.fromMarkdownExtensions=[]),a=n.toMarkdownExtensions||(n.toMarkdownExtensions=[]);i.push(rC(r)),s.push(SN()),a.push(_N(r))}function sC({role:e,content:t,isStreaming:r=!1,onStreamUpdate:n}){const[i,s]=F.useState(""),[a,l]=F.useState(0),u=(h=>h.replace(/<sn>/g,"").replace(/<\/sn>/g,"").replace(/<sn\/>/g,"").replace(/<br>/g,`
`).replace(/<br\/>/g,`
`).replace(/<[^>]*>/g,""))(t);F.useEffect(()=>{if(!r){s(u),l(u.length);return}if(a<u.length){const h=Math.min(3,u.length-a),m=setTimeout(()=>{s(u.slice(0,a+h)),l(a+h),n&&n()},15);return()=>clearTimeout(m)}},[u,a,r,n]),F.useEffect(()=>{r?(s(""),l(0)):(s(u),l(u.length))},[u,r]);const d=e==="user";return c.jsx("div",{className:`flex ${d?"justify-end":"justify-start"} w-full mb-2`,children:c.jsx("div",{className:`px-4 py-2.5 rounded-lg break-words whitespace-pre-wrap ${d?"bg-black text-white":"bg-gray-100 text-gray-900"}`,style:{width:d?"fit-content":"100%",minWidth:"fit-content"},children:d?c.jsx("p",{className:"text-sm",children:u}):c.jsx("div",{className:`text-sm prose prose-sm max-w-full\r
            prose-headings:mt-3 prose-headings:mb-2\r
            prose-p:my-2 prose-p:leading-relaxed\r
            prose-ul:my-2 prose-ul:pl-5 prose-ul:list-disc prose-li:leading-relaxed\r
            prose-ol:my-2 prose-ol:pl-5 prose-ol:list-decimal prose-li:leading-relaxed\r
            prose-code:text-xs prose-code:bg-gray-200 prose-code:px-1 prose-code:py-0.5 prose-code:rounded\r
            prose-pre:bg-gray-200 prose-pre:text-gray-900\r
            prose-strong:text-gray-900 prose-strong:font-semibold\r
            prose-em:text-gray-800`,children:c.jsx(nk,{remarkPlugins:[v_,iC],rehypePlugins:[Q_],components:{h1:({children:h})=>c.jsx("h1",{className:"text-lg font-bold text-gray-900 border-b border-gray-300 pb-1",children:h}),h2:({children:h})=>c.jsx("h2",{className:"text-base font-bold text-gray-900 mt-4 mb-2",children:h}),h3:({children:h})=>c.jsx("h3",{className:"text-sm font-semibold text-gray-900 mt-3 mb-1.5",children:h}),p:({children:h})=>c.jsx("p",{className:"text-sm text-gray-900 leading-relaxed my-2",children:h}),ul:({children:h})=>c.jsx("ul",{className:"list-disc pl-5 my-2",children:h}),ol:({children:h})=>c.jsx("ol",{className:"list-decimal pl-5 my-2",children:h}),li:({children:h})=>c.jsx("li",{className:"text-sm text-gray-900 leading-relaxed",children:h}),strong:({children:h})=>c.jsx("strong",{className:"font-semibold text-gray-900",children:h}),em:({children:h})=>c.jsx("em",{className:"italic text-gray-800",children:h}),code:({className:h,children:m})=>!h?c.jsx("code",{className:"bg-gray-200 text-gray-900 px-1.5 py-0.5 rounded text-xs font-mono",children:m}):c.jsx("code",{className:"block bg-gray-200 text-gray-900 p-2 rounded text-xs font-mono overflow-x-auto my-2",children:m}),blockquote:({children:h})=>c.jsx("blockquote",{className:"border-l-4 border-gray-300 pl-3 italic text-gray-700 my-2",children:h}),a:({href:h,children:m})=>c.jsx("a",{href:h,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 underline",children:m}),table:({children:h})=>c.jsx("div",{className:"overflow-x-auto my-2",children:c.jsx("table",{className:"min-w-full border-collapse border border-gray-300",children:h})}),thead:({children:h})=>c.jsx("thead",{className:"bg-gray-200",children:h}),th:({children:h})=>c.jsx("th",{className:"border border-gray-300 px-3 py-1.5 text-left text-xs font-semibold text-gray-900",children:h}),td:({children:h})=>c.jsx("td",{className:"border border-gray-300 px-3 py-1.5 text-xs text-gray-900",children:h})},children:r?i:u})})})})}function aC({paperId:e,conversationId:t,onBack:r,onLoginRequired:n}){const{user:i}=vn(),[s,a]=F.useState(null),[l,o]=F.useState(""),[u,d]=F.useState(!0),[h,m]=F.useState([]),[f,y]=F.useState([]),[k,N]=F.useState(!1),[v,w]=F.useState([]),[x,j]=F.useState(""),[I,_]=F.useState(!0),[z,R]=F.useState(!1),[q,M]=F.useState(null),[U,L]=F.useState("pdf"),[te,B]=F.useState(t||null),[H,Z]=F.useState(!1),[ce,$]=F.useState(!1),[G,C]=F.useState(null),[ge,ye]=F.useState(new Map);F.useState(!1);const[A,ze]=F.useState(-1),[st,Me]=F.useState(!1),Je=F.useRef(null);F.useEffect(()=>{J();const oe=()=>{const ne=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);Z(ne)};return oe(),window.addEventListener("resize",oe),()=>window.removeEventListener("resize",oe)},[e]),F.useEffect(()=>{i&&e&&(t?we(t):mt())},[t,i,e]);const mt=async()=>{if(!(!i||!e))try{const{data:oe,error:ne}=await se.from("conversations").select("id").eq("user_id",i.id).eq("exam_paper_id",e).maybeSingle();if(ne)throw ne;oe?(console.log("Existing conversation found, loading..."),B(oe.id),we(oe.id)):console.log("No existing conversation for this paper")}catch(oe){console.error("Error checking for existing conversation:",oe)}};F.useEffect(()=>{De()},[v]),F.useEffect(()=>{s!=null&&s.pdf_path&&H!==null&&Sr()},[s,H]);const Pt=oe=>{const ne=oe.toLowerCase();return ne.includes("help")||ne.includes("stuck")||ne.includes("don't understand")?`Hey! I can see you need help. To give you the best explanation, could you tell me which specific question you're working on?

Just say something like:
- "Question 2"
- "Help with Q5b"
- "I'm stuck on question 3"

Once I know which question, I can walk you through it step by step! 😊`:ne.includes("explain")||ne.includes("how")||ne.includes("what")?`I'd be happy to explain! But first, which question are you asking about?

You can say:
- "Question 4"
- "Q2a"
- "Explain question 7"

This helps me focus on exactly what you need! 📚`:ne.includes("solve")||ne.includes("answer")||ne.includes("solution")?`Sure, I can help you solve that! Which question number are you working on?

Just tell me like:
- "Question 3"
- "Solve Q6"
- "What's the answer to question 1?"

Let me know and I'll guide you through it! ✨`:`Hey! I'd love to help you with that. Could you please specify which question you're asking about? 

For example, you can say:
- "Question 2"
- "Q3b"
- "Can you help with question 5?"

This helps me give you the most accurate and focused help! 😊`},It=oe=>{if(!oe)return null;const ne=oe.toLowerCase().trim(),Ae=ne.match(/(?:question|q)\s*(\d+)[a-z]*/i);if(Ae)return Ae[1];const je=ne.match(/^(\d+)[a-z]*/);return je?je[1]:null},Sr=async()=>{var oe;if(s)try{if(d(!0),N(!0),$(!1),H){const{data:ie,error:Ye}=await se.storage.from("exam-papers").createSignedUrl(s.pdf_path,3600);if(Ye||!(ie!=null&&ie.signedUrl))throw console.error("Failed to get signed URL:",Ye),new Error("Failed to get signed URL");await new Promise(D=>setTimeout(D,800)),o(ie.signedUrl)}else{const{data:ie,error:Ye}=await se.storage.from("exam-papers").download(s.pdf_path);if(Ye)throw Ye;const D=new Blob([ie],{type:"application/pdf"}),W=URL.createObjectURL(D);o(W)}const{data:ne,error:Ae}=await se.storage.from("exam-papers").download(s.pdf_path);if(Ae)throw Ae;const je=new Blob([ne],{type:"application/pdf"}),at=new File([je],"exam.pdf",{type:"application/pdf"}),Be=await _o(at);if(m(Be.map(ie=>ie.inlineData.data)),(oe=s.marking_schemes)!=null&&oe.pdf_path)try{const{data:ie}=await se.storage.from("marking-schemes").download(s.marking_schemes.pdf_path);if(ie){const Ye=new Blob([ie],{type:"application/pdf"}),D=new File([Ye],"scheme.pdf",{type:"application/pdf"}),W=await _o(D);y(W.map(de=>de.inlineData.data))}}catch(ie){console.error("Error loading marking scheme:",ie)}}catch(ne){console.error("Error loading PDF:",ne);const{data:{publicUrl:Ae}}=se.storage.from("exam-papers").getPublicUrl(s.pdf_path);o(Ae||s.pdf_url)}finally{d(!1),N(!1)}},J=async()=>{var oe;try{const{data:ne,error:Ae}=await se.from("exam_papers").select(`
          *,
          subjects (name),
          grade_levels (name),
          marking_schemes (pdf_url, pdf_path)
        `).eq("id",e).single();if(Ae)throw Ae;if(a(ne),i){const{data:je,error:at}=await se.rpc("check_user_subscription_access",{p_user_id:i.id,p_feature:"paper_access"});if(at)console.error("Error checking paper access:",at);else if(je&&je.length>0){const Be=je[0];if(ze(Be.papers_remaining),Be.tier_name==="free"){const{data:ie}=await se.from("user_subscriptions").select("accessed_paper_ids, papers_accessed_current_period, subscription_tiers!inner(papers_limit)").eq("user_id",i.id).eq("status","active").single();if(ie){const Ye=ie.accessed_paper_ids.includes(e),D=((oe=ie.subscription_tiers)==null?void 0:oe.papers_limit)||2;ie.papers_accessed_current_period>=D&&!Ye?(Me(!0),console.log(`Free tier: Chat locked - already used chat on ${ie.papers_accessed_current_period}/${D} papers`)):(Me(!1),console.log(`Free tier: Chat available - ${ie.papers_accessed_current_period}/${D} papers with chat used`)),ze(D-ie.papers_accessed_current_period)}}}}}catch(ne){console.error("Error fetching exam paper:",ne)}finally{_(!1)}},we=async oe=>{try{const{data:ne,error:Ae}=await se.from("conversation_messages").select("role, content, question_number, created_at").eq("conversation_id",oe).order("created_at",{ascending:!0});if(Ae)throw Ae;const je=ne.map((Be,ie)=>({role:Be.role,content:Be.content,questionNumber:Be.question_number}));if(console.log("📨 Loaded messages order:",je.map((Be,ie)=>`${ie}: ${Be.role} - ${Be.content.substring(0,30)}...`)),je.length>0){const Be=new Date(ne[ne.length-1].created_at),ie=new Date;if(Be.toDateString()!==ie.toDateString()){const D={role:"assistant",content:`Welcome back! 👋

I see you're continuing your work on this exam paper. Feel free to ask about any question you'd like to work on today!

Just say something like:
- "Question 3"
- "Help with Q7"
- "Let's do question 5"

Ready when you are!`,questionNumber:null};w([...je,D])}else w(je)}else w(je);B(oe);const at=[...je].reverse().find(Be=>Be.questionNumber);at!=null&&at.questionNumber&&C(at.questionNumber),setTimeout(()=>De(),100)}catch(ne){console.error("Error loading conversation:",ne)}},Fe=async(oe,ne,Ae)=>{if(i)try{let je=te;if(!je){const{data:ie}=await se.from("conversations").select("id").eq("user_id",i.id).eq("exam_paper_id",e).maybeSingle();if(ie)je=ie.id,B(je);else{const Ye=(s==null?void 0:s.title)||oe.slice(0,50)+(oe.length>50?"...":""),{data:D,error:W}=await se.from("conversations").insert({user_id:i.id,exam_paper_id:e,title:Ye}).select().single();if(W)throw W;je=D.id,B(je)}}const{error:at}=await se.from("conversation_messages").insert({conversation_id:je,role:"user",content:oe,question_number:Ae,has_images:!1});if(at)throw at;await new Promise(ie=>setTimeout(ie,10));const{error:Be}=await se.from("conversation_messages").insert({conversation_id:je,role:"assistant",content:ne,question_number:Ae,has_images:!1});if(Be)throw Be}catch(je){console.error("Error saving conversation:",je)}},De=()=>{Je.current&&Je.current.scrollIntoView({behavior:"smooth",block:"end"})},Re=async oe=>{if(ge.has(oe))return console.log(`📦 Using cached data for Question ${oe}`),ge.get(oe);console.log(`🔍 Fetching data for Question ${oe}`);const{data:ne,error:Ae}=await se.from("exam_questions").select("id, question_number, ocr_text, image_url, image_urls, page_numbers, marking_scheme_text").eq("exam_paper_id",s.id).eq("question_number",oe).maybeSingle();if(!ne||Ae)return null;const je=ne.image_urls&&ne.image_urls.length>0?ne.image_urls:[ne.image_url],at=[];for(let ie=0;ie<je.length;ie++){const Ye=je[ie];if(Ye)try{const D=await fetch(Ye);if(!D.ok)continue;const W=await D.blob(),de=new FileReader,xe=await new Promise((he,Oe)=>{de.onloadend=()=>{const Zt=de.result.split(",")[1];he(Zt)},de.onerror=Oe,de.readAsDataURL(W)});at.push(xe)}catch(D){console.error(`Failed to load image ${ie+1}:`,D)}}const Be={exam:at,markingSchemeText:ne.marking_scheme_text||"",questionText:ne.ocr_text||""};return ye(ie=>new Map(ie).set(oe,Be)),console.log(`💾 Cached data for Question ${oe}`),console.log(`📝 Marking scheme text available: ${!!Be.markingSchemeText}`),Be},Ze=async oe=>{var Ae,je,at,Be;if(oe.preventDefault(),!x.trim()||z||!s)return;if(i){const{data:ie}=await se.from("user_subscriptions").select("accessed_paper_ids, papers_accessed_current_period, tokens_used_current_period, subscription_tiers!inner(name, papers_limit, token_limit)").eq("user_id",i.id).eq("status","active").single();if(ie){const Ye=(Ae=ie.subscription_tiers)==null?void 0:Ae.name,D=(je=ie.subscription_tiers)==null?void 0:je.papers_limit,W=(at=ie.subscription_tiers)==null?void 0:at.token_limit,de=ie.accessed_paper_ids.includes(e);if(W!==null&&ie.tokens_used_current_period>=W){w(xe=>[...xe,{role:"assistant",content:`🔒 **Token Limit Reached**

You've used all ${W.toLocaleString()} tokens for this month.

**To continue using AI chat:**
- Upgrade to **Student Package** ($15/month) - Get 500K tokens/month
- Upgrade to **Professional Package** ($25/month) - Unlimited tokens

Your tokens will reset at the start of next month.`}]);return}if(Ye==="free"&&D!==null&&!de&&ie.papers_accessed_current_period>=D){w(xe=>[...xe,{role:"assistant",content:`🔒 **Paper Limit Reached**

You can view this exam paper, but you've used AI chat on ${D} papers already (your free tier limit).

You still have **${W?W-ie.tokens_used_current_period:0} tokens** remaining, but they can only be used on the ${D} papers you've already chatted with.

**To unlock AI chat for more papers:**
- Upgrade to **Student Package** ($15/month) - Chat with unlimited papers
- Upgrade to **Professional Package** ($25/month) - Unlimited everything

You can still view and download this exam paper!`}]);return}if(Ye==="free"&&!de){const xe=[...ie.accessed_paper_ids,e],{error:he}=await se.from("user_subscriptions").update({papers_accessed_current_period:ie.papers_accessed_current_period+1,accessed_paper_ids:xe}).eq("user_id",i.id).eq("status","active");if(he)console.error("Error tracking paper chat usage:",he);else{const Oe=ie.papers_accessed_current_period+1;console.log(`✅ Free tier: Tracked chat usage for paper ${e} (${Oe}/${D} papers used)`),console.log(`📊 Remaining: ${D-Oe} papers, ${W?W-ie.tokens_used_current_period:"unlimited"} tokens`),ze((D||2)-Oe)}}}}const ne=x.trim();j(""),w(ie=>[...ie,{role:"user",content:ne}]),R(!0);try{const ie=It(ne);console.log("Original input:",ne),console.log("Extracted question number:",ie),console.log("Last question number:",G);const Ye=ie&&G&&ie===G;let D={question:ne,provider:"gemini",examPaperId:s.id,conversationId:te,userId:i==null?void 0:i.id,lastQuestionNumber:G};if(Ye)console.log("💬 Follow-up question detected - using conversation context (no images sent)"),D.optimizedMode=!0,D.questionNumber=ie,D.examPaperImages=[],D.markingSchemeImages=[];else if(ie){const he=await Re(ie);he&&he.exam.length>0?(console.log(`✅ Question ${ie} found`),console.log(`   - Exam images: ${he.exam.length}`),console.log("   - Marking scheme: TEXT (not images)"),console.log("💰 Cost optimization: Using text instead of marking scheme images"),D.optimizedMode=!0,D.questionNumber=ie,D.examPaperImages=he.exam,D.markingSchemeText=he.markingSchemeText,D.questionText=he.questionText,C(ie)):(console.log(`❌ Question ${ie} not found in database, using fallback mode`),D.optimizedMode=!1,D.examPaperImages=h,D.markingSchemeImages=f)}else if(console.log("⚠️ No question number detected"),G){console.log(`✅ Assuming continuation of Question ${G}`);const he=await Re(G);he&&he.exam.length>0?(D.optimizedMode=!0,D.questionNumber=G,D.examPaperImages=he.exam,D.markingSchemeText=he.markingSchemeText,D.questionText=he.questionText,console.log(`💬 Continuing conversation for Question ${G}`)):(console.log(`❌ Question ${G} data not found`),D.optimizedMode=!1,D.examPaperImages=h,D.markingSchemeImages=f)}else if(v.length===1){console.log("🆕 First message in new conversation - asking if they mean Question 1");const he=`Hey there! 👋

I'd love to help you with that! Since this is your first question, are you asking about **Question 1**?

If yes, just type "yes" or "Question 1".
If you meant a different question, just tell me the question number like:
- "Question 2"
- "Q5"
- "No, question 3"

Let me know! 😊`;w(Oe=>[...Oe,{role:"assistant",content:he,questionNumber:null}]),R(!1);return}else{console.log("❓ Asking student for clarification");const he=Pt(ne);w(Oe=>[...Oe,{role:"assistant",content:he,questionNumber:null}]),R(!1);return}const W=await fetch("https://xtgwncqaxwjyvjkczxjv.supabase.co/functions/v1/exam-assistant",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh0Z3duY3FheHdqeXZqa2N6eGp2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3NjEwNzYsImV4cCI6MjA3NTMzNzA3Nn0.vme9Moaoj03UrQdyX5cMm7vrIlvWq8_860ZJSENcFL0"},body:JSON.stringify(D)});if(!W.ok)throw new Error("Failed to get response from AI");const de=await W.json();if(de.questionNotFound){console.log("⚠️ Question does not exist in exam paper"),w(he=>[...he,{role:"assistant",content:de.answer,questionNumber:ie}]),R(!1);return}const xe=de.answer;if(de.isFollowUp)console.log("💰 FOLLOW-UP: Saved 100% of image costs (0 images sent, used conversation history)");else if(D.optimizedMode){const he=h.length+f.length,Oe=((Be=D.examPaperImages)==null?void 0:Be.length)||0,_r=f.length,Zt=!!D.markingSchemeText;console.log("✅ OPTIMIZED MODE:"),console.log(`   - Exam images sent: ${Oe} (only for this question)`),console.log(`   - Marking scheme: ${Zt?"TEXT (0 images)":"No marking scheme"}`),console.log(`   - Total images saved: ${he-Oe} out of ${he}`);const ti=Math.round((he-Oe)/he*100);console.log(`💰 Cost savings: approximately ${ti}%`)}else console.log(`⚠️ Used full PDF fallback mode (${h.length+f.length} images)`);w(he=>{const Oe=[...he,{role:"assistant",content:xe,questionNumber:ie}];return M(Oe.length-1),Oe}),setTimeout(()=>{M(null)},xe.length/3*15+200),await Fe(ne,xe,ie)}catch(ie){console.error("Error sending message:",ie),w(Ye=>[...Ye,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{R(!1)}};return I?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsx(pi,{className:"w-8 h-8 animate-spin text-gray-600"})}):s?c.jsxs("div",{className:"h-screen flex flex-col bg-gray-50 overflow-hidden fixed inset-0",children:[c.jsxs("div",{className:"bg-white border-b border-gray-200 px-4 py-3 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded transition-colors",children:c.jsx(l7,{className:"w-5 h-5 text-gray-700"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"font-semibold text-gray-900",children:s.title}),c.jsxs("p",{className:"text-xs text-gray-500",children:[s.grade_levels.name," - ",s.subjects.name]})]})]}),c.jsx("div",{className:"flex md:hidden",children:c.jsxs("div",{className:"relative bg-gray-200 rounded-full p-1 flex items-center",children:[c.jsx("div",{className:`absolute top-1 bottom-1 w-[calc(50%-4px)] bg-black rounded-full transition-transform duration-300 ease-in-out ${U==="chat"?"translate-x-[calc(100%+8px)]":"translate-x-0"}`}),c.jsx("button",{onClick:()=>L("pdf"),className:`relative z-10 px-4 py-1.5 text-sm font-medium transition-colors duration-300 ${U==="pdf"?"text-white":"text-gray-600"}`,children:c.jsx(ln,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>L("chat"),className:`relative z-10 px-4 py-1.5 text-sm font-medium transition-colors duration-300 ${U==="chat"?"text-white":"text-gray-600"}`,children:c.jsx(Vn,{className:"w-4 h-4"})})]})})]}),c.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[c.jsx("div",{className:`${U==="pdf"?"flex":"hidden md:flex"} flex-1 bg-gray-100 relative`,children:u?c.jsx("div",{className:"flex-1 flex items-center justify-center",children:c.jsxs("div",{className:"text-center",children:[c.jsx(pi,{className:"w-12 h-12 animate-spin text-gray-400 mx-auto mb-3"}),c.jsx("p",{className:"text-gray-600",children:"Loading PDF..."})]})}):l?c.jsx(c.Fragment,{children:H?c.jsxs(c.Fragment,{children:[c.jsx("iframe",{src:`https://docs.google.com/viewer?url=${encodeURIComponent(l)}&embedded=true`,className:"w-full h-full border-0",title:"Exam Paper",allow:"fullscreen",onLoad:()=>{setTimeout(()=>$(!1),2e3)},onError:()=>$(!0)},l),ce&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx(ln,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"PDF failed to load"}),c.jsx("button",{onClick:()=>{o(""),$(!1),setTimeout(()=>Sr(),100)},className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Reload PDF"})]})})]}):c.jsx("iframe",{src:l,className:"w-full h-full border-0",title:"Exam Paper",allow:"fullscreen"})}):c.jsx("div",{className:"flex-1 flex items-center justify-center",children:c.jsxs("div",{className:"text-center max-w-md p-6",children:[c.jsx(ln,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600 mb-4",children:"Unable to load PDF viewer."}),c.jsx("a",{href:s.pdf_url,target:"_blank",rel:"noopener noreferrer",className:"inline-block px-4 py-2 bg-black text-white rounded hover:bg-gray-800 transition-colors",children:"Open PDF in New Tab"})]})})}),c.jsxs("div",{className:`${U==="chat"?"flex":"hidden md:flex"} w-full md:w-[500px] lg:w-[600px] flex-col bg-white border-l border-gray-200 h-full pb-safe`,children:[c.jsxs("div",{className:"p-4 border-b border-gray-200 bg-white flex-shrink-0",children:[c.jsx("h2",{className:"font-semibold text-gray-900",children:"AI Study Assistant"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:k?c.jsxs("span",{className:"flex items-center",children:[c.jsx(pi,{className:"w-3 h-3 animate-spin mr-1"}),"Processing PDFs for AI analysis..."]}):G?`Currently discussing Question ${G}`:"Ask your question in this format: Question 1"})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{scrollBehavior:"smooth"},children:[i?v.length===0?c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center max-w-sm px-6",children:[c.jsx(Vn,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Welcome to Your AI Study Assistant!"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"I'm here to help you understand and solve questions from this exam paper."}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 text-left",children:[c.jsx("p",{className:"text-xs font-medium text-gray-700 mb-2",children:"To get started, tell me which question you'd like help with:"}),c.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[c.jsx("li",{children:'• "Question 2"'}),c.jsx("li",{children:'• "Help with Q5"'}),c.jsx("li",{children:'• "Explain question 3b"'})]})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-4",children:"I'll guide you through step-by-step solutions and exam tips!"})]})}):null:c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center max-w-sm",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:c.jsx(Sm,{className:"w-8 h-8 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Sign In Required"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Sign in to chat with the AI tutor and get help with your exam questions."}),c.jsx("button",{onClick:n,className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Sign In or Sign Up"})]})}),v.map((oe,ne)=>c.jsx(sC,{role:oe.role,content:oe.content,isStreaming:ne===q,onStreamUpdate:De},ne)),z&&c.jsx("div",{className:"flex justify-start",children:c.jsx("div",{className:"bg-gray-100 text-gray-900 rounded-lg px-4 py-2.5",children:c.jsx(pi,{className:"w-4 h-4 animate-spin"})})}),c.jsx("div",{ref:Je})]}),i&&c.jsx("div",{className:"px-4 pt-4 pb-20 md:pb-4 border-t border-gray-200 bg-white flex-shrink-0",children:st?c.jsxs("div",{className:"bg-yellow-50 border-2 border-yellow-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c.jsx(Sm,{className:"w-5 h-5 text-yellow-600 flex-shrink-0"}),c.jsx("h4",{className:"font-semibold text-gray-900",children:"Chat Locked - Free Tier Limit Reached"})]}),c.jsx("p",{className:"text-sm text-gray-700 mb-3",children:"You can view this paper, but you've used your 2 AI chat papers on the free tier."}),c.jsx("button",{onClick:r,className:"w-full px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors text-sm font-medium",children:"Upgrade to Unlock Chat"})]}):c.jsxs("form",{onSubmit:Ze,className:"flex space-x-2",children:[c.jsx("input",{type:"text",value:x,onChange:oe=>j(oe.target.value),placeholder:"Ask a question...",disabled:z,className:"flex-1 px-3 py-2 border border-gray-300 rounded text-gray-900 placeholder-gray-400 focus:outline-none focus:border-black transition-colors disabled:opacity-50"}),c.jsx("button",{type:"submit",disabled:z||!x.trim(),className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",children:c.jsx(v7,{className:"w-4 h-4"})})]})})]})]})]}):c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-gray-600 mb-4",children:"Exam paper not found"}),c.jsx("button",{onClick:r,className:"px-4 py-2 bg-black text-white rounded hover:bg-gray-800",children:"Go Back"})]})})}function lC({isOpen:e,onClose:t,onSelectPaper:r}){const{user:n}=vn(),[i,s]=F.useState([]),[a,l]=F.useState([]),[o,u]=F.useState([]),[d,h]=F.useState(!0),[m,f]=F.useState("grade"),[y,k]=F.useState(null),[N,v]=F.useState(null),[w,x]=F.useState({});F.useEffect(()=>{e&&(j(),f("grade"),k(null),v(null))},[e]);const j=async()=>{try{h(!0);const[B,H,Z]=await Promise.all([se.from("grade_levels").select("*").order("display_order"),se.from("subjects").select("*").order("name"),se.from("exam_papers").select("id, title, subject_id, grade_level_id").order("title")]);if(B.error)throw B.error;if(H.error)throw H.error;if(Z.error)throw Z.error;if(s(B.data||[]),l(H.data||[]),u(Z.data||[]),n){const{data:ce,error:$}=await se.from("conversations").select("exam_paper_id").eq("user_id",n.id);if($)throw $;const G={};ce==null||ce.forEach(C=>{G[C.exam_paper_id]=!0}),x(G)}}catch(B){console.error("Error fetching data:",B)}finally{h(!1)}},I=B=>{const H=new Set(o.filter(Z=>Z.grade_level_id===B).map(Z=>Z.subject_id));return a.filter(Z=>H.has(Z.id))},_=(B,H)=>o.filter(Z=>Z.subject_id===B&&Z.grade_level_id===H),z=B=>{k(B),v(null),f("subject")},R=B=>{v(B),f("paper")},q=B=>{r(B.id),U()},M=()=>{m==="paper"?(v(null),f("subject")):m==="subject"&&(k(null),f("grade"))},U=()=>{k(null),v(null),f("grade"),t()};if(!e)return null;const L=y?I(y.id):[],te=y&&N?_(N.id,y.id):[];return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[85vh] flex flex-col",children:[c.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[m!=="grade"&&c.jsx("button",{onClick:M,className:"p-1.5 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(c7,{className:"w-5 h-5 text-gray-600"})}),c.jsx("div",{children:c.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[m==="grade"&&"Select Grade Level",m==="subject"&&`Grade ${y==null?void 0:y.name} - Select Subject`,m==="paper"&&`${N==null?void 0:N.name} - Select Paper`]})})]}),c.jsx("button",{onClick:U,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:c.jsx(ws,{className:"w-5 h-5 text-gray-500"})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:d?c.jsxs("div",{className:"flex items-center justify-center h-64",children:[c.jsx(pi,{className:"w-8 h-8 animate-spin text-gray-400 mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Loading..."})]}):c.jsxs(c.Fragment,{children:[m==="grade"&&i.map(B=>c.jsxs("button",{onClick:()=>z(B),className:"w-full text-left px-4 py-4 rounded-lg border-2 border-gray-200 hover:border-black hover:bg-gray-50 transition-all flex items-center justify-between group",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-semibold text-gray-900 text-lg",children:["Grade ",B.name]}),c.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:[I(B.id).length," subjects available"]})]}),c.jsx(xm,{className:"w-5 h-5 text-gray-400 group-hover:text-black transition-colors"})]},B.id)),m==="subject"&&L.map(B=>c.jsxs("button",{onClick:()=>R(B),className:"w-full text-left px-4 py-4 rounded-lg border-2 border-gray-200 hover:border-black hover:bg-gray-50 transition-all flex items-center justify-between group",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-semibold text-gray-900 text-lg",children:B.name}),c.jsxs("p",{className:"text-sm text-gray-500 mt-0.5",children:[_(B.id,y.id).length," papers available"]})]}),c.jsx(xm,{className:"w-5 h-5 text-gray-400 group-hover:text-black transition-colors"})]},B.id)),m==="paper"&&te.map(B=>c.jsxs("button",{onClick:()=>q(B),className:"w-full text-left px-4 py-4 rounded-lg border-2 border-gray-200 hover:border-black hover:bg-gray-50 transition-all flex items-center justify-between group",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ln,{className:"w-5 h-5 text-gray-600"}),c.jsx("p",{className:"font-semibold text-gray-900",children:B.title})]}),w[B.id]&&c.jsx("span",{className:"text-xs text-green-600 font-medium",children:"Continue conversation"})]},B.id))]})}),c.jsx("div",{className:"px-6 py-4 border-t border-gray-200 bg-gray-50",children:c.jsxs("p",{className:"text-xs text-gray-500",children:[m==="grade"&&"Select a grade level to view available subjects",m==="subject"&&"Select a subject to view available exam papers",m==="paper"&&"Select an exam paper to start or continue a conversation"]})})]})})}function oC(){var v,w,x,j,I;const{user:e}=vn(),[t,r]=F.useState([]),[n,i]=F.useState(null),[s,a]=F.useState(!0),[l,o]=F.useState("monthly");F.useEffect(()=>{e&&u()},[e]);const u=async()=>{try{a(!0);const{data:_,error:z}=await se.from("subscription_tiers").select("*").eq("is_active",!0).order("display_order");if(z)throw z;r(_||[]);const{data:R,error:q}=await se.from("user_subscriptions").select(`
          *,
          subscription_tiers (*)
        `).eq("user_id",e.id).eq("status","active").single();if(q&&q.code!=="PGRST116")throw q;i(R||null)}catch(_){console.error("Error fetching subscription data:",_)}finally{a(!1)}},d=_=>l==="monthly"?_.price_monthly:_.price_yearly,h=_=>_===null?"Unlimited":`${(_/1e3).toFixed(0)}K`,m=_=>_===null?"Unlimited":_.toString(),f=_=>(n==null?void 0:n.tier_id)===_,y=_=>{if(!n)return!0;const z=t.find(R=>R.id===n.tier_id);return z?_.display_order>z.display_order:!0},k=_=>{if(!n)return!1;const z=t.find(R=>R.id===n.tier_id);return z?_.display_order<z.display_order:!1},N=_=>{console.log("Selected plan:",_.name,"Billing:",l),alert(`Payment integration coming soon!

Selected: ${_.display_name}
Billing: ${l}
Price: $${d(_)}`)};return s?c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx(pi,{className:"w-8 h-8 animate-spin text-gray-400"})}):c.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[n&&c.jsx("div",{className:"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-6",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:["Current Plan: ",(v=n.subscription_tiers)==null?void 0:v.display_name]}),c.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[c.jsxs("p",{children:["Tokens: ",((w=n.subscription_tiers)==null?void 0:w.token_limit)===null?"Unlimited":`${n.tokens_used_current_period.toLocaleString()} / ${n.subscription_tiers.token_limit.toLocaleString()}`]}),((x=n.subscription_tiers)==null?void 0:x.papers_limit)!==null&&c.jsxs("p",{children:["Papers: ",n.papers_accessed_current_period," / ",n.subscription_tiers.papers_limit]}),c.jsxs("p",{children:["Period: ",new Date(n.period_start_date).toLocaleDateString()," - ",n.period_end_date?new Date(n.period_end_date).toLocaleDateString():"Ongoing"]})]})]}),c.jsxs("div",{className:"flex-shrink-0",children:[((j=n.subscription_tiers)==null?void 0:j.name)==="pro"&&c.jsx(e2,{className:"w-12 h-12 text-yellow-500"}),((I=n.subscription_tiers)==null?void 0:I.name)==="student"&&c.jsx(So,{className:"w-12 h-12 text-blue-500"})]})]})}),c.jsx("div",{className:"flex justify-center mb-8",children:c.jsxs("div",{className:"inline-flex bg-gray-100 rounded-lg p-1",children:[c.jsx("button",{onClick:()=>o("monthly"),className:`px-6 py-2 rounded-lg font-medium transition-colors ${l==="monthly"?"bg-white text-black shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:"Monthly"}),c.jsxs("button",{onClick:()=>o("yearly"),className:`px-6 py-2 rounded-lg font-medium transition-colors ${l==="yearly"?"bg-white text-black shadow-sm":"text-gray-600 hover:text-gray-900"}`,children:["Yearly",c.jsx("span",{className:"ml-2 text-xs bg-green-100 text-green-700 px-2 py-0.5 rounded",children:"Save 17%"})]})]})}),c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(_=>{const z=d(_),R=f(_.id),q=y(_),M=k(_);return c.jsxs("div",{className:`relative bg-white border-2 rounded-xl p-6 ${R?"border-black shadow-lg":_.name==="student"?"border-blue-200":"border-gray-200"}`,children:[_.name==="student"&&c.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2 bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-full",children:"POPULAR"}),R&&c.jsx("div",{className:"absolute -top-3 right-4 bg-black text-white text-xs font-bold px-3 py-1 rounded-full",children:"CURRENT"}),c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:_.display_name}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:_.description}),c.jsxs("div",{className:"flex items-baseline justify-center",children:[c.jsxs("span",{className:"text-4xl font-bold text-gray-900",children:["$",z]}),c.jsxs("span",{className:"text-gray-600 ml-2",children:["/",l==="monthly"?"mo":"yr"]})]})]}),c.jsxs("ul",{className:"space-y-3 mb-6",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx(Ri,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),c.jsxs("span",{className:"text-sm text-gray-700",children:[h(_.token_limit)," tokens/month"]})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(Ri,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),c.jsxs("span",{className:"text-sm text-gray-700",children:[m(_.papers_limit)," exam papers"]})]}),_.can_select_grade&&c.jsxs("li",{className:"flex items-start",children:[c.jsx(Ri,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),c.jsx("span",{className:"text-sm text-gray-700",children:"Choose your grade level"})]}),_.can_select_subjects&&c.jsxs("li",{className:"flex items-start",children:[c.jsx(Ri,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),c.jsxs("span",{className:"text-sm text-gray-700",children:["Up to ",_.max_subjects," subjects"]})]}),_.name==="pro"&&c.jsxs(c.Fragment,{children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx(Ri,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),c.jsx("span",{className:"text-sm text-gray-700",children:"All subjects & grades"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(Ri,{className:"w-5 h-5 text-green-500 mr-2 flex-shrink-0 mt-0.5"}),c.jsx("span",{className:"text-sm text-gray-700",children:"Priority support"})]})]})]}),c.jsx("button",{onClick:()=>N(_),disabled:R,className:`w-full py-3 rounded-lg font-medium transition-colors ${R?"bg-gray-100 text-gray-500 cursor-not-allowed":q?"bg-black text-white hover:bg-gray-800":M?"bg-gray-600 text-white hover:bg-gray-700":"bg-black text-white hover:bg-gray-800"}`,children:R?"Current Plan":q?"Upgrade":M?"Downgrade":z===0?"Get Started":"Select Plan"})]},_.id)})}),c.jsxs("div",{className:"mt-8 text-center text-sm text-gray-600",children:[c.jsx("p",{children:"All plans include AI-powered exam assistance and instant explanations"}),c.jsx("p",{className:"mt-2",children:"Cancel anytime. No hidden fees."})]})]})}function uC({onSelectConversation:e,onSelectPaper:t,onNavigateHome:r}){const{user:n,signOut:i}=vn(),[s,a]=F.useState([]),[l,o]=F.useState(!0),[u,d]=F.useState(null),[h,m]=F.useState(!1),[f,y]=F.useState(!1),[k,N]=F.useState(new Set),[v,w]=F.useState(!0),[x,j]=F.useState({show:!1,conversationId:null});F.useEffect(()=>{n&&I()},[n]);const I=async()=>{if(n)try{o(!0);const{data:B,error:H}=await se.from("conversations").select(`
          id,
          title,
          created_at,
          updated_at,
          exam_paper_id,
          exam_papers (
            title,
            subjects (name),
            grade_levels (name)
          )
        `).eq("user_id",n.id).order("updated_at",{ascending:!1});if(H)throw H;if(a(B||[]),v&&B&&B.length>0){const Z=new Set(B.map(ce=>ce.exam_papers.subjects.name));N(Z),w(!1)}}catch(B){console.error("Error fetching conversations:",B)}finally{o(!1)}},_=B=>{N(H=>{const Z=new Set(H);return Z.has(B)?Z.delete(B):Z.add(B),Z})},z=async(B,H)=>{H.stopPropagation(),j({show:!0,conversationId:B})},R=async()=>{if(x.conversationId)try{const{error:B}=await se.from("conversations").delete().eq("id",x.conversationId);if(B)throw B;u===x.conversationId&&d(null),await I(),j({show:!1,conversationId:null})}catch(B){console.error("Error deleting conversation:",B),j({show:!1,conversationId:null})}},q=()=>{const B={};return s.forEach(H=>{const Z=H.exam_papers.subjects.name;B[Z]||(B[Z]=[]),B[Z].push(H)}),B},M=async()=>{try{await i(),r()}catch(B){console.error("Error signing out:",B)}},U=()=>{m(!0)},L=B=>{m(!1),t(B)},te=q();return c.jsxs(c.Fragment,{children:[c.jsx(Si,{isOpen:x.show,onClose:()=>j({show:!1,conversationId:null}),onConfirm:R,title:"Delete Conversation",message:"Are you sure you want to delete this conversation? This action cannot be undone.",type:"confirm",confirmText:"Delete",cancelText:"Cancel"}),c.jsx(lC,{isOpen:h,onClose:()=>m(!1),onSelectPaper:L}),c.jsxs("div",{className:"h-screen flex flex-col md:flex-row bg-gray-50",children:[c.jsxs("div",{className:"w-full md:w-80 bg-white border-r border-gray-200 flex flex-col",children:[c.jsxs("div",{className:"p-4 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"My Conversations"}),c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx("button",{onClick:()=>y(!0),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Manage subscription",children:c.jsx(e2,{className:"w-5 h-5 text-yellow-600"})}),c.jsx("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Go to homepage",children:c.jsx(f7,{className:"w-5 h-5 text-gray-700"})}),c.jsx("button",{onClick:M,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"Sign out",children:c.jsx(Ic,{className:"w-5 h-5 text-gray-700"})})]})]}),c.jsxs("button",{onClick:U,className:"w-full px-4 py-2.5 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors flex items-center justify-center space-x-2",children:[c.jsx(Ha,{className:"w-4 h-4"}),c.jsx("span",{children:"New Conversation"})]})]}),c.jsx("div",{className:"flex-1 overflow-y-auto",children:l?c.jsx("div",{className:"flex items-center justify-center h-32",children:c.jsx("div",{className:"text-sm text-gray-500",children:"Loading conversations..."})}):s.length===0?c.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-6 text-center",children:[c.jsx(Vn,{className:"w-16 h-16 text-gray-300 mb-4"}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No conversations yet"}),c.jsx("p",{className:"text-sm text-gray-600",children:'Click the "New Conversation" button above to get started'})]}):c.jsx("div",{className:"p-3 space-y-2",children:Object.entries(te).map(([B,H])=>{const Z=k.has(B);return c.jsxs("div",{className:"mb-2",children:[c.jsxs("button",{onClick:()=>_(B),className:"w-full flex items-center justify-between px-3 py-2.5 bg-gradient-to-r from-gray-100 to-gray-50 hover:from-gray-200 hover:to-gray-100 rounded-lg transition-all group",children:[c.jsxs("div",{className:"flex items-center space-x-2.5",children:[c.jsx("div",{className:"p-1.5 bg-white rounded-md shadow-sm",children:c.jsx(Ua,{className:"w-4 h-4 text-gray-700"})}),c.jsxs("div",{className:"text-left",children:[c.jsx("h3",{className:"text-sm font-bold text-gray-900",children:B}),c.jsxs("p",{className:"text-xs text-gray-500",children:[H.length," conversation",H.length!==1?"s":""]})]})]}),c.jsx("svg",{className:`w-5 h-5 text-gray-500 transition-transform duration-200 ${Z?"":"rotate-180"}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),!Z&&c.jsx("div",{className:"mt-1 ml-2 pl-3 border-l-2 border-gray-200 space-y-1",children:H.map(ce=>c.jsx("div",{onClick:()=>{d(ce.id),e(ce.id,ce.exam_paper_id)},className:`group px-3 py-2.5 rounded-lg cursor-pointer transition-all ${u===ce.id?"bg-blue-50 border border-blue-200 shadow-sm":"hover:bg-gray-50 border border-transparent"}`,children:c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsx("div",{className:"flex-1 min-w-0 pr-2",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(ln,{className:`w-3.5 h-3.5 flex-shrink-0 ${u===ce.id?"text-blue-600":"text-gray-500"}`}),c.jsx("p",{className:`text-sm truncate font-medium ${u===ce.id?"text-blue-900":"text-gray-900"}`,children:ce.exam_papers.title})]})}),c.jsx("button",{onClick:$=>z(ce.id,$),className:"opacity-0 group-hover:opacity-100 p-1.5 hover:bg-red-100 rounded transition-all flex-shrink-0",title:"Delete conversation",children:c.jsx(Va,{className:"w-3.5 h-3.5 text-red-600"})})]})},ce.id))})]},B)})})})]}),c.jsx("div",{className:"flex-1 overflow-y-auto bg-gray-50",children:f?c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Manage Subscription"}),c.jsx("button",{onClick:()=>y(!1),className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:"Close"})]}),c.jsx(oC,{})]}):c.jsx("div",{className:"flex items-center justify-center h-full p-6",children:c.jsxs("div",{className:"text-center max-w-md",children:[c.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-white rounded-full shadow-sm mb-6",children:c.jsx(Vn,{className:"w-10 h-10 text-gray-400"})}),c.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-3",children:"Select a conversation"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Choose a conversation from the left to continue, or start a new one by selecting an exam paper"}),c.jsx("button",{onClick:U,className:"px-6 py-3 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Browse Exam Papers"})]})})})]})]})}function Il({onNavigateHome:e,onNavigateAdmin:t,onNavigateLogin:r,onNavigateChatHub:n,onSelectGrade:i,currentView:s,hideSignInButton:a=!1}){const{user:l,profile:o,signOut:u}=vn(),[d,h]=F.useState(!1),[m,f]=F.useState([]),[y,k]=F.useState(!1);F.useEffect(()=>{N()},[]);const N=async()=>{try{const{data:x,error:j}=await se.from("grade_levels").select("*").order("display_order");if(j)throw j;f(x||[])}catch(x){console.error("Error fetching grade levels:",x)}},v=async()=>{try{await u(),h(!1),e()}catch(x){console.error("Error signing out:",x),h(!1),e()}},w=(x,j)=>{i(x,j),h(!1),k(!1)};return c.jsx("nav",{className:"bg-white border-b border-gray-200 sticky top-0 z-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[c.jsxs("div",{className:"flex items-center justify-between h-16",children:[c.jsxs("button",{onClick:e,className:"flex items-center space-x-2 text-gray-900 hover:text-gray-600 transition-colors",children:[c.jsx(Ua,{className:"w-6 h-6"}),c.jsx("span",{className:"font-semibold text-lg hidden sm:inline",children:"Exam Study Assistant"}),c.jsx("span",{className:"font-semibold text-lg sm:hidden",children:"ESA"})]}),c.jsxs("div",{className:"hidden md:flex items-center space-x-1",children:[m.map(x=>c.jsxs("button",{onClick:()=>w(x.id,x.name),className:"px-4 py-2 text-gray-700 hover:text-black hover:bg-gray-50 rounded-lg transition-colors font-medium",children:["Grade ",x.name]},x.id)),c.jsx("div",{className:"w-px h-6 bg-gray-200 mx-2"}),l?c.jsxs(c.Fragment,{children:[n&&c.jsxs("button",{onClick:n,className:"flex items-center space-x-1 px-4 py-2 text-gray-700 hover:text-black hover:bg-gray-50 rounded-lg transition-colors",children:[c.jsx(Vn,{className:"w-4 h-4"}),c.jsx("span",{children:"My Conversations"})]}),(o==null?void 0:o.role)==="admin"&&c.jsxs("button",{onClick:t,className:"flex items-center space-x-1 px-4 py-2 text-gray-700 hover:text-black hover:bg-gray-50 rounded-lg transition-colors",children:[c.jsx(km,{className:"w-4 h-4"}),c.jsx("span",{children:"Admin"})]}),c.jsxs("button",{onClick:v,className:"flex items-center space-x-1 px-4 py-2 text-gray-700 hover:text-black hover:bg-gray-50 rounded-lg transition-colors",children:[c.jsx(Ic,{className:"w-4 h-4"}),c.jsx("span",{children:"Sign Out"})]})]}):a?null:c.jsxs("button",{onClick:r,className:"flex items-center space-x-1 px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:[c.jsx(Pc,{className:"w-4 h-4"}),c.jsx("span",{children:"Sign In"})]})]}),c.jsx("button",{onClick:()=>h(!d),className:"md:hidden p-2 text-gray-700 hover:text-black",children:d?c.jsx(ws,{className:"w-6 h-6"}):c.jsx(m7,{className:"w-6 h-6"})})]}),d&&c.jsx("div",{className:"md:hidden border-t border-gray-200 py-4",children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"border-b border-gray-200 pb-3 mb-3",children:[c.jsxs("button",{onClick:()=>k(!y),className:"w-full flex items-center justify-between px-4 py-2 text-sm font-semibold text-gray-900",children:[c.jsx("span",{children:"Grades"}),c.jsx(u7,{className:`w-4 h-4 transition-transform ${y?"rotate-180":""}`})]}),y&&c.jsx("div",{className:"mt-2 space-y-1",children:m.map(x=>c.jsxs("button",{onClick:()=>w(x.id,x.name),className:"w-full text-left px-6 py-2 text-gray-700 hover:bg-gray-50 hover:text-black transition-colors",children:["Grade ",x.name]},x.id))})]}),l?c.jsxs(c.Fragment,{children:[n&&c.jsxs("button",{onClick:()=>{n(),h(!1)},className:"w-full flex items-center space-x-2 px-4 py-2 text-gray-700 hover:bg-gray-50",children:[c.jsx(Vn,{className:"w-4 h-4"}),c.jsx("span",{children:"My Conversations"})]}),(o==null?void 0:o.role)==="admin"&&c.jsxs("button",{onClick:()=>{t(),h(!1)},className:"w-full flex items-center space-x-2 px-4 py-2 text-gray-700 hover:bg-gray-50",children:[c.jsx(km,{className:"w-4 h-4"}),c.jsx("span",{children:"Admin Dashboard"})]}),c.jsxs("button",{onClick:v,className:"w-full flex items-center space-x-2 px-4 py-2 text-gray-700 hover:bg-gray-50",children:[c.jsx(Ic,{className:"w-4 h-4"}),c.jsx("span",{children:"Sign Out"})]})]}):a?null:c.jsxs("button",{onClick:()=>{r(),h(!1)},className:"w-full flex items-center space-x-2 px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 mx-4",style:{width:"calc(100% - 2rem)"},children:[c.jsx(Pc,{className:"w-4 h-4"}),c.jsx("span",{children:"Sign In"})]})]})})]})})}const hp=["January","February","March","April","May","June","July","August","September","October","November","December"];function cC({onSelectPaper:e}){const[t,r]=F.useState([]),[n,i]=F.useState([]),[s,a]=F.useState([]),[l,o]=F.useState([]),[u,d]=F.useState(!0),[h,m]=F.useState(""),[f,y]=F.useState(""),[k,N]=F.useState(""),[v,w]=F.useState(""),[x,j]=F.useState(""),[I,_]=F.useState(!1);F.useEffect(()=>{z()},[]),F.useEffect(()=>{R()},[t,h,f,k,v,x]);const z=async()=>{try{d(!0);const[L,te,B]=await Promise.all([se.from("exam_papers").select(`
            id,
            title,
            year,
            month,
            subjects (name),
            grade_levels (name)
          `).order("year",{ascending:!1}).order("month",{ascending:!1}),se.from("subjects").select("id, name").order("name"),se.from("grade_levels").select("id, name").order("display_order")]);if(L.error)throw L.error;if(te.error)throw te.error;if(B.error)throw B.error;r(L.data||[]),i(L.data||[]),a(te.data||[]),o(B.data||[])}catch(L){console.error("Error fetching data:",L)}finally{d(!1)}},R=()=>{let L=[...t];if(h){const te=h.toLowerCase();L=L.filter(B=>B.title.toLowerCase().includes(te)||B.subjects.name.toLowerCase().includes(te)||B.grade_levels.name.toLowerCase().includes(te))}f&&(L=L.filter(te=>te.subjects.name===f)),k&&(L=L.filter(te=>te.grade_levels.name===k)),v&&(L=L.filter(te=>te.year.toString()===v)),x&&(L=L.filter(te=>{var B;return((B=te.month)==null?void 0:B.toString())===x})),i(L)},q=()=>{m(""),y(""),N(""),w(""),j("")},M=()=>{const L=new Set(t.map(te=>te.year));return Array.from(L).sort((te,B)=>B-te)},U=[f,k,v,x].filter(Boolean).length;return c.jsx("div",{className:"min-h-screen bg-gray-50",children:c.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-6 sm:py-8",children:[c.jsxs("div",{className:"mb-6 sm:mb-8",children:[c.jsx("h1",{className:"text-3xl sm:text-4xl font-bold text-gray-900 mb-2",children:"Exam Papers"}),c.jsx("p",{className:"text-gray-600 text-sm sm:text-base",children:"Browse and search for exam papers with AI assistance"})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4 mb-6",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[c.jsxs("div",{className:"flex-1 relative",children:[c.jsx(y7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"text",placeholder:"Search by title, subject, or grade...",value:h,onChange:L=>m(L.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:border-black transition-colors"})]}),c.jsxs("button",{onClick:()=>_(!I),className:"flex items-center justify-center space-x-2 px-4 py-2.5 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors relative",children:[c.jsx(h7,{className:"w-5 h-5"}),c.jsx("span",{className:"font-medium",children:"Filters"}),U>0&&c.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-black text-white text-xs rounded-full flex items-center justify-center",children:U})]})]}),I&&c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 mb-3",children:[c.jsxs("select",{value:f,onChange:L=>y(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-black text-sm",children:[c.jsx("option",{value:"",children:"All Subjects"}),s.map(L=>c.jsx("option",{value:L.name,children:L.name},L.id))]}),c.jsxs("select",{value:k,onChange:L=>N(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-black text-sm",children:[c.jsx("option",{value:"",children:"All Grades"}),l.map(L=>c.jsxs("option",{value:L.name,children:["Grade ",L.name]},L.id))]}),c.jsxs("select",{value:v,onChange:L=>w(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-black text-sm",children:[c.jsx("option",{value:"",children:"All Years"}),M().map(L=>c.jsx("option",{value:L,children:L},L))]}),c.jsxs("select",{value:x,onChange:L=>j(L.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-black text-sm",children:[c.jsx("option",{value:"",children:"All Months"}),hp.map((L,te)=>c.jsx("option",{value:te+1,children:L},te+1))]})]}),U>0&&c.jsxs("button",{onClick:q,className:"flex items-center space-x-1 text-sm text-gray-600 hover:text-black transition-colors",children:[c.jsx(ws,{className:"w-4 h-4"}),c.jsx("span",{children:"Clear all filters"})]})]})]}),u?c.jsx("div",{className:"flex items-center justify-center py-20",children:c.jsxs("div",{className:"text-center",children:[c.jsx(pi,{className:"w-8 h-8 animate-spin text-gray-400 mx-auto mb-2"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Loading exam papers..."})]})}):n.length===0?c.jsxs("div",{className:"text-center py-20",children:[c.jsx(ln,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No exam papers found"}),c.jsx("p",{className:"text-gray-500 mb-4",children:h||U>0?"Try adjusting your search or filters":"No exam papers are available yet"}),(h||U>0)&&c.jsx("button",{onClick:q,className:"px-4 py-2 bg-black text-white rounded-lg hover:bg-gray-800 transition-colors",children:"Clear filters"})]}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",n.length," ",n.length===1?"paper":"papers"]}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(L=>c.jsx("button",{onClick:()=>e(L.id),className:"bg-white border-2 border-gray-200 rounded-lg p-4 sm:p-5 hover:border-black hover:shadow-lg transition-all group text-left",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx("div",{className:"p-2 bg-gray-100 rounded-lg group-hover:bg-black transition-colors flex-shrink-0",children:c.jsx(ln,{className:"w-5 h-5 text-gray-600 group-hover:text-white transition-colors"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2 group-hover:text-black line-clamp-2",children:L.title}),c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[c.jsx("span",{className:"font-medium",children:L.subjects.name}),c.jsx("span",{className:"mx-1.5",children:"•"}),c.jsxs("span",{children:["Grade ",L.grade_levels.name]})]}),c.jsxs("div",{className:"flex items-center text-xs text-gray-600",children:[c.jsx(X4,{className:"w-3.5 h-3.5 mr-1"}),c.jsxs("span",{children:[L.month?`${hp[L.month-1]} `:"",L.year]})]})]})]})]})},L.id))})]})]})})}function dC(){const{user:e,profile:t,loading:r}=vn(),[n,i]=F.useState("home"),[s,a]=F.useState(null),[l,o]=F.useState(null),[u,d]=F.useState(!1);F.useEffect(()=>{!r&&!u&&(e&&(t==null?void 0:t.role)!=="admin"&&i("chat-hub"),d(!0))},[r,e,t,u]),F.useEffect(()=>{u&&e&&t&&n==="login"&&(t.role==="admin"?i("admin"):i("chat-hub"))},[e,t,u,n]),F.useEffect(()=>{u&&!e&&!r&&n!=="home"&&n!=="login"&&n!=="papers-browser"&&n!=="exam-viewer"&&i("home")},[e,r,u,n]);const h=x=>{a(x),o(null),i("exam-viewer")},m=(x,j)=>{o(x),a(j),i("exam-viewer")},f=()=>{a(null),o(null),e&&(t==null?void 0:t.role)!=="admin"?i("chat-hub"):i("home")},y=()=>{i("home")},k=()=>{i("login")},N=()=>{i("admin")},v=()=>{i("chat-hub")},w=(x,j)=>{i("papers-browser")};return r?c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-black mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):n==="login"?c.jsxs(c.Fragment,{children:[c.jsx(Il,{onNavigateHome:f,onNavigateAdmin:N,onNavigateLogin:k,onNavigateChatHub:v,onSelectGrade:w,currentView:n,hideSignInButton:!0}),c.jsx(b7,{onLoginSuccess:()=>{}})]}):n==="admin"&&e&&(t==null?void 0:t.role)==="admin"?c.jsxs(c.Fragment,{children:[c.jsx(Il,{onNavigateHome:f,onNavigateAdmin:N,onNavigateLogin:k,onNavigateChatHub:v,onSelectGrade:w,currentView:n}),c.jsx(C7,{})]}):n==="chat-hub"&&e?c.jsx(uC,{onSelectConversation:m,onSelectPaper:h,onNavigateHome:y}):n==="exam-viewer"&&s?c.jsx(aC,{paperId:s,conversationId:l,onBack:f,onLoginRequired:k}):n==="papers-browser"?c.jsxs(c.Fragment,{children:[c.jsx(Il,{onNavigateHome:f,onNavigateAdmin:N,onNavigateLogin:k,onNavigateChatHub:v,onSelectGrade:w,currentView:n}),c.jsx(cC,{onSelectPaper:h})]}):c.jsxs(c.Fragment,{children:[c.jsx(Il,{onNavigateHome:f,onNavigateAdmin:N,onNavigateLogin:k,onNavigateChatHub:v,onSelectGrade:w,currentView:n}),c.jsx(E7,{onGetStarted:k})]})}N4(document.getElementById("root")).render(c.jsx(F.StrictMode,{children:c.jsx(n7,{children:c.jsx(dC,{})})}));
